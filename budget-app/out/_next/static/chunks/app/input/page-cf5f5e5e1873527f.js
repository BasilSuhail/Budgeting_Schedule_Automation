(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{2014:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(5155),n=a(2115),r=a(2619),l=a.n(r);function i(e,t){if(0===e||0===t)return 100;let a=e/t,s=Math.floor(a),n=a-s;return 0===n?100:(s+n)/Math.ceil(a)*100}function c(){var e;let[t,a]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e="true"===localStorage.getItem("darkMode"),t="true"===localStorage.getItem("highContrast");a(e),c(t)},[]);let[o,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(""),[p,y]=(0,n.useState)(new Date().getFullYear().toString()),[b,g]=(0,n.useState)(""),[q,v]=(0,n.useState)(""),[j,N]=(0,n.useState)(""),[f,S]=(0,n.useState)(""),[F,C]=(0,n.useState)(""),[P,w]=(0,n.useState)(""),[U,I]=(0,n.useState)(""),[k,R]=(0,n.useState)(""),[D,E]=(0,n.useState)(""),[Q,T]=(0,n.useState)(""),[B,M]=(0,n.useState)("0"),[W,A]=(0,n.useState)("inflation"),[L,O]=(0,n.useState)(""),[J,Y]=(0,n.useState)(""),[z,G]=(0,n.useState)(""),[_,V]=(0,n.useState)(null),[Z,H]=(0,n.useState)([]),[K,X]=(0,n.useState)(""),[$,ee]=(0,n.useState)(""),[et,ea]=(0,n.useState)(""),[es,en]=(0,n.useState)(""),[er,el]=(0,n.useState)(""),[ei,ec]=(0,n.useState)(""),[eo,ed]=(0,n.useState)(""),[em,eu]=(0,n.useState)(!1),[ex,eh]=(0,n.useState)(""),[ep,ey]=(0,n.useState)(null),[eb,eg]=(0,n.useState)([]),[eq,ev]=(0,n.useState)([{name:"",requiredPerUnit:0,costPerUnit:0,beginningInventory:0,desiredEndingInventoryRatio:0,unit:""}]),[ej,eN]=(0,n.useState)(""),[ef,eS]=(0,n.useState)(""),[eF,eC]=(0,n.useState)(""),[eP,ew]=(0,n.useState)(null),[eU,eI]=(0,n.useState)([]),ek=(e,t,a)=>{let s=[...eq];s[e][t]=a,ev(s)},eR=t?"text-gray-100":"text-[#454545]",eD=t?"text-white":"text-black",eE=t?"bg-[#222] border-gray-700 text-white":"bg-white border-gray-300 text-black",eQ=t?"bg-white text-black hover:bg-gray-200":"bg-black text-white hover:bg-gray-800",eT=t?"border-gray-800":"border-gray-200",eB=r?t?"text-white":"text-black":eR;return(0,s.jsxs)("div",{className:"min-h-screen ".concat(t?"bg-[#111]":"bg-white"," ").concat(eR),children:[(0,s.jsxs)("header",{className:"max-w-5xl mx-auto px-6 py-6 flex justify-between items-center",children:[(0,s.jsx)(l(),{href:"/",className:"text-sm hover:underline ".concat(eR),children:"← Back"}),(0,s.jsx)("h1",{className:"text-xl font-semibold ".concat(eD),children:"Budget Input"}),(0,s.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,s.jsx)("button",{onClick:()=>{let e=!r;c(e),localStorage.setItem("highContrast",String(e))},className:"hover:underline ".concat(t?"text-gray-300":"text-[#454545]"),children:r?"Less contrast":"More contrast"}),(0,s.jsx)("button",{onClick:()=>{let e=!t;a(e),localStorage.setItem("darkMode",String(e))},className:"hover:underline ".concat(t?"text-gray-300":"text-[#454545]"),children:t?"Light mode":"Dark mode"})]})]}),(0,s.jsxs)("main",{className:"max-w-5xl mx-auto px-6 py-12 ".concat(eB),children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(eD),children:"Schedule 1: Sales Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Enter your forecasted sales data"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Company Information"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Company Name"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Type company name",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Product Name"}),(0,s.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Type product name",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Currency"}),(0,s.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Type currency",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Fiscal Year"}),(0,s.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),placeholder:"Type fiscal year",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Prior Year Sales (Optional)"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(eR),children:"Enter last year's sales to see growth comparison. Leave blank if not applicable."}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q1 (Oct-Dec)"}),(0,s.jsx)("input",{type:"number",value:q,onChange:e=>v(e.target.value),placeholder:"800",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q2 (Jan-Mar)"}),(0,s.jsx)("input",{type:"number",value:j,onChange:e=>N(e.target.value),placeholder:"1200",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q3 (Apr-Jun)"}),(0,s.jsx)("input",{type:"number",value:f,onChange:e=>S(e.target.value),placeholder:"1000",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q4 (Jul-Sep)"}),(0,s.jsx)("input",{type:"number",value:F,onChange:e=>C(e.target.value),placeholder:"1100",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]})]}),(0,s.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-8"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(eD),children:"Quick Forecast Calculator"}),(0,s.jsx)("p",{className:"text-xs mb-3 ".concat(eR),children:"Apply a growth rate to prior year sales to auto-calculate current year forecast"}),(0,s.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(eD),children:"Growth Rate (%)"}),(0,s.jsx)("input",{type:"number",step:"0.1",value:z,onChange:e=>G(e.target.value),placeholder:"e.g., 15 for 15% growth",className:"w-full px-3 py-2 border ".concat(eE," text-sm")})]}),(0,s.jsx)("button",{onClick:()=>{let e=parseFloat(z)/100||0,t=parseFloat(q)||0,a=parseFloat(j)||0,s=parseFloat(f)||0,n=parseFloat(F)||0;if(0===t&&0===a&&0===s&&0===n)return void alert("Please enter prior year sales data first");w(String(Math.round(t*(1+e)))),I(String(Math.round(a*(1+e)))),R(String(Math.round(s*(1+e)))),E(String(Math.round(n*(1+e))))},className:"".concat(eQ," font-medium px-6 py-2 text-sm"),children:"Apply to Forecast"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Forecasted Sales (Current Year)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q1 (Oct-Dec)"}),(0,s.jsx)("input",{type:"number",value:P,onChange:e=>w(e.target.value),placeholder:"1000",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q2 (Jan-Mar)"}),(0,s.jsx)("input",{type:"number",value:U,onChange:e=>I(e.target.value),placeholder:"1500",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q3 (Apr-Jun)"}),(0,s.jsx)("input",{type:"number",value:k,onChange:e=>R(e.target.value),placeholder:"1200",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Q4 (Jul-Sep)"}),(0,s.jsx)("input",{type:"number",value:D,onChange:e=>E(e.target.value),placeholder:"1300",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-3 ".concat(eD),children:"Price Adjustment Method"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"priceAdjustment",value:"constant",checked:"constant"===W,onChange:e=>A(e.target.value),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(eR),children:"Constant Price (same across all quarters)"})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"priceAdjustment",value:"inflation",checked:"inflation"===W,onChange:e=>A(e.target.value),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(eR),children:"Inflation-Adjusted Price"})]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:["Selling Price per Unit (",x,")"]}),(0,s.jsx)("input",{type:"number",value:Q,onChange:e=>T(e.target.value),placeholder:"85000",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Inflation Rate (Annual %)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:B,onChange:e=>M(e.target.value),placeholder:"0.15",className:"w-full px-4 py-3 border ".concat(eE," text-base"),disabled:"constant"===W}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"constant"===W?"Disabled when using constant price":"Enter as decimal (e.g., 0.15 for 15%)"})]})]}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Cash vs Credit Sales (Optional)"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(eR),children:"Split sales revenue into cash (collected immediately) and credit (collected later). Required for Schedule 8 (Cash Receipts Budget)."}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Cash Sales Percentage"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:L,onChange:e=>O(e.target.value),placeholder:"0.40",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Enter as decimal (e.g., 0.40 for 40% cash sales)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Credit Sales Percentage"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:J,onChange:e=>Y(e.target.value),placeholder:"0.60",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Enter as decimal (e.g., 0.60 for 60% credit sales)"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Budget Assumptions & Notes (Optional)"}),(0,s.jsx)("textarea",{value:b,onChange:e=>g(e.target.value),placeholder:"e.g., Conservative forecast due to market uncertainty; New market entry in Q3; Based on historical growth trends...",rows:3,className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Document key assumptions for reference"})]}),(0,s.jsx)("button",{onClick:()=>{let e=(parseFloat(q)||0)+(parseFloat(j)||0)+(parseFloat(f)||0)+(parseFloat(F)||0),t=""!==L||""!==J,a={historicalSalesUnits:e>0?{q1:parseFloat(q)||0,q2:parseFloat(j)||0,q3:parseFloat(f)||0,q4:parseFloat(F)||0,yearly:e}:void 0,forecastedSalesUnits:{q1:parseFloat(P)||0,q2:parseFloat(U)||0,q3:parseFloat(k)||0,q4:parseFloat(D)||0,yearly:(parseFloat(P)||0)+(parseFloat(U)||0)+(parseFloat(k)||0)+(parseFloat(D)||0)},sellingPricePerUnit:parseFloat(Q)||0,priceInflationRate:"inflation"===W&&parseFloat(B)||0,cashSalesPercentage:t?parseFloat(L)||0:void 0,creditSalesPercentage:t?parseFloat(J)||0:void 0},s=function(e){let t=[];e.forecastedSalesUnits.q1<0&&t.push("Q1 sales units cannot be negative"),e.forecastedSalesUnits.q2<0&&t.push("Q2 sales units cannot be negative"),e.forecastedSalesUnits.q3<0&&t.push("Q3 sales units cannot be negative"),e.forecastedSalesUnits.q4<0&&t.push("Q4 sales units cannot be negative"),e.sellingPricePerUnit<=0&&t.push("Selling price must be greater than zero"),void 0!==e.priceInflationRate&&0!==e.priceInflationRate&&(e.priceInflationRate<-1&&t.push("Price inflation rate cannot be less than -100%"),e.priceInflationRate>2&&t.push("Price inflation rate seems unrealistic (over 200%)"),e.priceInflationRate>.5&&t.push("WARNING: Inflation rate over 50% is unusually high. Please verify."));let a=e.forecastedSalesUnits.q1+e.forecastedSalesUnits.q2+e.forecastedSalesUnits.q3+e.forecastedSalesUnits.q4;Math.abs(a-e.forecastedSalesUnits.yearly)>.01&&t.push("Yearly total (".concat(e.forecastedSalesUnits.yearly,") does not match sum of quarters (").concat(a,")"));let s=[{name:"Q1",value:e.forecastedSalesUnits.q1},{name:"Q2",value:e.forecastedSalesUnits.q2},{name:"Q3",value:e.forecastedSalesUnits.q3},{name:"Q4",value:e.forecastedSalesUnits.q4}],n=s.filter(e=>0===e.value);if(n.length>0&&a>0&&t.push("WARNING: Zero sales forecasted for ".concat(n.map(e=>e.name).join(", "),". Is this intentional?")),a>0&&s.forEach(e=>{let s=e.value/a*100;s>80&&t.push("WARNING: ".concat(s.toFixed(0),"% of annual sales are in ").concat(e.name,". This is an unusual pattern."))}),void 0!==e.cashSalesPercentage||void 0!==e.creditSalesPercentage){let a=e.cashSalesPercentage||0,s=e.creditSalesPercentage||0;(a<0||a>1)&&t.push("Cash sales percentage must be between 0 and 1 (0% to 100%)"),(s<0||s>1)&&t.push("Credit sales percentage must be between 0 and 1 (0% to 100%)");let n=a+s;Math.abs(n-1)>.01&&t.push("Cash and credit percentages must add up to 100%. Currently: ".concat((100*n).toFixed(1),"%"))}return t}(a);if(s.filter(e=>!e.startsWith("WARNING:")).length>0){H(s),V(null);return}V(function(e,t){let a=[{label:"Expected Sales (Units)",q1:e.salesUnits.q1.toFixed(2),q2:e.salesUnits.q2.toFixed(2),q3:e.salesUnits.q3.toFixed(2),q4:e.salesUnits.q4.toFixed(2),yearly:e.salesUnits.yearly.toFixed(2)},{label:"Selling Price per Unit",q1:e.sellingPrice.q1.toFixed(2),q2:e.sellingPrice.q2.toFixed(2),q3:e.sellingPrice.q3.toFixed(2),q4:e.sellingPrice.q4.toFixed(2),yearly:e.sellingPrice.yearly.toFixed(2)},{label:"Sales Revenue",q1:e.salesRevenue.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.salesRevenue.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.salesRevenue.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.salesRevenue.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.salesRevenue.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}];if(e.cashSales&&e.creditSales&&(a.push({label:"Cash Sales",q1:e.cashSales.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.cashSales.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.cashSales.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.cashSales.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.cashSales.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}),a.push({label:"Credit Sales",q1:e.creditSales.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.creditSales.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.creditSales.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.creditSales.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.creditSales.yearly.toLocaleString("en-US",{minimumFractionDigits:2})})),null==t?void 0:t.historicalSalesUnits){let s=(e,t)=>{if(0===t)return"N/A";let a=(e-t)/t*100;return"".concat(a>=0?"+":"").concat(a.toFixed(1),"%")};a.push({label:"Growth vs Prior Year",q1:s(e.salesUnits.q1,t.historicalSalesUnits.q1),q2:s(e.salesUnits.q2,t.historicalSalesUnits.q2),q3:s(e.salesUnits.q3,t.historicalSalesUnits.q3),q4:s(e.salesUnits.q4,t.historicalSalesUnits.q4),yearly:s(e.salesUnits.yearly,t.historicalSalesUnits.yearly)})}return{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:a,seasonalDistribution:{q1:e.salesUnits.yearly>0?e.salesUnits.q1/e.salesUnits.yearly*100:0,q2:e.salesUnits.yearly>0?e.salesUnits.q2/e.salesUnits.yearly*100:0,q3:e.salesUnits.yearly>0?e.salesUnits.q3/e.salesUnits.yearly*100:0,q4:e.salesUnits.yearly>0?e.salesUnits.q4/e.salesUnits.yearly*100:0}}}(function(e){let t,a,{forecastedSalesUnits:s,sellingPricePerUnit:n,priceInflationRate:r=0,cashSalesPercentage:l,creditSalesPercentage:i}=e,c={q1:n,q2:n*(1+r/4),q3:n*(1+r/4*2),q4:n*(1+r/4*3),yearly:0},o=s.yearly;c.yearly=o>0?(s.q1*c.q1+s.q2*c.q2+s.q3*c.q3+s.q4*c.q4)/o:n;let d={q1:s.q1*c.q1,q2:s.q2*c.q2,q3:s.q3*c.q3,q4:s.q4*c.q4,yearly:0};if(d.yearly=d.q1+d.q2+d.q3+d.q4,void 0!==l||void 0!==i){let e=l||0,s=i||0;t={q1:d.q1*e,q2:d.q2*e,q3:d.q3*e,q4:d.q4*e,yearly:d.yearly*e},a={q1:d.q1*s,q2:d.q2*s,q3:d.q3*s,q4:d.q4*s,yearly:d.yearly*s}}return{salesUnits:s,sellingPrice:c,salesRevenue:d,cashSales:t,creditSales:a}}(a),a)),H(s)},className:"".concat(eQ," font-medium px-8 py-3 text-lg"),children:"Calculate"}),Z.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[Z.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:Z.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),Z.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:Z.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(eD),children:"Results"}),_&&(0,s.jsx)("button",{onClick:()=>{if(!_)return;let e="".concat(o||"Your Company"," - ").concat(m||"Product","\n");e+="Schedule 1: Sales Budget\n",e+="For the Year Ending December 31, ".concat(p,"\n"),e+="Currency: ".concat(x,"\n"),b&&(e+="Assumptions: ".concat(b,"\n")),e+="\n",e+=_.headers.join(",")+"\n",_.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),n=String(t.q3).replace(/,/g,""),r=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(n,",").concat(r,",").concat(l,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","sales-budget-".concat(o.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(eQ," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!_&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Enter data and click Calculate to see your sales budget"}),_&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(eD),children:[(0,s.jsx)("strong",{children:o||"Your Company"})," — ",m||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(eR),children:["For the Year Ending December 31, ",p," | Currency: ",x]}),b&&(0,s.jsxs)("div",{className:"mb-6 p-3 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("p",{className:"text-xs font-semibold mb-1 ".concat(eD),children:"Assumptions & Notes:"}),(0,s.jsx)("p",{className:"text-sm ".concat(eR),children:b})]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:_.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(eD),children:e},t))})}),(0,s.jsx)("tbody",{children:_.rows.map((e,a)=>(0,s.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"," ").concat(a===_.rows.length-1?"font-semibold":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(eD),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),(0,s.jsx)("p",{className:"text-xs mb-8 ".concat(eR),children:'Note: The "Yearly Total" price is the weighted average selling price across all quarters.'}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-3 ".concat(eD),children:"Seasonal Distribution"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(eR),children:"Percentage of annual sales expected in each quarter:"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-4",children:_.seasonalDistribution&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(eR),children:"Q1 (Oct-Dec)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(eD),children:[_.seasonalDistribution.q1.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(eR),children:"Q2 (Jan-Mar)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(eD),children:[_.seasonalDistribution.q2.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(eR),children:"Q3 (Apr-Jun)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(eD),children:[_.seasonalDistribution.q3.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(eR),children:"Q4 (Jul-Sep)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(eD),children:[_.seasonalDistribution.q4.toFixed(1),"%"]})]})]})})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"✓ Sales Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(eD),children:"About the Sales Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Sales Budget is the starting point for the master budget. It shows expected sales in both units and revenue for each quarter and the entire year."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Sales Revenue = Expected Sales Units \xd7 Selling Price per Unit"]}),(0,s.jsx)("hr",{className:"my-16 ".concat(eT)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(eD),children:"Schedule 2: Production Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Determine production volume needed to meet sales demand and maintain inventory levels"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Inventory Policy"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Beginning Inventory (Units)"}),(0,s.jsx)("input",{type:"number",value:K,onChange:e=>X(e.target.value),placeholder:"100",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Opening inventory at start of year"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Desired Ending Inventory Ratio"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:$,onChange:e=>ee(e.target.value),placeholder:"0.10",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Enter as decimal (e.g., 0.10 for 10% of next quarter's sales)"})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("input",{type:"checkbox",id:"useJIT",checked:em,onChange:e=>eu(e.target.checked),className:"mr-3 w-4 h-4"}),(0,s.jsx)("label",{htmlFor:"useJIT",className:"text-sm font-medium ".concat(eD),children:"Use Just-in-Time (JIT) Manufacturing"})]}),(0,s.jsx)("p",{className:"text-xs ".concat(eR," ml-7"),children:"Enable JIT to set ending inventory to zero (production = sales)"})]}),(0,s.jsx)("hr",{className:"my-8 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Optional Enhancements"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(eR),children:"Add production constraints and cost analysis (all optional)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Next Year Q1 Sales Forecast"}),(0,s.jsx)("input",{type:"number",value:et,onChange:e=>ea(e.target.value),placeholder:"Leave blank to use current Q1",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Max Production Capacity/Quarter"}),(0,s.jsx)("input",{type:"number",value:es,onChange:e=>en(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Inventory Carrying Cost/Unit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:eo,onChange:e=>ed(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Minimum Batch Size"}),(0,s.jsx)("input",{type:"number",value:er,onChange:e=>el(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Optimal Batch Size"}),(0,s.jsx)("input",{type:"number",value:ei,onChange:e=>ec(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Obsolescence Risk (%)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ex,onChange:e=>eh(e.target.value),placeholder:"0.05",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Enter as decimal (e.g., 0.05 for 5% risk)"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!_)return void alert("Please calculate Sales Budget first (Schedule 1)");let e={forecastedSalesUnits:{q1:parseFloat(P)||0,q2:parseFloat(U)||0,q3:parseFloat(k)||0,q4:parseFloat(D)||0,yearly:(parseFloat(P)||0)+(parseFloat(U)||0)+(parseFloat(k)||0)+(parseFloat(D)||0)},beginningInventory:parseFloat(K)||0,desiredEndingInventoryRatio:parseFloat($)||0,nextYearQ1ForecastedSales:et?parseFloat(et):void 0,maxProductionCapacityPerQuarter:es?parseFloat(es):void 0,minimumBatchSize:er?parseFloat(er):void 0,optimalBatchSize:ei?parseFloat(ei):void 0,inventoryCarryingCostPerUnit:eo?parseFloat(eo):void 0,useJIT:em,obsolescenceRiskPercentage:ex?parseFloat(ex):void 0},t=function(e){let t=[];return e.forecastedSalesUnits.q1<0&&t.push("Q1 sales units cannot be negative"),e.forecastedSalesUnits.q2<0&&t.push("Q2 sales units cannot be negative"),e.forecastedSalesUnits.q3<0&&t.push("Q3 sales units cannot be negative"),e.forecastedSalesUnits.q4<0&&t.push("Q4 sales units cannot be negative"),e.beginningInventory<0&&t.push("Beginning inventory cannot be negative"),e.desiredEndingInventoryRatio<0&&t.push("Desired ending inventory ratio cannot be negative"),e.desiredEndingInventoryRatio>1&&t.push("WARNING: Ending inventory ratio over 100% is unusually high. This means you plan to hold more than one quarter's sales in stock."),void 0!==e.maxProductionCapacityPerQuarter&&(e.maxProductionCapacityPerQuarter<=0&&t.push("Maximum production capacity must be greater than zero"),[e.forecastedSalesUnits.q1,e.forecastedSalesUnits.q2,e.forecastedSalesUnits.q3,e.forecastedSalesUnits.q4].forEach((a,s)=>{a>e.maxProductionCapacityPerQuarter&&t.push("WARNING: Q".concat(s+1," sales (").concat(a,") exceed production capacity (").concat(e.maxProductionCapacityPerQuarter,"). You may need to build inventory in advance."))})),void 0!==e.minimumBatchSize&&e.minimumBatchSize<=0&&t.push("Minimum batch size must be greater than zero"),void 0!==e.optimalBatchSize&&e.optimalBatchSize<=0&&t.push("Optimal batch size must be greater than zero"),e.minimumBatchSize&&e.optimalBatchSize&&e.minimumBatchSize>e.optimalBatchSize&&t.push("Minimum batch size cannot be greater than optimal batch size"),void 0!==e.inventoryCarryingCostPerUnit&&e.inventoryCarryingCostPerUnit<0&&t.push("Inventory carrying cost cannot be negative"),void 0!==e.obsolescenceRiskPercentage&&(e.obsolescenceRiskPercentage<0||e.obsolescenceRiskPercentage>1)&&t.push("Obsolescence risk percentage must be between 0 and 1 (0% to 100%)"),e.useJIT&&e.desiredEndingInventoryRatio>0&&t.push("WARNING: Just-in-Time (JIT) mode is enabled but inventory ratio is set. JIT will override inventory settings and keep inventory at zero."),t}(e);if(t.filter(e=>!e.startsWith("WARNING:")).length>0){eg(t),ey(null);return}ey(function(e,t){let a=[{label:"Forecasted Sales (Units)",q1:e.salesUnits.q1.toFixed(2),q2:e.salesUnits.q2.toFixed(2),q3:e.salesUnits.q3.toFixed(2),q4:e.salesUnits.q4.toFixed(2),yearly:e.salesUnits.yearly.toFixed(2)},{label:"Add: Desired Ending Inventory",q1:e.desiredEndingInventory.q1.toFixed(2),q2:e.desiredEndingInventory.q2.toFixed(2),q3:e.desiredEndingInventory.q3.toFixed(2),q4:e.desiredEndingInventory.q4.toFixed(2),yearly:e.desiredEndingInventory.yearly.toFixed(2)},{label:"Total Units Required",q1:e.totalUnitsRequired.q1.toFixed(2),q2:e.totalUnitsRequired.q2.toFixed(2),q3:e.totalUnitsRequired.q3.toFixed(2),q4:e.totalUnitsRequired.q4.toFixed(2),yearly:e.totalUnitsRequired.yearly.toFixed(2)},{label:"Less: Beginning Inventory",q1:e.beginningInventory.q1.toFixed(2),q2:e.beginningInventory.q2.toFixed(2),q3:e.beginningInventory.q3.toFixed(2),q4:e.beginningInventory.q4.toFixed(2),yearly:e.beginningInventory.yearly.toFixed(2)},{label:"Required Production",q1:e.requiredProduction.q1.toFixed(2),q2:e.requiredProduction.q2.toFixed(2),q3:e.requiredProduction.q3.toFixed(2),q4:e.requiredProduction.q4.toFixed(2),yearly:e.requiredProduction.yearly.toFixed(2)}];return e.capacityUtilization&&a.push({label:"Capacity Utilization (%)",q1:e.capacityUtilization.q1.toFixed(1)+"%",q2:e.capacityUtilization.q2.toFixed(1)+"%",q3:e.capacityUtilization.q3.toFixed(1)+"%",q4:e.capacityUtilization.q4.toFixed(1)+"%",yearly:e.capacityUtilization.yearly.toFixed(1)+"%"}),e.productionEfficiency&&a.push({label:"Production Efficiency (%)",q1:e.productionEfficiency.q1.toFixed(1)+"%",q2:e.productionEfficiency.q2.toFixed(1)+"%",q3:e.productionEfficiency.q3.toFixed(1)+"%",q4:e.productionEfficiency.q4.toFixed(1)+"%",yearly:e.productionEfficiency.yearly.toFixed(1)+"%"}),{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:a,inventoryCarryingCost:e.inventoryCarryingCost,obsolescenceCost:e.obsolescenceCost,notes:(null==t?void 0:t.nextYearQ1ForecastedSales)?"Note: Q4 ending inventory is based on next year's Q1 forecasted sales of ".concat(t.nextYearQ1ForecastedSales," units."):"Note: Q4 ending inventory is based on current year Q1 sales (assuming similar demand pattern next year)."}}(function(e){let t,a,s,n,r,{forecastedSalesUnits:l,beginningInventory:c,desiredEndingInventoryRatio:o,nextYearQ1ForecastedSales:d,maxProductionCapacityPerQuarter:m,minimumBatchSize:u,optimalBatchSize:x,inventoryCarryingCostPerUnit:h,useJIT:p=!1,obsolescenceRiskPercentage:y}=e,b={q1:p?0:l.q2*o,q2:p?0:l.q3*o,q3:p?0:l.q4*o,q4:p?0:(d||l.q1)*o,yearly:0};b.yearly=b.q4;let g={q1:c,q2:b.q1,q3:b.q2,q4:b.q3,yearly:c},q={q1:l.q1+b.q1,q2:l.q2+b.q2,q3:l.q3+b.q3,q4:l.q4+b.q4,yearly:0};q.yearly=q.q1+q.q2+q.q3+q.q4;let v={q1:q.q1-g.q1,q2:q.q2-g.q2,q3:q.q3-g.q3,q4:q.q4-g.q4,yearly:0};return v.yearly=v.q1+v.q2+v.q3+v.q4,(u||x)&&(v=t=function(e,t,a){let s=e=>{if(!t&&!a)return e;let s=a||t||e;return Math.ceil(e/s)*s},n={q1:s(e.q1),q2:s(e.q2),q3:s(e.q3),q4:s(e.q4),yearly:0};return n.yearly=n.q1+n.q2+n.q3+n.q4,n}(v,u,x)),m&&(a={q1:v.q1/m*100,q2:v.q2/m*100,q3:v.q3/m*100,q4:v.q4/m*100,yearly:v.yearly/(4*m)*100}),h&&((s={q1:b.q1*h,q2:b.q2*h,q3:b.q3*h,q4:b.q4*h,yearly:0}).yearly=s.q1+s.q2+s.q3+s.q4),y&&h&&((n={q1:b.q1*h*y,q2:b.q2*h*y,q3:b.q3*h*y,q4:b.q4*h*y,yearly:0}).yearly=n.q1+n.q2+n.q3+n.q4),x&&(r={q1:i(v.q1,x),q2:i(v.q2,x),q3:i(v.q3,x),q4:i(v.q4,x),yearly:i(v.yearly,4*x)}),{salesUnits:l,desiredEndingInventory:b,totalUnitsRequired:q,beginningInventory:g,requiredProduction:v,capacityUtilization:a,inventoryCarryingCost:s,batchAdjustments:t,obsolescenceCost:n,productionEfficiency:r}}(e),e)),eg(t)},className:"".concat(eQ," font-medium px-8 py-3 text-lg"),children:"Calculate Production Budget"}),eb.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[eb.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:eb.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),eb.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:eb.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(eD),children:"Production Budget Results"}),ep&&(0,s.jsx)("button",{onClick:()=>{if(!ep)return;let e="".concat(o||"Your Company"," - ").concat(m||"Product","\n");e+="Schedule 2: Production Budget\n",e+="For the Year Ending December 31, ".concat(p,"\n"),e+="\n",e+=ep.headers.join(",")+"\n",ep.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),n=String(t.q3).replace(/,/g,""),r=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(n,",").concat(r,",").concat(l,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","production-budget-".concat(o.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(eQ," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!ep&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter production data and click Calculate Production Budget"}),ep&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(eD),children:[(0,s.jsx)("strong",{children:o||"Your Company"})," — ",m||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(eR),children:["For the Year Ending December 31, ",p]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:ep.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(eD),children:e},t))})}),(0,s.jsx)("tbody",{children:ep.rows.map((e,a)=>(0,s.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"," ").concat(a===ep.rows.length-1?"font-semibold":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(eD),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),ep.notes&&(0,s.jsxs)("p",{className:"text-xs mb-6 ".concat(eR," italic"),children:["* ",ep.notes]}),ep.inventoryCarryingCost&&(0,s.jsxs)("div",{className:"mb-6 p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 ".concat(eD),children:"Inventory Carrying Cost"}),(0,s.jsxs)("p",{className:"text-xs ".concat(eR),children:["Q1: ",ep.inventoryCarryingCost.q1.toFixed(2)," | Q2: ",ep.inventoryCarryingCost.q2.toFixed(2)," | Q3: ",ep.inventoryCarryingCost.q3.toFixed(2)," | Q4: ",ep.inventoryCarryingCost.q4.toFixed(2)," | Yearly: ",ep.inventoryCarryingCost.yearly.toFixed(2)]})]}),ep.obsolescenceCost&&(0,s.jsxs)("div",{className:"mb-6 p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 ".concat(eD),children:"Obsolescence Cost"}),(0,s.jsxs)("p",{className:"text-xs ".concat(eR),children:["Q1: ",ep.obsolescenceCost.q1.toFixed(2)," | Q2: ",ep.obsolescenceCost.q2.toFixed(2)," | Q3: ",ep.obsolescenceCost.q3.toFixed(2)," | Q4: ",ep.obsolescenceCost.q4.toFixed(2)," | Yearly: ",ep.obsolescenceCost.yearly.toFixed(2)]})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"✓ Production Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(eD),children:"About the Production Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Production Budget determines how many units must be produced to meet sales demand while maintaining desired inventory levels."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Units to Produce = Sales + Desired Ending Inventory - Beginning Inventory"]}),(0,s.jsx)("hr",{className:"my-16 ".concat(eT)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(eD),children:"Schedule 3: Direct Material Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate raw material requirements and purchase costs for production"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Materials"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(eR),children:"Add all raw materials required for production. You can add multiple materials (e.g., fabric, poles, etc.)"}),eq.map((e,a)=>(0,s.jsxs)("div",{className:"mb-8 p-6 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h4",{className:"text-lg font-semibold ".concat(eD),children:["Material ",a+1]}),eq.length>1&&(0,s.jsx)("button",{onClick:()=>(e=>{if(1===eq.length)return void alert("You must have at least one material");ev(eq.filter((t,a)=>a!==e))})(a),className:"text-sm ".concat(t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"),children:"Remove"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Material Name"}),(0,s.jsx)("input",{type:"text",value:e.name,onChange:e=>ek(a,"name",e.target.value),placeholder:"e.g., Tent Fabric",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Unit of Measure"}),(0,s.jsx)("input",{type:"text",value:e.unit,onChange:e=>ek(a,"unit",e.target.value),placeholder:"e.g., yards, kg, liters",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Required per Unit Produced"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.requiredPerUnit,onChange:e=>ek(a,"requiredPerUnit",e.target.value),placeholder:"4.0",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:["Cost per Unit (",x,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.costPerUnit,onChange:e=>ek(a,"costPerUnit",e.target.value),placeholder:"5.00",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Beginning Inventory"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.beginningInventory,onChange:e=>ek(a,"beginningInventory",e.target.value),placeholder:"600",className:"w-full px-4 py-3 border ".concat(eE," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Ending Inventory Ratio"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.desiredEndingInventoryRatio,onChange:e=>ek(a,"desiredEndingInventoryRatio",e.target.value),placeholder:"0.10",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"Enter as decimal (e.g., 0.10 for 10% of next quarter's needs)"})]})]}),(0,s.jsxs)("details",{className:"mt-4",children:[(0,s.jsx)("summary",{className:"text-sm font-medium cursor-pointer ".concat(eD," hover:underline"),children:"Optional Enhancements (click to expand)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Scrap/Waste %"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.scrapWastePercentage||"",onChange:e=>ek(a,"scrapWastePercentage",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.05",className:"w-full px-3 py-2 border ".concat(eE," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(eR),children:"e.g., 0.05 for 5% waste"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Price Inflation Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.priceInflationRate||"",onChange:e=>ek(a,"priceInflationRate",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.02",className:"w-full px-3 py-2 border ".concat(eE," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(eR),children:"Quarterly rate (e.g., 0.02 for 2%)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Bulk Discount Threshold"}),(0,s.jsx)("input",{type:"number",value:e.bulkDiscountThreshold||"",onChange:e=>ek(a,"bulkDiscountThreshold",e.target.value?parseFloat(e.target.value):void 0),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(eE," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Bulk Discount Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.bulkDiscountRate||"",onChange:e=>ek(a,"bulkDiscountRate",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.10",className:"w-full px-3 py-2 border ".concat(eE," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(eR),children:"e.g., 0.10 for 10% discount"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Supplier Lead Time (days)"}),(0,s.jsx)("input",{type:"number",value:e.supplierLeadTimeDays||"",onChange:e=>ek(a,"supplierLeadTimeDays",e.target.value?parseInt(e.target.value):void 0),placeholder:"30",className:"w-full px-3 py-2 border ".concat(eE," text-sm")})]}),(0,s.jsxs)("div",{className:"flex items-center pt-6",children:[(0,s.jsx)("input",{type:"checkbox",id:"jit-".concat(a),checked:e.useJIT||!1,onChange:e=>ek(a,"useJIT",e.target.checked),className:"mr-2 w-4 h-4"}),(0,s.jsx)("label",{htmlFor:"jit-".concat(a),className:"text-sm ".concat(eD),children:"Use JIT (no ending inventory)"})]})]})]})]},a)),(0,s.jsx)("button",{onClick:()=>{ev([...eq,{name:"",requiredPerUnit:0,costPerUnit:0,beginningInventory:0,desiredEndingInventoryRatio:0,unit:""}])},className:"".concat(t?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-200 text-black hover:bg-gray-300"," font-medium px-6 py-2 text-sm mb-8"),children:"+ Add Another Material"}),(0,s.jsx)("hr",{className:"my-8 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(eD),children:"Payment Terms (Optional)"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(eR),children:"Specify when material purchases are paid (used for cash disbursement calculations)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"Next Year Q1 Production"}),(0,s.jsx)("input",{type:"number",value:ej,onChange:e=>eN(e.target.value),placeholder:"Leave blank to use current Q1",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"For Q4 ending inventory calculation"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"% Paid in Current Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ef,onChange:e=>eS(e.target.value),placeholder:"0.60",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"e.g., 0.60 for 60% paid immediately"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(eD),children:"% Paid in Next Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:eF,onChange:e=>eC(e.target.value),placeholder:"0.40",className:"w-full px-4 py-3 border ".concat(eE," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(eR),children:"e.g., 0.40 for 40% paid next quarter"})]})]}),(0,s.jsx)("button",{onClick:()=>{var e;if(!ep)return void alert("Please calculate Production Budget first (Schedule 2)");let t={q1:parseFloat(P)||0,q2:parseFloat(U)||0,q3:parseFloat(k)||0,q4:parseFloat(D)||0,yearly:(parseFloat(P)||0)+(parseFloat(U)||0)+(parseFloat(k)||0)+(parseFloat(D)||0)};if(null==ep?void 0:ep.rows){let e=ep.rows.find(e=>"Required Production"===e.label);e&&(t.q1=parseFloat(String(e.q1).replace(/,/g,""))||0,t.q2=parseFloat(String(e.q2).replace(/,/g,""))||0,t.q3=parseFloat(String(e.q3).replace(/,/g,""))||0,t.q4=parseFloat(String(e.q4).replace(/,/g,""))||0,t.yearly=parseFloat(String(e.yearly).replace(/,/g,""))||0)}let a={unitsToBeProduced:t,nextYearQ1Production:ej?parseFloat(ej):void 0,materials:eq.map(e=>({...e,requiredPerUnit:"string"==typeof e.requiredPerUnit?parseFloat(e.requiredPerUnit)||0:e.requiredPerUnit,costPerUnit:"string"==typeof e.costPerUnit?parseFloat(e.costPerUnit)||0:e.costPerUnit,beginningInventory:"string"==typeof e.beginningInventory?parseFloat(e.beginningInventory)||0:e.beginningInventory,desiredEndingInventoryRatio:"string"==typeof e.desiredEndingInventoryRatio?parseFloat(e.desiredEndingInventoryRatio)||0:e.desiredEndingInventoryRatio})),percentPaidInCurrentQuarter:ef?parseFloat(ef):void 0,percentPaidInNextQuarter:eF?parseFloat(eF):void 0},s=function(e){let t=[];if(e.unitsToBeProduced.q1<0&&t.push("Q1 production units cannot be negative"),e.unitsToBeProduced.q2<0&&t.push("Q2 production units cannot be negative"),e.unitsToBeProduced.q3<0&&t.push("Q3 production units cannot be negative"),e.unitsToBeProduced.q4<0&&t.push("Q4 production units cannot be negative"),!e.materials||0===e.materials.length)return t.push("At least one material type must be specified"),t;if(e.materials.forEach((a,s)=>{let n=e.materials.length>1?'Material "'.concat(a.name,'": '):"";a.name&&""!==a.name.trim()||t.push("".concat(n,"Material name cannot be empty")),a.requiredPerUnit<=0&&t.push("".concat(n,"Material required per unit must be greater than zero")),a.costPerUnit<=0&&t.push("".concat(n,"Cost per unit must be greater than zero")),a.beginningInventory<0&&t.push("".concat(n,"Beginning inventory cannot be negative")),a.desiredEndingInventoryRatio<0&&t.push("".concat(n,"Ending inventory ratio cannot be negative")),a.desiredEndingInventoryRatio>1&&t.push("WARNING: ".concat(n,"Ending inventory ratio over 100% is unusually high")),void 0!==a.scrapWastePercentage&&((a.scrapWastePercentage<0||a.scrapWastePercentage>.5)&&t.push("".concat(n,"Scrap/waste percentage should be between 0% and 50%")),a.scrapWastePercentage>.2&&t.push("WARNING: ".concat(n,"Scrap/waste over 20% is very high. Consider process improvements."))),void 0!==a.priceInflationRate&&(a.priceInflationRate<-.5||a.priceInflationRate>1)&&t.push("".concat(n,"Price inflation rate seems unrealistic")),void 0!==a.bulkDiscountThreshold&&void 0!==a.bulkDiscountRate&&(a.bulkDiscountThreshold<=0&&t.push("".concat(n,"Bulk discount threshold must be greater than zero")),(a.bulkDiscountRate<0||a.bulkDiscountRate>.5)&&t.push("".concat(n,"Bulk discount rate should be between 0% and 50%"))),void 0!==a.supplierLeadTimeDays&&a.supplierLeadTimeDays<0&&t.push("".concat(n,"Supplier lead time cannot be negative")),a.useJIT&&a.desiredEndingInventoryRatio>0&&t.push("WARNING: ".concat(n,"JIT is enabled but ending inventory ratio is set. JIT will override inventory settings."))}),void 0!==e.percentPaidInCurrentQuarter||void 0!==e.percentPaidInNextQuarter){let a=e.percentPaidInCurrentQuarter||0,s=e.percentPaidInNextQuarter||0;(a<0||a>1)&&t.push("Percent paid in current quarter must be between 0 and 1"),(s<0||s>1)&&t.push("Percent paid in next quarter must be between 0 and 1");let n=a+s;Math.abs(n-1)>.01&&t.push("Payment percentages must add up to 100%. Currently: ".concat((100*n).toFixed(1),"%"))}return t}(a);if(s.filter(e=>!e.startsWith("WARNING:")).length>0){eI(s),ew(null);return}ew({headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],materialSections:(e=function(e){var t,a,s;let n,r,l,{unitsToBeProduced:i,nextYearQ1Production:c,materials:o,percentPaidInCurrentQuarter:d,percentPaidInNextQuarter:m}=e,u=[],x=[];o.forEach(e=>{let t=function(e,t,a){let s,n,{requiredPerUnit:r,costPerUnit:l,beginningInventory:i,desiredEndingInventoryRatio:c,scrapWastePercentage:o,useJIT:d,priceInflationRate:m,bulkDiscountThreshold:u,bulkDiscountRate:x}=e,h=1+(o||0),p={q1:t.q1*r*h,q2:t.q2*r*h,q3:t.q3*r*h,q4:t.q4*r*h,yearly:t.yearly*r*h},y=t.q2,b=t.q3,g=t.q4,q=a||t.q1,v={q1:d?0:y*r*h*c,q2:d?0:b*r*h*c,q3:d?0:g*r*h*c,q4:d?0:q*r*h*c,yearly:0};v.yearly=v.q4;let j={q1:p.q1+v.q1,q2:p.q2+v.q2,q3:p.q3+v.q3,q4:p.q4+v.q4,yearly:0};j.yearly=j.q1+j.q2+j.q3+j.q4;let N={q1:i,q2:v.q1,q3:v.q2,q4:v.q3,yearly:i},f={q1:j.q1-N.q1,q2:j.q2-N.q2,q3:j.q3-N.q3,q4:j.q4-N.q4,yearly:0};f.yearly=f.q1+f.q2+f.q3+f.q4;let S=function(e,t,a,s,n){let r=(t||0)/4,l={q1:e,q2:e*(1+r),q3:e*(1+2*r),q4:e*(1+3*r),yearly:0};a&&s&&(n.q1>=a&&(l.q1*=1-s),n.q2>=a&&(l.q2*=1-s),n.q3>=a&&(l.q3*=1-s),n.q4>=a&&(l.q4*=1-s));let i=n.q1+n.q2+n.q3+n.q4;return i>0?l.yearly=(n.q1*l.q1+n.q2*l.q2+n.q3*l.q3+n.q4*l.q4)/i:l.yearly=e,l}(l,m,u,x,f),F={q1:f.q1*S.q1,q2:f.q2*S.q2,q3:f.q3*S.q3,q4:f.q4*S.q4,yearly:0};if(F.yearly=F.q1+F.q2+F.q3+F.q4,o&&o>0){let e={q1:t.q1*r*o,q2:t.q2*r*o,q3:t.q3*r*o,q4:t.q4*r*o,yearly:0};e.yearly=e.q1+e.q2+e.q3+e.q4,s={q1:e.q1*l,q2:e.q2*l,q3:e.q3*l,q4:e.q4*l,yearly:e.yearly*l}}u&&x&&((n={q1:f.q1>=u?f.q1*l*x:0,q2:f.q2>=u?f.q2*l*x:0,q3:f.q3>=u?f.q3*l*x:0,q4:f.q4>=u?f.q4*l*x:0,yearly:0}).yearly=n.q1+n.q2+n.q3+n.q4);let C=(i+v.yearly)/2,P=C>0?p.yearly/C:void 0;return{name:e.name,unit:e.unit,productionNeeds:t,materialRequiredForProduction:p,desiredEndingInventory:v,totalMaterialRequired:j,beginningInventory:N,materialToBePurchased:f,costPerUnit:S,totalPurchaseCost:F,scrapWasteCost:s,bulkDiscountSavings:n,inventoryTurnoverRatio:P,daysInventoryOutstanding:P?365/P:void 0}}(e,i,c);u.push(t),t.scrapWasteCost&&(n||(n={q1:0,q2:0,q3:0,q4:0,yearly:0}),n.q1+=t.scrapWasteCost.q1,n.q2+=t.scrapWasteCost.q2,n.q3+=t.scrapWasteCost.q3,n.q4+=t.scrapWasteCost.q4,n.yearly+=t.scrapWasteCost.yearly),t.bulkDiscountSavings&&(r||(r={q1:0,q2:0,q3:0,q4:0,yearly:0}),r.q1+=t.bulkDiscountSavings.q1,r.q2+=t.bulkDiscountSavings.q2,r.q3+=t.bulkDiscountSavings.q3,r.q4+=t.bulkDiscountSavings.q4,r.yearly+=t.bulkDiscountSavings.yearly),t.inventoryTurnoverRatio&&t.inventoryTurnoverRatio<4&&x.push("".concat(e.name," (low turnover: ").concat(t.inventoryTurnoverRatio.toFixed(1),"x)")),t.daysInventoryOutstanding&&t.daysInventoryOutstanding>90&&x.push("".concat(e.name," (high inventory days: ").concat(t.daysInventoryOutstanding.toFixed(0),")"))});let h={q1:u.reduce((e,t)=>e+t.totalPurchaseCost.q1,0),q2:u.reduce((e,t)=>e+t.totalPurchaseCost.q2,0),q3:u.reduce((e,t)=>e+t.totalPurchaseCost.q3,0),q4:u.reduce((e,t)=>e+t.totalPurchaseCost.q4,0),yearly:0};h.yearly=h.q1+h.q2+h.q3+h.q4,void 0!==d&&void 0!==m&&(t=h,a=d,s=m,l={q1:t.q4*s+t.q1*a,q2:t.q1*s+t.q2*a,q3:t.q2*s+t.q3*a,q4:t.q3*s+t.q4*a,yearly:t.yearly});let p=function(e){let t=e.map(e=>e.inventoryTurnoverRatio).filter(e=>void 0!==e);if(0!==t.length)return t.reduce((e,t)=>e+t,0)/t.length}(u);return{materials:u,totalMaterialPurchaseCost:h,cashDisbursements:l,totalScrapWasteCost:n,totalBulkDiscountSavings:r,overallInventoryTurnover:p,criticalMaterials:x.length>0?x:void 0}}(a)).materials.map(e=>{let t=[{label:"Units to be produced",q1:e.productionNeeds.q1.toFixed(0),q2:e.productionNeeds.q2.toFixed(0),q3:e.productionNeeds.q3.toFixed(0),q4:e.productionNeeds.q4.toFixed(0),yearly:e.productionNeeds.yearly.toFixed(0)},{label:"".concat(e.unit.charAt(0).toUpperCase()+e.unit.slice(1)," required per unit"),q1:(e.materialRequiredForProduction.q1/e.productionNeeds.q1||0).toFixed(2),q2:(e.materialRequiredForProduction.q2/e.productionNeeds.q2||0).toFixed(2),q3:(e.materialRequiredForProduction.q3/e.productionNeeds.q3||0).toFixed(2),q4:(e.materialRequiredForProduction.q4/e.productionNeeds.q4||0).toFixed(2),q5:(e.materialRequiredForProduction.yearly/e.productionNeeds.yearly||0).toFixed(2)},{label:"Material required for production (".concat(e.unit,")"),q1:e.materialRequiredForProduction.q1.toFixed(2),q2:e.materialRequiredForProduction.q2.toFixed(2),q3:e.materialRequiredForProduction.q3.toFixed(2),q4:e.materialRequiredForProduction.q4.toFixed(2),yearly:e.materialRequiredForProduction.yearly.toFixed(2)},{label:"Add: Desired ending inventory (".concat(e.unit,")"),q1:e.desiredEndingInventory.q1.toFixed(2),q2:e.desiredEndingInventory.q2.toFixed(2),q3:e.desiredEndingInventory.q3.toFixed(2),q4:e.desiredEndingInventory.q4.toFixed(2),yearly:e.desiredEndingInventory.yearly.toFixed(2)},{label:"Total material required (".concat(e.unit,")"),q1:e.totalMaterialRequired.q1.toFixed(2),q2:e.totalMaterialRequired.q2.toFixed(2),q3:e.totalMaterialRequired.q3.toFixed(2),q4:e.totalMaterialRequired.q4.toFixed(2),yearly:e.totalMaterialRequired.yearly.toFixed(2)},{label:"Less: Beginning inventory (".concat(e.unit,")"),q1:e.beginningInventory.q1.toFixed(2),q2:e.beginningInventory.q2.toFixed(2),q3:e.beginningInventory.q3.toFixed(2),q4:e.beginningInventory.q4.toFixed(2),yearly:e.beginningInventory.yearly.toFixed(2)},{label:"Material to be purchased (".concat(e.unit,")"),q1:e.materialToBePurchased.q1.toFixed(2),q2:e.materialToBePurchased.q2.toFixed(2),q3:e.materialToBePurchased.q3.toFixed(2),q4:e.materialToBePurchased.q4.toFixed(2),yearly:e.materialToBePurchased.yearly.toFixed(2)},{label:"Cost per ".concat(e.unit),q1:e.costPerUnit.q1.toFixed(2),q2:e.costPerUnit.q2.toFixed(2),q3:e.costPerUnit.q3.toFixed(2),q4:e.costPerUnit.q4.toFixed(2),yearly:e.costPerUnit.yearly.toFixed(2)},{label:"Total purchase cost",q1:e.totalPurchaseCost.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.totalPurchaseCost.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.totalPurchaseCost.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.totalPurchaseCost.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.totalPurchaseCost.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}];return{name:e.name,unit:e.unit,rows:t,scrapWasteCost:e.scrapWasteCost,bulkDiscountSavings:e.bulkDiscountSavings,inventoryTurnoverRatio:e.inventoryTurnoverRatio,daysInventoryOutstanding:e.daysInventoryOutstanding}}),totalRow:{label:"Total raw material purchases",q1:e.totalMaterialPurchaseCost.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.totalMaterialPurchaseCost.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.totalMaterialPurchaseCost.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.totalMaterialPurchaseCost.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.totalMaterialPurchaseCost.yearly.toLocaleString("en-US",{minimumFractionDigits:2})},cashDisbursements:e.cashDisbursements,totalScrapWasteCost:e.totalScrapWasteCost,totalBulkDiscountSavings:e.totalBulkDiscountSavings,overallInventoryTurnover:e.overallInventoryTurnover,criticalMaterials:e.criticalMaterials}),eI(s)},className:"".concat(eQ," font-medium px-8 py-3 text-lg"),children:"Calculate Material Budget"}),eU.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[eU.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:eU.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),eU.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:eU.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(eD),children:"Material Budget Results"}),eP&&(0,s.jsx)("button",{onClick:()=>{var e;if(!eP)return;let t="".concat(o||"Your Company"," - ").concat(m||"Product","\n");t+="Schedule 3: Direct Material Budget\n",t+="For the Year Ending December 31, ".concat(p,"\n\n"),null==(e=eP.materials)||e.forEach(e=>{t+="Material: ".concat(e.name," (").concat(e.unit,")\n"),t+=e.headers.join(",")+"\n",e.rows.forEach(e=>{let a=String(e.q1).replace(/,/g,""),s=String(e.q2).replace(/,/g,""),n=String(e.q3).replace(/,/g,""),r=String(e.q4).replace(/,/g,""),l=String(e.yearly).replace(/,/g,"");t+='"'.concat(e.label,'",').concat(a,",").concat(s,",").concat(n,",").concat(r,",").concat(l,"\n")}),t+="\n"}),eP.summary&&(t+="Total Material Purchase Cost\n",t+=eP.summary.headers.join(",")+"\n",eP.summary.rows.forEach(e=>{let a=String(e.q1).replace(/,/g,""),s=String(e.q2).replace(/,/g,""),n=String(e.q3).replace(/,/g,""),r=String(e.q4).replace(/,/g,""),l=String(e.yearly).replace(/,/g,"");t+='"'.concat(e.label,'",').concat(a,",").concat(s,",").concat(n,",").concat(r,",").concat(l,"\n")}));let a=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),n=URL.createObjectURL(a);s.setAttribute("href",n),s.setAttribute("download","direct-material-budget-".concat(o.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"".concat(eQ," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!eP&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter material data and click Calculate Material Budget"}),eP&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(eD),children:[(0,s.jsx)("strong",{children:o||"Your Company"})," — ",m||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(eR),children:["For the Year Ending December 31, ",p]}),null==(e=eP.materials)?void 0:e.map((e,a)=>(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h4",{className:"text-xl font-semibold mb-4 ".concat(eD),children:[e.name," (",e.unit,")"]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:e.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(eD),children:e},t))})}),(0,s.jsx)("tbody",{children:e.rows.map((e,a)=>(0,s.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(eD),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),(e.inventoryTurnoverRatio||e.daysInventoryOutstanding)&&(0,s.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," text-sm mb-4"),children:[e.inventoryTurnoverRatio&&(0,s.jsxs)("p",{className:eR,children:[(0,s.jsx)("strong",{children:"Inventory Turnover:"})," ",e.inventoryTurnoverRatio.toFixed(2),"x annually"]}),e.daysInventoryOutstanding&&(0,s.jsxs)("p",{className:eR,children:[(0,s.jsx)("strong",{children:"Days Inventory Outstanding:"})," ",e.daysInventoryOutstanding.toFixed(0)," days"]})]})]},a)),eP.summary&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(eD),children:"Total Material Purchase Cost"}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:eP.summary.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(eD),children:e},t))})}),(0,s.jsx)("tbody",{children:eP.summary.rows.map((e,a)=>(0,s.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"," font-semibold"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(eD),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.yearly})]},a))})]})})]}),eP.analytics&&(0,s.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(eD),children:"Analytics"}),eP.analytics.overallInventoryTurnover&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(eR),children:[(0,s.jsx)("strong",{children:"Overall Inventory Turnover:"})," ",eP.analytics.overallInventoryTurnover.toFixed(2),"x annually"]}),eP.analytics.totalScrapWasteCost&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(eR),children:[(0,s.jsx)("strong",{children:"Total Scrap/Waste Cost:"})," ",x," ",eP.analytics.totalScrapWasteCost.toFixed(2)]}),eP.analytics.totalBulkDiscountSavings&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(eR),children:[(0,s.jsx)("strong",{children:"Total Bulk Discount Savings:"})," ",x," ",eP.analytics.totalBulkDiscountSavings.toFixed(2)]}),eP.analytics.criticalMaterials&&eP.analytics.criticalMaterials.length>0&&(0,s.jsxs)("p",{className:"text-sm ".concat(t?"text-yellow-400":"text-yellow-700"),children:[(0,s.jsx)("strong",{children:"⚠ Critical Materials (low turnover):"})," ",eP.analytics.criticalMaterials.join(", ")]})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"✓ Direct Material Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(eT)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(eD),children:"About the Direct Material Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Direct Material Budget calculates the quantity and cost of raw materials needed for production. It ensures adequate materials are available while managing inventory costs."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Material to Purchase = (Production Needs \xd7 Material per Unit + Desired Ending Inventory) - Beginning Inventory"]})]}),(0,s.jsxs)("footer",{className:"max-w-5xl mx-auto px-6 py-12 border-t ".concat(eT," text-sm ").concat("text-gray-500"),children:[(0,s.jsx)("p",{children:"Built with Next.js, TypeScript, and Tailwind CSS"}),(0,s.jsx)("p",{className:"mt-2",children:"\xa9 2025 Budget Automation System"})]})]})}},7178:(e,t,a)=>{Promise.resolve().then(a.bind(a,2014))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=7178)),_N_E=e.O()}]);