(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{6423:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var s=a(5155),r=a(2115),n=a(2619),l=a.n(n);function i(e){let t,a,{forecastedSalesUnits:s,sellingPricePerUnit:r,priceInflationRate:n=0,cashSalesPercentage:l,creditSalesPercentage:i}=e,o={q1:r,q2:r*(1+n/4),q3:r*(1+n/4*2),q4:r*(1+n/4*3),yearly:0},c=s.yearly;o.yearly=c>0?(s.q1*o.q1+s.q2*o.q2+s.q3*o.q3+s.q4*o.q4)/c:r;let d={q1:s.q1*o.q1,q2:s.q2*o.q2,q3:s.q3*o.q3,q4:s.q4*o.q4,yearly:0};if(d.yearly=d.q1+d.q2+d.q3+d.q4,void 0!==l||void 0!==i){let e=l||0,s=i||0;t={q1:d.q1*e,q2:d.q2*e,q3:d.q3*e,q4:d.q4*e,yearly:d.yearly*e},a={q1:d.q1*s,q2:d.q2*s,q3:d.q3*s,q4:d.q4*s,yearly:d.yearly*s}}return{salesUnits:s,sellingPrice:o,salesRevenue:d,cashSales:t,creditSales:a}}function o(e,t){let a=[{label:"Expected Sales (Units)",q1:e.salesUnits.q1.toFixed(2),q2:e.salesUnits.q2.toFixed(2),q3:e.salesUnits.q3.toFixed(2),q4:e.salesUnits.q4.toFixed(2),yearly:e.salesUnits.yearly.toFixed(2)},{label:"Selling Price per Unit",q1:e.sellingPrice.q1.toFixed(2),q2:e.sellingPrice.q2.toFixed(2),q3:e.sellingPrice.q3.toFixed(2),q4:e.sellingPrice.q4.toFixed(2),yearly:e.sellingPrice.yearly.toFixed(2)},{label:"Sales Revenue",q1:e.salesRevenue.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.salesRevenue.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.salesRevenue.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.salesRevenue.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.salesRevenue.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}];if(e.cashSales&&e.creditSales&&(a.push({label:"Cash Sales",q1:e.cashSales.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.cashSales.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.cashSales.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.cashSales.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.cashSales.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}),a.push({label:"Credit Sales",q1:e.creditSales.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.creditSales.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.creditSales.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.creditSales.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.creditSales.yearly.toLocaleString("en-US",{minimumFractionDigits:2})})),null==t?void 0:t.historicalSalesUnits){let s=(e,t)=>{if(0===t)return"N/A";let a=(e-t)/t*100;return"".concat(a>=0?"+":"").concat(a.toFixed(1),"%")};a.push({label:"Growth vs Prior Year",q1:s(e.salesUnits.q1,t.historicalSalesUnits.q1),q2:s(e.salesUnits.q2,t.historicalSalesUnits.q2),q3:s(e.salesUnits.q3,t.historicalSalesUnits.q3),q4:s(e.salesUnits.q4,t.historicalSalesUnits.q4),yearly:s(e.salesUnits.yearly,t.historicalSalesUnits.yearly)})}return{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:a,seasonalDistribution:{q1:e.salesUnits.yearly>0?e.salesUnits.q1/e.salesUnits.yearly*100:0,q2:e.salesUnits.yearly>0?e.salesUnits.q2/e.salesUnits.yearly*100:0,q3:e.salesUnits.yearly>0?e.salesUnits.q3/e.salesUnits.yearly*100:0,q4:e.salesUnits.yearly>0?e.salesUnits.q4/e.salesUnits.yearly*100:0}}}function c(e){let t,a,s,r,n,{forecastedSalesUnits:l,beginningInventory:i,desiredEndingInventoryRatio:o,nextYearQ1ForecastedSales:c,maxProductionCapacityPerQuarter:u,minimumBatchSize:m,optimalBatchSize:x,inventoryCarryingCostPerUnit:p,useJIT:h=!1,obsolescenceRiskPercentage:q}=e,b={q1:h?0:l.q2*o,q2:h?0:l.q3*o,q3:h?0:l.q4*o,q4:h?0:(c||l.q1)*o,yearly:0};b.yearly=b.q4;let y={q1:i,q2:b.q1,q3:b.q2,q4:b.q3,yearly:i},g={q1:l.q1+b.q1,q2:l.q2+b.q2,q3:l.q3+b.q3,q4:l.q4+b.q4,yearly:0};g.yearly=g.q1+g.q2+g.q3+g.q4;let v={q1:g.q1-y.q1,q2:g.q2-y.q2,q3:g.q3-y.q3,q4:g.q4-y.q4,yearly:0};return v.yearly=v.q1+v.q2+v.q3+v.q4,(m||x)&&(v=t=function(e,t,a){let s=e=>{if(!t&&!a)return e;let s=a||t||e;return Math.ceil(e/s)*s},r={q1:s(e.q1),q2:s(e.q2),q3:s(e.q3),q4:s(e.q4),yearly:0};return r.yearly=r.q1+r.q2+r.q3+r.q4,r}(v,m,x)),u&&(a={q1:v.q1/u*100,q2:v.q2/u*100,q3:v.q3/u*100,q4:v.q4/u*100,yearly:v.yearly/(4*u)*100}),p&&((s={q1:b.q1*p,q2:b.q2*p,q3:b.q3*p,q4:b.q4*p,yearly:0}).yearly=s.q1+s.q2+s.q3+s.q4),q&&p&&((r={q1:b.q1*p*q,q2:b.q2*p*q,q3:b.q3*p*q,q4:b.q4*p*q,yearly:0}).yearly=r.q1+r.q2+r.q3+r.q4),x&&(n={q1:d(v.q1,x),q2:d(v.q2,x),q3:d(v.q3,x),q4:d(v.q4,x),yearly:d(v.yearly,4*x)}),{salesUnits:l,desiredEndingInventory:b,totalUnitsRequired:g,beginningInventory:y,requiredProduction:v,capacityUtilization:a,inventoryCarryingCost:s,batchAdjustments:t,obsolescenceCost:r,productionEfficiency:n}}function d(e,t){if(0===e||0===t)return 100;let a=e/t,s=Math.floor(a),r=a-s;return 0===r?100:(s+r)/Math.ceil(a)*100}function u(e,t){let a=[{label:"Forecasted Sales (Units)",q1:e.salesUnits.q1.toFixed(2),q2:e.salesUnits.q2.toFixed(2),q3:e.salesUnits.q3.toFixed(2),q4:e.salesUnits.q4.toFixed(2),yearly:e.salesUnits.yearly.toFixed(2)},{label:"Add: Desired Ending Inventory",q1:e.desiredEndingInventory.q1.toFixed(2),q2:e.desiredEndingInventory.q2.toFixed(2),q3:e.desiredEndingInventory.q3.toFixed(2),q4:e.desiredEndingInventory.q4.toFixed(2),yearly:e.desiredEndingInventory.yearly.toFixed(2)},{label:"Total Units Required",q1:e.totalUnitsRequired.q1.toFixed(2),q2:e.totalUnitsRequired.q2.toFixed(2),q3:e.totalUnitsRequired.q3.toFixed(2),q4:e.totalUnitsRequired.q4.toFixed(2),yearly:e.totalUnitsRequired.yearly.toFixed(2)},{label:"Less: Beginning Inventory",q1:e.beginningInventory.q1.toFixed(2),q2:e.beginningInventory.q2.toFixed(2),q3:e.beginningInventory.q3.toFixed(2),q4:e.beginningInventory.q4.toFixed(2),yearly:e.beginningInventory.yearly.toFixed(2)},{label:"Required Production",q1:e.requiredProduction.q1.toFixed(2),q2:e.requiredProduction.q2.toFixed(2),q3:e.requiredProduction.q3.toFixed(2),q4:e.requiredProduction.q4.toFixed(2),yearly:e.requiredProduction.yearly.toFixed(2)}];return e.capacityUtilization&&a.push({label:"Capacity Utilization (%)",q1:e.capacityUtilization.q1.toFixed(1)+"%",q2:e.capacityUtilization.q2.toFixed(1)+"%",q3:e.capacityUtilization.q3.toFixed(1)+"%",q4:e.capacityUtilization.q4.toFixed(1)+"%",yearly:e.capacityUtilization.yearly.toFixed(1)+"%"}),e.productionEfficiency&&a.push({label:"Production Efficiency (%)",q1:e.productionEfficiency.q1.toFixed(1)+"%",q2:e.productionEfficiency.q2.toFixed(1)+"%",q3:e.productionEfficiency.q3.toFixed(1)+"%",q4:e.productionEfficiency.q4.toFixed(1)+"%",yearly:e.productionEfficiency.yearly.toFixed(1)+"%"}),{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:a,inventoryCarryingCost:e.inventoryCarryingCost,obsolescenceCost:e.obsolescenceCost,notes:(null==t?void 0:t.nextYearQ1ForecastedSales)?"Note: Q4 ending inventory is based on next year's Q1 forecasted sales of ".concat(t.nextYearQ1ForecastedSales," units."):"Note: Q4 ending inventory is based on current year Q1 sales (assuming similar demand pattern next year)."}}function m(e){var t,a,s;let r,n,l,{unitsToBeProduced:i,nextYearQ1Production:o,materials:c,percentPaidInCurrentQuarter:d,percentPaidInNextQuarter:u}=e,m=[],x=[];c.forEach(e=>{let t=function(e,t,a){let s,r,{requiredPerUnit:n,costPerUnit:l,beginningInventory:i,desiredEndingInventoryRatio:o,scrapWastePercentage:c,useJIT:d,priceInflationRate:u,bulkDiscountThreshold:m,bulkDiscountRate:x}=e,p=1+(c||0),h={q1:t.q1*n*p,q2:t.q2*n*p,q3:t.q3*n*p,q4:t.q4*n*p,yearly:t.yearly*n*p},q=t.q2,b=t.q3,y=t.q4,g=a||t.q1,v={q1:d?0:q*n*p*o,q2:d?0:b*n*p*o,q3:d?0:y*n*p*o,q4:d?0:g*n*p*o,yearly:0};v.yearly=v.q4;let f={q1:h.q1+v.q1,q2:h.q2+v.q2,q3:h.q3+v.q3,q4:h.q4+v.q4,yearly:0};f.yearly=f.q1+f.q2+f.q3+f.q4;let j={q1:i,q2:v.q1,q3:v.q2,q4:v.q3,yearly:i},N={q1:f.q1-j.q1,q2:f.q2-j.q2,q3:f.q3-j.q3,q4:f.q4-j.q4,yearly:0};N.yearly=N.q1+N.q2+N.q3+N.q4;let C=function(e,t,a,s,r){let n=(t||0)/4,l={q1:e,q2:e*(1+n),q3:e*(1+2*n),q4:e*(1+3*n),yearly:0};a&&s&&(r.q1>=a&&(l.q1*=1-s),r.q2>=a&&(l.q2*=1-s),r.q3>=a&&(l.q3*=1-s),r.q4>=a&&(l.q4*=1-s));let i=r.q1+r.q2+r.q3+r.q4;return i>0?l.yearly=(r.q1*l.q1+r.q2*l.q2+r.q3*l.q3+r.q4*l.q4)/i:l.yearly=e,l}(l,u,m,x,N),S={q1:N.q1*C.q1,q2:N.q2*C.q2,q3:N.q3*C.q3,q4:N.q4*C.q4,yearly:0};if(S.yearly=S.q1+S.q2+S.q3+S.q4,c&&c>0){let e={q1:t.q1*n*c,q2:t.q2*n*c,q3:t.q3*n*c,q4:t.q4*n*c,yearly:0};e.yearly=e.q1+e.q2+e.q3+e.q4,s={q1:e.q1*l,q2:e.q2*l,q3:e.q3*l,q4:e.q4*l,yearly:e.yearly*l}}m&&x&&((r={q1:N.q1>=m?N.q1*l*x:0,q2:N.q2>=m?N.q2*l*x:0,q3:N.q3>=m?N.q3*l*x:0,q4:N.q4>=m?N.q4*l*x:0,yearly:0}).yearly=r.q1+r.q2+r.q3+r.q4);let P=(i+v.yearly)/2,w=P>0?h.yearly/P:void 0;return{name:e.name,unit:e.unit,productionNeeds:t,materialRequiredForProduction:h,desiredEndingInventory:v,totalMaterialRequired:f,beginningInventory:j,materialToBePurchased:N,costPerUnit:C,totalPurchaseCost:S,scrapWasteCost:s,bulkDiscountSavings:r,inventoryTurnoverRatio:w,daysInventoryOutstanding:w?365/w:void 0}}(e,i,o);m.push(t),t.scrapWasteCost&&(r||(r={q1:0,q2:0,q3:0,q4:0,yearly:0}),r.q1+=t.scrapWasteCost.q1,r.q2+=t.scrapWasteCost.q2,r.q3+=t.scrapWasteCost.q3,r.q4+=t.scrapWasteCost.q4,r.yearly+=t.scrapWasteCost.yearly),t.bulkDiscountSavings&&(n||(n={q1:0,q2:0,q3:0,q4:0,yearly:0}),n.q1+=t.bulkDiscountSavings.q1,n.q2+=t.bulkDiscountSavings.q2,n.q3+=t.bulkDiscountSavings.q3,n.q4+=t.bulkDiscountSavings.q4,n.yearly+=t.bulkDiscountSavings.yearly),t.inventoryTurnoverRatio&&t.inventoryTurnoverRatio<4&&x.push("".concat(e.name," (low turnover: ").concat(t.inventoryTurnoverRatio.toFixed(1),"x)")),t.daysInventoryOutstanding&&t.daysInventoryOutstanding>90&&x.push("".concat(e.name," (high inventory days: ").concat(t.daysInventoryOutstanding.toFixed(0),")"))});let p={q1:m.reduce((e,t)=>e+t.totalPurchaseCost.q1,0),q2:m.reduce((e,t)=>e+t.totalPurchaseCost.q2,0),q3:m.reduce((e,t)=>e+t.totalPurchaseCost.q3,0),q4:m.reduce((e,t)=>e+t.totalPurchaseCost.q4,0),yearly:0};p.yearly=p.q1+p.q2+p.q3+p.q4,void 0!==d&&void 0!==u&&(t=p,a=d,s=u,l={q1:t.q4*s+t.q1*a,q2:t.q1*s+t.q2*a,q3:t.q2*s+t.q3*a,q4:t.q3*s+t.q4*a,yearly:t.yearly});let h=function(e){let t=e.map(e=>e.inventoryTurnoverRatio).filter(e=>void 0!==e);if(0!==t.length)return t.reduce((e,t)=>e+t,0)/t.length}(m);return{materials:m,totalMaterialPurchaseCost:p,cashDisbursements:l,totalScrapWasteCost:r,totalBulkDiscountSavings:n,overallInventoryTurnover:h,criticalMaterials:x.length>0?x:void 0}}function x(e){var t,a;let s=e.materials.map(e=>{let t=[{label:"Units to be produced",q1:e.productionNeeds.q1.toFixed(0),q2:e.productionNeeds.q2.toFixed(0),q3:e.productionNeeds.q3.toFixed(0),q4:e.productionNeeds.q4.toFixed(0),yearly:e.productionNeeds.yearly.toFixed(0)},{label:"".concat(e.unit.charAt(0).toUpperCase()+e.unit.slice(1)," required per unit"),q1:(e.materialRequiredForProduction.q1/e.productionNeeds.q1||0).toFixed(2),q2:(e.materialRequiredForProduction.q2/e.productionNeeds.q2||0).toFixed(2),q3:(e.materialRequiredForProduction.q3/e.productionNeeds.q3||0).toFixed(2),q4:(e.materialRequiredForProduction.q4/e.productionNeeds.q4||0).toFixed(2),yearly:(e.materialRequiredForProduction.yearly/e.productionNeeds.yearly||0).toFixed(2)},{label:"Material required for production (".concat(e.unit,")"),q1:e.materialRequiredForProduction.q1.toFixed(2),q2:e.materialRequiredForProduction.q2.toFixed(2),q3:e.materialRequiredForProduction.q3.toFixed(2),q4:e.materialRequiredForProduction.q4.toFixed(2),yearly:e.materialRequiredForProduction.yearly.toFixed(2)},{label:"Add: Desired ending inventory (".concat(e.unit,")"),q1:e.desiredEndingInventory.q1.toFixed(2),q2:e.desiredEndingInventory.q2.toFixed(2),q3:e.desiredEndingInventory.q3.toFixed(2),q4:e.desiredEndingInventory.q4.toFixed(2),yearly:e.desiredEndingInventory.yearly.toFixed(2)},{label:"Total material required (".concat(e.unit,")"),q1:e.totalMaterialRequired.q1.toFixed(2),q2:e.totalMaterialRequired.q2.toFixed(2),q3:e.totalMaterialRequired.q3.toFixed(2),q4:e.totalMaterialRequired.q4.toFixed(2),yearly:e.totalMaterialRequired.yearly.toFixed(2)},{label:"Less: Beginning inventory (".concat(e.unit,")"),q1:e.beginningInventory.q1.toFixed(2),q2:e.beginningInventory.q2.toFixed(2),q3:e.beginningInventory.q3.toFixed(2),q4:e.beginningInventory.q4.toFixed(2),yearly:e.beginningInventory.yearly.toFixed(2)},{label:"Material to be purchased (".concat(e.unit,")"),q1:e.materialToBePurchased.q1.toFixed(2),q2:e.materialToBePurchased.q2.toFixed(2),q3:e.materialToBePurchased.q3.toFixed(2),q4:e.materialToBePurchased.q4.toFixed(2),yearly:e.materialToBePurchased.yearly.toFixed(2)},{label:"Cost per ".concat(e.unit),q1:e.costPerUnit.q1.toFixed(2),q2:e.costPerUnit.q2.toFixed(2),q3:e.costPerUnit.q3.toFixed(2),q4:e.costPerUnit.q4.toFixed(2),yearly:e.costPerUnit.yearly.toFixed(2)},{label:"Total purchase cost",q1:e.totalPurchaseCost.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.totalPurchaseCost.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.totalPurchaseCost.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.totalPurchaseCost.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.totalPurchaseCost.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}];return{name:e.name,unit:e.unit,rows:t,scrapWasteCost:e.scrapWasteCost,bulkDiscountSavings:e.bulkDiscountSavings,inventoryTurnoverRatio:e.inventoryTurnoverRatio,daysInventoryOutstanding:e.daysInventoryOutstanding}}),r={label:"Total raw material purchases",q1:e.totalMaterialPurchaseCost.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.totalMaterialPurchaseCost.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.totalMaterialPurchaseCost.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.totalMaterialPurchaseCost.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.totalMaterialPurchaseCost.yearly.toLocaleString("en-US",{minimumFractionDigits:2})};return{materials:s.map(e=>({...e,headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"]})),summary:{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:[r]},analytics:{overallInventoryTurnover:e.overallInventoryTurnover,totalScrapWasteCost:null==(t=e.totalScrapWasteCost)?void 0:t.yearly,totalBulkDiscountSavings:null==(a=e.totalBulkDiscountSavings)?void 0:a.yearly,criticalMaterials:e.criticalMaterials},cashDisbursements:e.cashDisbursements}}function p(e){let{unitsToBeProduced:t}=e;return e.laborCategories&&e.laborCategories.length>0?function(e){let t,a,{unitsToBeProduced:s,laborCategories:r}=e,n=[],l={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0};r.forEach(t=>{let a={q1:s.q1*t.hoursPerUnit,q2:s.q2*t.hoursPerUnit,q3:s.q3*t.hoursPerUnit,q4:s.q4*t.hoursPerUnit,yearly:s.yearly*t.hoursPerUnit},r={q1:t.wageRatePerHour,q2:t.wageRatePerHour*(1+(e.wageInflationRate||0)),q3:t.wageRatePerHour*Math.pow(1+(e.wageInflationRate||0),2),q4:t.wageRatePerHour*Math.pow(1+(e.wageInflationRate||0),3),yearly:0};r.yearly=(r.q1*a.q1+r.q2*a.q2+r.q3*a.q3+r.q4*a.q4)/a.yearly||0;let o={q1:a.q1*r.q1,q2:a.q2*r.q2,q3:a.q3*r.q3,q4:a.q4*r.q4,yearly:0};o.yearly=o.q1+o.q2+o.q3+o.q4,n.push({name:t.name,hoursRequired:a,wageRate:r,laborCost:o}),l.q1+=a.q1,l.q2+=a.q2,l.q3+=a.q3,l.q4+=a.q4,l.yearly+=a.yearly,i.q1+=o.q1,i.q2+=o.q2,i.q3+=o.q3,i.q4+=o.q4,i.yearly+=o.yearly});let o={q1:l.q1>0?i.q1/l.q1:0,q2:l.q2>0?i.q2/l.q2:0,q3:l.q3>0?i.q3/l.q3:0,q4:l.q4>0?i.q4/l.q4:0,yearly:l.yearly>0?i.yearly/l.yearly:0};e.fringeBenefitRate&&e.fringeBenefitRate>0&&((t={q1:i.q1*e.fringeBenefitRate,q2:i.q2*e.fringeBenefitRate,q3:i.q3*e.fringeBenefitRate,q4:i.q4*e.fringeBenefitRate,yearly:0}).yearly=t.q1+t.q2+t.q3+t.q4,(a={q1:i.q1+t.q1,q2:i.q2+t.q2,q3:i.q3+t.q3,q4:i.q4+t.q4,yearly:0}).yearly=a.q1+a.q2+a.q3+a.q4);let c={q1:s.q1>0?i.q1/s.q1:0,q2:s.q2>0?i.q2/s.q2:0,q3:s.q3>0?i.q3/s.q3:0,q4:s.q4>0?i.q4/s.q4:0,yearly:s.yearly>0?i.yearly/s.yearly:0};return{productionUnits:s,totalLaborHoursRequired:l,averageLaborRate:o,totalLaborCost:i,laborCategories:n,fringeBenefitCost:t,totalCostIncludingBenefits:a,laborCostPerUnit:c}}(e):function(e){let t,a,s,r,n,l,i,o,c,{unitsToBeProduced:d,directLaborHoursPerUnit:u,hourlyWageRate:m}=e,x={q1:d.q1*u,q2:d.q2*u,q3:d.q3*u,q4:d.q4*u,yearly:d.yearly*u};if(e.productivityEfficiencyRate&&e.productivityEfficiencyRate<1){let t=1/e.productivityEfficiencyRate;x.q1*=t,x.q2*=t,x.q3*=t,x.q4*=t,x.yearly*=t}let p={q1:m,q2:m*(1+(e.wageInflationRate||0)),q3:m*Math.pow(1+(e.wageInflationRate||0),2),q4:m*Math.pow(1+(e.wageInflationRate||0),3),yearly:0};if(p.yearly=(p.q1*x.q1+p.q2*x.q2+p.q3*x.q3+p.q4*x.q4)/x.yearly||0,e.overtimeThreshold&&e.overtimeThreshold>0){let r=e.overtimeThreshold,n=e.overtimeMultiplier||1.5;(t={q1:Math.min(x.q1,r),q2:Math.min(x.q2,r),q3:Math.min(x.q3,r),q4:Math.min(x.q4,r),yearly:0}).yearly=t.q1+t.q2+t.q3+t.q4,(a={q1:Math.max(0,x.q1-r),q2:Math.max(0,x.q2-r),q3:Math.max(0,x.q3-r),q4:Math.max(0,x.q4-r),yearly:0}).yearly=a.q1+a.q2+a.q3+a.q4,(s={q1:a.q1*p.q1*n,q2:a.q2*p.q2*n,q3:a.q3*p.q3*n,q4:a.q4*p.q4*n,yearly:0}).yearly=s.q1+s.q2+s.q3+s.q4}let h={q1:0,q2:0,q3:0,q4:0,yearly:0};if(t&&a&&s?(h.q1=t.q1*p.q1+s.q1,h.q2=t.q2*p.q2+s.q2,h.q3=t.q3*p.q3+s.q3,h.q4=t.q4*p.q4+s.q4):(h.q1=x.q1*p.q1,h.q2=x.q2*p.q2,h.q3=x.q3*p.q3,h.q4=x.q4*p.q4),h.yearly=h.q1+h.q2+h.q3+h.q4,e.fringeBenefitRate&&e.fringeBenefitRate>0&&((r={q1:h.q1*e.fringeBenefitRate,q2:h.q2*e.fringeBenefitRate,q3:h.q3*e.fringeBenefitRate,q4:h.q4*e.fringeBenefitRate,yearly:0}).yearly=r.q1+r.q2+r.q3+r.q4,(n={q1:h.q1+r.q1,q2:h.q2+r.q2,q3:h.q3+r.q3,q4:h.q4+r.q4,yearly:0}).yearly=n.q1+n.q2+n.q3+n.q4),e.averageHoursPerEmployee&&e.averageHoursPerEmployee>0&&(l={q1:x.q1/e.averageHoursPerEmployee,q2:x.q2/e.averageHoursPerEmployee,q3:x.q3/e.averageHoursPerEmployee,q4:x.q4/e.averageHoursPerEmployee,yearly:x.yearly/(4*e.averageHoursPerEmployee)},e.turnoverRate&&e.trainingCostPerEmployee)){let t=e.turnoverRate/4;(i={q1:l.q1*t*e.trainingCostPerEmployee,q2:l.q2*t*e.trainingCostPerEmployee,q3:l.q3*t*e.trainingCostPerEmployee,q4:l.q4*t*e.trainingCostPerEmployee,yearly:0}).yearly=i.q1+i.q2+i.q3+i.q4,o=i}let q={q1:d.q1>0?h.q1/d.q1:0,q2:d.q2>0?h.q2/d.q2:0,q3:d.q3>0?h.q3/d.q3:0,q4:d.q4>0?h.q4/d.q4:0,yearly:d.yearly>0?h.yearly/d.yearly:0};return e.productivityEfficiencyRate&&(c={q1:e.productivityEfficiencyRate,q2:e.productivityEfficiencyRate,q3:e.productivityEfficiencyRate,q4:e.productivityEfficiencyRate,yearly:e.productivityEfficiencyRate}),{productionUnits:d,totalLaborHoursRequired:x,averageLaborRate:p,totalLaborCost:h,regularHours:t,overtimeHours:a,overtimeCost:s,fringeBenefitCost:r,totalCostIncludingBenefits:n,averageEmployeesNeeded:l,turnoverCost:i,trainingCost:o,laborCostPerUnit:q,productivityRate:c}}(e)}function h(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=["Description","Q1","Q2","Q3","Q4","Yearly"];if(e.laborCategories&&e.laborCategories.length>0){let s=e.laborCategories.map(e=>{let s=[{label:"Hours Required - ".concat(e.name),q1:t(e.hoursRequired.q1),q2:t(e.hoursRequired.q2),q3:t(e.hoursRequired.q3),q4:t(e.hoursRequired.q4),yearly:t(e.hoursRequired.yearly)},{label:"Wage Rate per Hour - ".concat(e.name),q1:t(e.wageRate.q1),q2:t(e.wageRate.q2),q3:t(e.wageRate.q3),q4:t(e.wageRate.q4),yearly:t(e.wageRate.yearly)},{label:"Labor Cost - ".concat(e.name),q1:t(e.laborCost.q1),q2:t(e.laborCost.q2),q3:t(e.laborCost.q3),q4:t(e.laborCost.q4),yearly:t(e.laborCost.yearly)}];return{categoryName:e.name,headers:a,rows:s}}),r=[{label:"Units to be Produced",q1:t(e.productionUnits.q1),q2:t(e.productionUnits.q2),q3:t(e.productionUnits.q3),q4:t(e.productionUnits.q4),yearly:t(e.productionUnits.yearly)},{label:"Total Direct-Labor Hours",q1:t(e.totalLaborHoursRequired.q1),q2:t(e.totalLaborHoursRequired.q2),q3:t(e.totalLaborHoursRequired.q3),q4:t(e.totalLaborHoursRequired.q4),yearly:t(e.totalLaborHoursRequired.yearly)},{label:"Average Labor Rate per Hour",q1:t(e.averageLaborRate.q1),q2:t(e.averageLaborRate.q2),q3:t(e.averageLaborRate.q3),q4:t(e.averageLaborRate.q4),yearly:t(e.averageLaborRate.yearly)},{label:"Total Direct-Labor Cost",q1:t(e.totalLaborCost.q1),q2:t(e.totalLaborCost.q2),q3:t(e.totalLaborCost.q3),q4:t(e.totalLaborCost.q4),yearly:t(e.totalLaborCost.yearly)}];return e.fringeBenefitCost&&r.push({label:"Fringe Benefit Cost",q1:t(e.fringeBenefitCost.q1),q2:t(e.fringeBenefitCost.q2),q3:t(e.fringeBenefitCost.q3),q4:t(e.fringeBenefitCost.q4),yearly:t(e.fringeBenefitCost.yearly)}),e.totalCostIncludingBenefits&&r.push({label:"Total Cost (Including Benefits)",q1:t(e.totalCostIncludingBenefits.q1),q2:t(e.totalCostIncludingBenefits.q2),q3:t(e.totalCostIncludingBenefits.q3),q4:t(e.totalCostIncludingBenefits.q4),yearly:t(e.totalCostIncludingBenefits.yearly)}),{headers:a,categoryTables:s,summaryRows:r,laborCostPerUnit:e.laborCostPerUnit,averageEmployeesNeeded:e.averageEmployeesNeeded,turnoverCost:e.turnoverCost,trainingCost:e.trainingCost,productivityRate:e.productivityRate}}let s=[{label:"Units to be Produced",q1:t(e.productionUnits.q1),q2:t(e.productionUnits.q2),q3:t(e.productionUnits.q3),q4:t(e.productionUnits.q4),yearly:t(e.productionUnits.yearly)},{label:"Direct-Labor Hours Required",q1:t(e.totalLaborHoursRequired.q1),q2:t(e.totalLaborHoursRequired.q2),q3:t(e.totalLaborHoursRequired.q3),q4:t(e.totalLaborHoursRequired.q4),yearly:t(e.totalLaborHoursRequired.yearly)}];return e.regularHours&&e.overtimeHours&&(s.push({label:"  - Regular Hours",q1:t(e.regularHours.q1),q2:t(e.regularHours.q2),q3:t(e.regularHours.q3),q4:t(e.regularHours.q4),yearly:t(e.regularHours.yearly)}),s.push({label:"  - Overtime Hours",q1:t(e.overtimeHours.q1),q2:t(e.overtimeHours.q2),q3:t(e.overtimeHours.q3),q4:t(e.overtimeHours.q4),yearly:t(e.overtimeHours.yearly)})),s.push({label:"Direct-Labor Rate per Hour",q1:t(e.averageLaborRate.q1),q2:t(e.averageLaborRate.q2),q3:t(e.averageLaborRate.q3),q4:t(e.averageLaborRate.q4),yearly:t(e.averageLaborRate.yearly)}),s.push({label:"Total Direct-Labor Cost",q1:t(e.totalLaborCost.q1),q2:t(e.totalLaborCost.q2),q3:t(e.totalLaborCost.q3),q4:t(e.totalLaborCost.q4),yearly:t(e.totalLaborCost.yearly)}),e.overtimeCost&&s.push({label:"  - Overtime Premium",q1:t(e.overtimeCost.q1),q2:t(e.overtimeCost.q2),q3:t(e.overtimeCost.q3),q4:t(e.overtimeCost.q4),yearly:t(e.overtimeCost.yearly)}),e.fringeBenefitCost&&s.push({label:"Fringe Benefit Cost",q1:t(e.fringeBenefitCost.q1),q2:t(e.fringeBenefitCost.q2),q3:t(e.fringeBenefitCost.q3),q4:t(e.fringeBenefitCost.q4),yearly:t(e.fringeBenefitCost.yearly)}),e.totalCostIncludingBenefits&&s.push({label:"Total Labor Cost (Including Benefits)",q1:t(e.totalCostIncludingBenefits.q1),q2:t(e.totalCostIncludingBenefits.q2),q3:t(e.totalCostIncludingBenefits.q3),q4:t(e.totalCostIncludingBenefits.q4),yearly:t(e.totalCostIncludingBenefits.yearly)}),{headers:a,rows:s,laborCostPerUnit:e.laborCostPerUnit,averageEmployeesNeeded:e.averageEmployeesNeeded,turnoverCost:e.turnoverCost,trainingCost:e.trainingCost,productivityRate:e.productivityRate}}function q(e){let{unitsToBeProduced:t,directLaborHours:a}=e,s=e.overheadCategories&&e.overheadCategories.length>0,r=e.useActivityBasedCosting;return s?function(e){let{unitsToBeProduced:t,directLaborHours:a,machineHours:s,overheadCategories:r}=e,n=[],l={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0},o={q1:0,q2:0,q3:0,q4:0,yearly:0};r.forEach(e=>{let r={q1:0,q2:0,q3:0,q4:0,yearly:0};if("variable"===e.costType){switch(e.costDriver){case"units":r.q1=t.q1*e.amount,r.q2=t.q2*e.amount,r.q3=t.q3*e.amount,r.q4=t.q4*e.amount;break;case"labor-hours":a&&(r.q1=a.q1*e.amount,r.q2=a.q2*e.amount,r.q3=a.q3*e.amount,r.q4=a.q4*e.amount);break;case"machine-hours":s&&(r.q1=s.q1*e.amount,r.q2=s.q2*e.amount,r.q3=s.q3*e.amount,r.q4=s.q4*e.amount)}r.yearly=r.q1+r.q2+r.q3+r.q4,l.q1+=r.q1,l.q2+=r.q2,l.q3+=r.q3,l.q4+=r.q4,l.yearly+=r.yearly}else r.q1=e.amount,r.q2=e.amount,r.q3=e.amount,r.q4=e.amount,r.yearly=4*e.amount,i.q1+=r.q1,i.q2+=r.q2,i.q3+=r.q3,i.q4+=r.q4,i.yearly+=r.yearly;e.isNonCash&&(o.q1+=r.q1,o.q2+=r.q2,o.q3+=r.q3,o.q4+=r.q4,o.yearly+=r.yearly),n.push({name:e.name,costType:e.costType,cost:r,costDriver:e.costDriver,isNonCash:e.isNonCash})});let c={q1:l.q1+i.q1,q2:l.q2+i.q2,q3:l.q3+i.q3,q4:l.q4+i.q4,yearly:l.yearly+i.yearly},d={q1:c.q1-o.q1,q2:c.q2-o.q2,q3:c.q3-o.q3,q4:c.q4-o.q4,yearly:c.yearly-o.yearly},u={q1:t.q1>0?c.q1/t.q1:0,q2:t.q2>0?c.q2/t.q2:0,q3:t.q3>0?c.q3/t.q3:0,q4:t.q4>0?c.q4/t.q4:0,yearly:t.yearly>0?c.yearly/t.yearly:0};return{productionUnits:t,directLaborHours:a,variableOverhead:l,fixedOverhead:i,totalOverhead:c,depreciation:o,cashDisbursements:d,overheadCategories:n,overheadPerUnit:u}}(e):r?function(e){let{unitsToBeProduced:t,directLaborHours:a,numberOfProductionRuns:s,numberOfInspections:r,machineHours:n}=e,l={q1:0,q2:0,q3:0,q4:0,yearly:0};e.indirectMaterialsPerUnit&&(l.q1=t.q1*e.indirectMaterialsPerUnit,l.q2=t.q2*e.indirectMaterialsPerUnit,l.q3=t.q3*e.indirectMaterialsPerUnit,l.q4=t.q4*e.indirectMaterialsPerUnit),e.qualityControlPerUnit&&(l.q1+=t.q1*e.qualityControlPerUnit,l.q2+=t.q2*e.qualityControlPerUnit,l.q3+=t.q3*e.qualityControlPerUnit,l.q4+=t.q4*e.qualityControlPerUnit),n&&e.costPerMachineHour&&(l.q1+=n.q1*e.costPerMachineHour,l.q2+=n.q2*e.costPerMachineHour,l.q3+=n.q3*e.costPerMachineHour,l.q4+=n.q4*e.costPerMachineHour),l.yearly=l.q1+l.q2+l.q3+l.q4;let i={q1:0,q2:0,q3:0,q4:0,yearly:0};s&&e.costPerProductionRun&&(i.q1=s.q1*e.costPerProductionRun,i.q2=s.q2*e.costPerProductionRun,i.q3=s.q3*e.costPerProductionRun,i.q4=s.q4*e.costPerProductionRun,i.yearly=i.q1+i.q2+i.q3+i.q4);let o={q1:0,q2:0,q3:0,q4:0,yearly:0};r&&e.costPerInspection&&(o.q1=r.q1*e.costPerInspection,o.q2=r.q2*e.costPerInspection,o.q3=r.q3*e.costPerInspection,o.q4=r.q4*e.costPerInspection),e.qualityControlLabor&&(o.q1+=e.qualityControlLabor,o.q2+=e.qualityControlLabor,o.q3+=e.qualityControlLabor,o.q4+=e.qualityControlLabor),o.yearly=o.q1+o.q2+o.q3+o.q4;let c={q1:0,q2:0,q3:0,q4:0,yearly:0},d=[e.facilityRent||0,e.facilityInsurance||0,e.propertyTaxes||0,e.utilities&&!e.utilitiesIsVariable?e.utilities:0,e.supervisorySalaries||0,e.supportStaffSalaries||0,e.shopSuppliesPerQuarter||0,e.plannedMaintenancePerQuarter||0,e.technologyCosts||0,e.warehouseCosts||0,e.environmentalComplianceCosts||0,e.depreciationPerQuarter||0].reduce((e,t)=>e+t,0);c={q1:d,q2:d,q3:d,q4:d,yearly:4*d};let u={q1:l.q1+i.q1+o.q1+c.q1,q2:l.q2+i.q2+o.q2+c.q2,q3:l.q3+i.q3+o.q3+c.q3,q4:l.q4+i.q4+o.q4+c.q4,yearly:l.yearly+i.yearly+o.yearly+c.yearly},m={q1:l.q1+i.q1,q2:l.q2+i.q2,q3:l.q3+i.q3,q4:l.q4+i.q4,yearly:l.yearly+i.yearly},x={q1:o.q1+c.q1,q2:o.q2+c.q2,q3:o.q3+c.q3,q4:o.q4+c.q4,yearly:o.yearly+c.yearly},p=e.depreciationPerQuarter||0,h={q1:p,q2:p,q3:p,q4:p,yearly:4*p},q={q1:u.q1-h.q1,q2:u.q2-h.q2,q3:u.q3-h.q3,q4:u.q4-h.q4,yearly:u.yearly-h.yearly},b={q1:t.q1>0?u.q1/t.q1:0,q2:t.q2>0?u.q2/t.q2:0,q3:t.q3>0?u.q3/t.q3:0,q4:t.q4>0?u.q4/t.q4:0,yearly:t.yearly>0?u.yearly/t.yearly:0};return{productionUnits:t,directLaborHours:a,variableOverhead:m,fixedOverhead:x,totalOverhead:u,depreciation:h,cashDisbursements:q,unitLevelCosts:l,batchLevelCosts:i,productLevelCosts:o,facilityLevelCosts:c,overheadPerUnit:b}}(e):function(e){let t,{unitsToBeProduced:a,directLaborHours:s}=e,r=e.variableOverheadRatePerUnit||0,n=e.variableOverheadRatePerLaborHour||0,l=e.fixedOverheadPerQuarter||0,i=e.depreciationPerQuarter||0,o={q1:0,q2:0,q3:0,q4:0,yearly:0};r>0&&(o.q1+=a.q1*r,o.q2+=a.q2*r,o.q3+=a.q3*r,o.q4+=a.q4*r),n>0&&s&&(o.q1+=s.q1*n,o.q2+=s.q2*n,o.q3+=s.q3*n,o.q4+=s.q4*n),o.yearly=o.q1+o.q2+o.q3+o.q4;let c={q1:l,q2:l,q3:l,q4:l,yearly:4*l},d={q1:i,q2:i,q3:i,q4:i,yearly:4*i},u={q1:o.q1+c.q1,q2:o.q2+c.q2,q3:o.q3+c.q3,q4:o.q4+c.q4,yearly:o.yearly+c.yearly},m={q1:u.q1-d.q1,q2:u.q2-d.q2,q3:u.q3-d.q3,q4:u.q4-d.q4,yearly:u.yearly-d.yearly},x={q1:a.q1>0?u.q1/a.q1:0,q2:a.q2>0?u.q2/a.q2:0,q3:a.q3>0?u.q3/a.q3:0,q4:a.q4>0?u.q4/a.q4:0,yearly:a.yearly>0?u.yearly/a.yearly:0},p=e.allocationBase||"units";return"units"===p?t=a.yearly>0?u.yearly/a.yearly:0:"labor-hours"===p&&s&&(t=s.yearly>0?u.yearly/s.yearly:0),{productionUnits:a,directLaborHours:s,variableOverhead:o,fixedOverhead:c,totalOverhead:u,depreciation:d,cashDisbursements:m,overheadPerUnit:x,predeterminedOverheadRate:t}}(e)}function b(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[{label:"Units to be Produced",q1:t(e.productionUnits.q1),q2:t(e.productionUnits.q2),q3:t(e.productionUnits.q3),q4:t(e.productionUnits.q4),yearly:t(e.productionUnits.yearly)}];return e.directLaborHours&&a.push({label:"Direct Labor Hours",q1:t(e.directLaborHours.q1),q2:t(e.directLaborHours.q2),q3:t(e.directLaborHours.q3),q4:t(e.directLaborHours.q4),yearly:t(e.directLaborHours.yearly)}),a.push({label:"Variable Manufacturing Overhead",q1:t(e.variableOverhead.q1),q2:t(e.variableOverhead.q2),q3:t(e.variableOverhead.q3),q4:t(e.variableOverhead.q4),yearly:t(e.variableOverhead.yearly)}),a.push({label:"Fixed Manufacturing Overhead",q1:t(e.fixedOverhead.q1),q2:t(e.fixedOverhead.q2),q3:t(e.fixedOverhead.q3),q4:t(e.fixedOverhead.q4),yearly:t(e.fixedOverhead.yearly)}),a.push({label:"Total Manufacturing Overhead",q1:t(e.totalOverhead.q1),q2:t(e.totalOverhead.q2),q3:t(e.totalOverhead.q3),q4:t(e.totalOverhead.q4),yearly:t(e.totalOverhead.yearly)}),a.push({label:"Less: Depreciation",q1:t(e.depreciation.q1),q2:t(e.depreciation.q2),q3:t(e.depreciation.q3),q4:t(e.depreciation.q4),yearly:t(e.depreciation.yearly)}),a.push({label:"Cash Disbursements for Overhead",q1:t(e.cashDisbursements.q1),q2:t(e.cashDisbursements.q2),q3:t(e.cashDisbursements.q3),q4:t(e.cashDisbursements.q4),yearly:t(e.cashDisbursements.yearly)}),{headers:["Description","Q1","Q2","Q3","Q4","Yearly"],rows:a,overheadCategories:e.overheadCategories,abcBreakdown:e.unitLevelCosts?{unitLevel:e.unitLevelCosts,batchLevel:e.batchLevelCosts,productLevel:e.productLevelCosts,facilityLevel:e.facilityLevelCosts}:void 0,overheadPerUnit:e.overheadPerUnit,predeterminedRate:e.predeterminedOverheadRate}}function y(e){return e.useSimpleApproach?function(e){let t=e.salesRevenue||{q1:0,q2:0,q3:0,q4:0,yearly:0},a=e.salesUnits||{q1:0,q2:0,q3:0,q4:0,yearly:0},s=e.variableSellingExpenseRate||0,r=e.variableAdminExpenseRate||0,n=e.fixedSellingExpensePerQuarter||0,l=e.fixedAdminExpensePerQuarter||0,i={q1:t.q1*(s+r),q2:t.q2*(s+r),q3:t.q3*(s+r),q4:t.q4*(s+r),yearly:0};i.yearly=i.q1+i.q2+i.q3+i.q4;let o={q1:n+l,q2:n+l,q3:n+l,q4:n+l,yearly:(n+l)*4},c={q1:i.q1+o.q1,q2:i.q2+o.q2,q3:i.q3+o.q3,q4:i.q4+o.q4,yearly:i.yearly+o.yearly};return{salesRevenue:t,salesUnits:a,totalVariableExpenses:i,totalFixedExpenses:o,totalSGAExpenses:c}}(e):function(e){let t,a=e.salesRevenue||{q1:0,q2:0,q3:0,q4:0,yearly:0},s=e.salesUnits||{q1:0,q2:0,q3:0,q4:0,yearly:0},r=[],n={q1:0,q2:0,q3:0,q4:0,yearly:0},l={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0};e.salesPersonnelCategories&&e.salesPersonnelCategories.length>0?(e.salesPersonnelCategories.forEach(e=>{let t={q1:e.numberOfPersonnel*e.baseSalaryPerPerson,q2:e.numberOfPersonnel*e.baseSalaryPerPerson,q3:e.numberOfPersonnel*e.baseSalaryPerPerson,q4:e.numberOfPersonnel*e.baseSalaryPerPerson,yearly:e.numberOfPersonnel*e.baseSalaryPerPerson*4},o={q1:t.q1*(e.benefitRate||0),q2:t.q2*(e.benefitRate||0),q3:t.q3*(e.benefitRate||0),q4:t.q4*(e.benefitRate||0),yearly:0};o.yearly=o.q1+o.q2+o.q3+o.q4;let c={q1:0,q2:0,q3:0,q4:0,yearly:0};e.commissionRate&&e.commissionRate>0&&("revenue"===e.commissionType?(c.q1=a.q1*e.commissionRate,c.q2=a.q2*e.commissionRate,c.q3=a.q3*e.commissionRate,c.q4=a.q4*e.commissionRate):(c.q1=s.q1*e.commissionRate,c.q2=s.q2*e.commissionRate,c.q3=s.q3*e.commissionRate,c.q4=s.q4*e.commissionRate),c.yearly=c.q1+c.q2+c.q3+c.q4);let d={q1:t.q1+o.q1+c.q1,q2:t.q2+o.q2+c.q2,q3:t.q3+o.q3+c.q3,q4:t.q4+o.q4+c.q4,yearly:0};d.yearly=d.q1+d.q2+d.q3+d.q4,r.push({name:e.name,numberOfPersonnel:e.numberOfPersonnel,baseSalaries:t,benefits:o,commissions:c,totalCost:d}),n.q1+=d.q1,n.q2+=d.q2,n.q3+=d.q3,n.q4+=d.q4,l.q1+=c.q1,l.q2+=c.q2,l.q3+=c.q3,l.q4+=c.q4,i.q1+=t.q1+o.q1,i.q2+=t.q2+o.q2,i.q3+=t.q3+o.q3,i.q4+=t.q4+o.q4}),n.yearly=n.q1+n.q2+n.q3+n.q4,l.yearly=l.q1+l.q2+l.q3+l.q4,i.yearly=i.q1+i.q2+i.q3+i.q4):e.commissionRate?((l={q1:a.q1*e.commissionRate,q2:a.q2*e.commissionRate,q3:a.q3*e.commissionRate,q4:a.q4*e.commissionRate,yearly:0}).yearly=l.q1+l.q2+l.q3+l.q4,n={...l}):e.commissionPerUnit&&((l={q1:s.q1*e.commissionPerUnit,q2:s.q2*e.commissionPerUnit,q3:s.q3*e.commissionPerUnit,q4:s.q4*e.commissionPerUnit,yearly:0}).yearly=l.q1+l.q2+l.q3+l.q4,n={...l});let o=[],c={q1:0,q2:0,q3:0,q4:0,yearly:0},d={q1:0,q2:0,q3:0,q4:0,yearly:0};e.distributionChannels&&e.distributionChannels.length>0?(e.distributionChannels.forEach(e=>{let t={q1:s.q1*(e.variableCostPerUnit||0),q2:s.q2*(e.variableCostPerUnit||0),q3:s.q3*(e.variableCostPerUnit||0),q4:s.q4*(e.variableCostPerUnit||0),yearly:0};t.yearly=t.q1+t.q2+t.q3+t.q4;let a={q1:e.fixedCostPerQuarter||0,q2:e.fixedCostPerQuarter||0,q3:e.fixedCostPerQuarter||0,q4:e.fixedCostPerQuarter||0,yearly:4*(e.fixedCostPerQuarter||0)},r={q1:t.q1+a.q1,q2:t.q2+a.q2,q3:t.q3+a.q3,q4:t.q4+a.q4,yearly:0};r.yearly=r.q1+r.q2+r.q3+r.q4,o.push({name:e.name,variableCosts:t,fixedCosts:a,totalCost:r}),c.q1+=t.q1,c.q2+=t.q2,c.q3+=t.q3,c.q4+=t.q4,d.q1+=a.q1,d.q2+=a.q2,d.q3+=a.q3,d.q4+=a.q4}),c.yearly=c.q1+c.q2+c.q3+c.q4,d.yearly=d.q1+d.q2+d.q3+d.q4):(e.distributionCostPerUnit&&((c={q1:s.q1*e.distributionCostPerUnit,q2:s.q2*e.distributionCostPerUnit,q3:s.q3*e.distributionCostPerUnit,q4:s.q4*e.distributionCostPerUnit,yearly:0}).yearly=c.q1+c.q2+c.q3+c.q4),e.distributionFixedCostPerQuarter&&(d={q1:e.distributionFixedCostPerQuarter,q2:e.distributionFixedCostPerQuarter,q3:e.distributionFixedCostPerQuarter,q4:e.distributionFixedCostPerQuarter,yearly:4*e.distributionFixedCostPerQuarter}));let u={q1:c.q1+d.q1,q2:c.q2+d.q2,q3:c.q3+d.q3,q4:c.q4+d.q4,yearly:c.yearly+d.yearly},m={q1:(e.customerServiceSalaries||0)+s.q1*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q2:(e.customerServiceSalaries||0)+s.q2*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q3:(e.customerServiceSalaries||0)+s.q3*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q4:(e.customerServiceSalaries||0)+s.q4*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),yearly:0};m.yearly=m.q1+m.q2+m.q3+m.q4;let x={q1:0,q2:0,q3:0,q4:0,yearly:0};e.customerAcquisitionCostPerCustomer&&e.newCustomersPerQuarter&&((x={q1:e.newCustomersPerQuarter.q1*e.customerAcquisitionCostPerCustomer,q2:e.newCustomersPerQuarter.q2*e.customerAcquisitionCostPerCustomer,q3:e.newCustomersPerQuarter.q3*e.customerAcquisitionCostPerCustomer,q4:e.newCustomersPerQuarter.q4*e.customerAcquisitionCostPerCustomer,yearly:0}).yearly=x.q1+x.q2+x.q3+x.q4);let p={q1:l.q1+c.q1+s.q1*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q2:l.q2+c.q2+s.q2*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q3:l.q3+c.q3+s.q3*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q4:l.q4+c.q4+s.q4*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),yearly:0};p.yearly=p.q1+p.q2+p.q3+p.q4;let h={q1:i.q1+d.q1+(e.customerServiceSalaries||0)+x.q1,q2:i.q2+d.q2+(e.customerServiceSalaries||0)+x.q2,q3:i.q3+d.q3+(e.customerServiceSalaries||0)+x.q3,q4:i.q4+d.q4+(e.customerServiceSalaries||0)+x.q4,yearly:0};h.yearly=h.q1+h.q2+h.q3+h.q4;let q={q1:p.q1+h.q1,q2:p.q2+h.q2,q3:p.q3+h.q3,q4:p.q4+h.q4,yearly:p.yearly+h.yearly},b={q1:e.advertisingBudgetPerQuarter||0,q2:e.advertisingBudgetPerQuarter||0,q3:e.advertisingBudgetPerQuarter||0,q4:e.advertisingBudgetPerQuarter||0,yearly:4*(e.advertisingBudgetPerQuarter||0)},y={q1:e.brandDevelopmentPerQuarter||0,q2:e.brandDevelopmentPerQuarter||0,q3:e.brandDevelopmentPerQuarter||0,q4:e.brandDevelopmentPerQuarter||0,yearly:4*(e.brandDevelopmentPerQuarter||0)},g={q1:e.marketingCampaignsPerQuarter||0,q2:e.marketingCampaignsPerQuarter||0,q3:e.marketingCampaignsPerQuarter||0,q4:e.marketingCampaignsPerQuarter||0,yearly:4*(e.marketingCampaignsPerQuarter||0)},v={q1:e.marketResearchPerQuarter||0,q2:e.marketResearchPerQuarter||0,q3:e.marketResearchPerQuarter||0,q4:e.marketResearchPerQuarter||0,yearly:4*(e.marketResearchPerQuarter||0)},f={q1:e.tradeshowsEventsPerQuarter||0,q2:e.tradeshowsEventsPerQuarter||0,q3:e.tradeshowsEventsPerQuarter||0,q4:e.tradeshowsEventsPerQuarter||0,yearly:4*(e.tradeshowsEventsPerQuarter||0)},j={q1:e.contentCreationPerQuarter||0,q2:e.contentCreationPerQuarter||0,q3:e.contentCreationPerQuarter||0,q4:e.contentCreationPerQuarter||0,yearly:4*(e.contentCreationPerQuarter||0)},N={q1:b.q1+y.q1+g.q1+v.q1+f.q1+j.q1,q2:b.q2+y.q2+g.q2+v.q2+f.q2+j.q2,q3:b.q3+y.q3+g.q3+v.q3+f.q3+j.q3,q4:b.q4+y.q4+g.q4+v.q4+f.q4+j.q4,yearly:0};N.yearly=N.q1+N.q2+N.q3+N.q4;let C={q1:e.executiveSalaries||0,q2:e.executiveSalaries||0,q3:e.executiveSalaries||0,q4:e.executiveSalaries||0,yearly:4*(e.executiveSalaries||0)},S={q1:e.financeSalaries||0,q2:e.financeSalaries||0,q3:e.financeSalaries||0,q4:e.financeSalaries||0,yearly:4*(e.financeSalaries||0)},P={q1:e.hrSalaries||0,q2:e.hrSalaries||0,q3:e.hrSalaries||0,q4:e.hrSalaries||0,yearly:4*(e.hrSalaries||0)},w={q1:e.itSalaries||0,q2:e.itSalaries||0,q3:e.itSalaries||0,q4:e.itSalaries||0,yearly:4*(e.itSalaries||0)},F={q1:e.legalComplianceSalaries||0,q2:e.legalComplianceSalaries||0,q3:e.legalComplianceSalaries||0,q4:e.legalComplianceSalaries||0,yearly:4*(e.legalComplianceSalaries||0)},R={q1:e.generalAdminSalaries||0,q2:e.generalAdminSalaries||0,q3:e.generalAdminSalaries||0,q4:e.generalAdminSalaries||0,yearly:4*(e.generalAdminSalaries||0)},I={q1:C.q1+S.q1+P.q1+w.q1+F.q1+R.q1,q2:C.q2+S.q2+P.q2+w.q2+F.q2+R.q2,q3:C.q3+S.q3+P.q3+w.q3+F.q3+R.q3,q4:C.q4+S.q4+P.q4+w.q4+F.q4+R.q4,yearly:0};I.yearly=I.q1+I.q2+I.q3+I.q4;let E={q1:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),q2:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),q3:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),q4:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),yearly:0};E.yearly=4*E.q1;let A={q1:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),q2:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),q3:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),q4:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),yearly:0};A.yearly=4*A.q1;let Q={q1:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),q2:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),q3:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),q4:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),yearly:0};Q.yearly=4*Q.q1;let k={q1:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),q2:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),q3:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),q4:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),yearly:0};k.yearly=4*k.q1;let U={q1:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),q2:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),q3:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),q4:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),yearly:0};U.yearly=4*U.q1;let B={q1:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),q2:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),q3:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),q4:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),yearly:0};B.yearly=4*B.q1;let D={q1:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),q2:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),q3:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),q4:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),yearly:0};D.yearly=4*D.q1;let T={q1:0,q2:0,q3:0,q4:0,yearly:0};e.badDebtRate&&((T={q1:a.q1*e.badDebtRate,q2:a.q2*e.badDebtRate,q3:a.q3*e.badDebtRate,q4:a.q4*e.badDebtRate,yearly:0}).yearly=T.q1+T.q2+T.q3+T.q4);let L={q1:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),q2:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),q3:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),q4:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),yearly:0};L.yearly=4*L.q1;let O={q1:I.q1+E.q1+A.q1+Q.q1+k.q1+U.q1+B.q1+D.q1+L.q1,q2:I.q2+E.q2+A.q2+Q.q2+k.q2+U.q2+B.q2+D.q2+L.q2,q3:I.q3+E.q3+A.q3+Q.q3+k.q3+U.q3+B.q3+D.q3+L.q3,q4:I.q4+E.q4+A.q4+Q.q4+k.q4+U.q4+B.q4+D.q4+L.q4,yearly:0};O.yearly=O.q1+O.q2+O.q3+O.q4;let M={q1:O.q1+T.q1,q2:O.q2+T.q2,q3:O.q3+T.q3,q4:O.q4+T.q4,yearly:O.yearly+T.yearly},G={q1:p.q1+T.q1,q2:p.q2+T.q2,q3:p.q3+T.q3,q4:p.q4+T.q4,yearly:p.yearly+T.yearly},W={q1:h.q1+N.q1+O.q1,q2:h.q2+N.q2+O.q2,q3:h.q3+N.q3+O.q3,q4:h.q4+N.q4+O.q4,yearly:h.yearly+N.yearly+O.yearly},H={q1:G.q1+W.q1,q2:G.q2+W.q2,q3:G.q3+W.q3,q4:G.q4+W.q4,yearly:G.yearly+W.yearly},Y={q1:H.q1-L.q1,q2:H.q2-L.q2,q3:H.q3-L.q3,q4:H.q4-L.q4,yearly:H.yearly-L.yearly},V={q1:a.q1>0?H.q1/a.q1:0,q2:a.q2>0?H.q2/a.q2:0,q3:a.q3>0?H.q3/a.q3:0,q4:a.q4>0?H.q4/a.q4:0,yearly:a.yearly>0?H.yearly/a.yearly:0},z={q1:s.q1>0?G.q1/s.q1:0,q2:s.q2>0?G.q2/s.q2:0,q3:s.q3>0?G.q3/s.q3:0,q4:s.q4>0?G.q4/s.q4:0,yearly:s.yearly>0?G.yearly/s.yearly:0},J={q1:s.q1>0?W.q1/s.q1:0,q2:s.q2>0?W.q2/s.q2:0,q3:s.q3>0?W.q3/s.q3:0,q4:s.q4>0?W.q4/s.q4:0,yearly:s.yearly>0?W.yearly/s.yearly:0},$={q1:s.q1>0?H.q1/s.q1:0,q2:s.q2>0?H.q2/s.q2:0,q3:s.q3>0?H.q3/s.q3:0,q4:s.q4>0?H.q4/s.q4:0,yearly:s.yearly>0?H.yearly/s.yearly:0},K={q1:a.q1>0?N.q1/a.q1:0,q2:a.q2>0?N.q2/a.q2:0,q3:a.q3>0?N.q3/a.q3:0,q4:a.q4>0?N.q4/a.q4:0,yearly:a.yearly>0?N.yearly/a.yearly:0};e.newCustomersPerQuarter&&(t={q1:e.newCustomersPerQuarter.q1>0?x.q1/e.newCustomersPerQuarter.q1:0,q2:e.newCustomersPerQuarter.q2>0?x.q2/e.newCustomersPerQuarter.q2:0,q3:e.newCustomersPerQuarter.q3>0?x.q3/e.newCustomersPerQuarter.q3:0,q4:e.newCustomersPerQuarter.q4>0?x.q4/e.newCustomersPerQuarter.q4:0,yearly:e.newCustomersPerQuarter.yearly>0?x.yearly/e.newCustomersPerQuarter.yearly:0});let X={q1:a.q1>0?q.q1/a.q1:0,q2:a.q2>0?q.q2/a.q2:0,q3:a.q3>0?q.q3/a.q3:0,q4:a.q4>0?q.q4/a.q4:0,yearly:a.yearly>0?q.yearly/a.yearly:0},_={q1:a.q1>0?M.q1/a.q1:0,q2:a.q2>0?M.q2/a.q2:0,q3:a.q3>0?M.q3/a.q3:0,q4:a.q4>0?M.q4/a.q4:0,yearly:a.yearly>0?M.yearly/a.yearly:0};return{salesRevenue:a,salesUnits:s,salesPersonnelCosts:r.length>0?r:void 0,salesCommissions:l,salesSalariesAndBenefits:i,totalSalesPersonnelCosts:n,distributionChannelCosts:o.length>0?o:void 0,distributionVariableCosts:c,distributionFixedCosts:d,totalDistributionCosts:u,customerServiceCosts:m,customerAcquisitionCosts:x,totalVariableSellingExpenses:p,totalFixedSellingExpenses:h,totalSellingExpenses:q,advertisingCosts:b,brandDevelopmentCosts:y,marketingCampaignCosts:g,marketResearchCosts:v,tradeshowsEventsCosts:f,contentCreationCosts:j,totalMarketingExpenses:N,executiveCosts:C,financeCosts:S,hrCosts:P,itCosts:w,legalComplianceCosts:F,generalAdminCosts:R,totalAdministrativeSalaries:I,occupancyCosts:E,technologyCosts:A,officeOperationsCosts:Q,professionalServicesCosts:k,professionalDevelopmentCosts:U,travelEntertainmentCosts:B,regulatoryComplianceCosts:D,badDebtExpense:T,depreciationExpense:L,totalFixedAdminExpenses:O,totalAdministrativeExpenses:M,totalVariableExpenses:G,totalFixedExpenses:W,totalSGAExpenses:H,cashDisbursementsForSGA:Y,sgaAsPercentOfSales:V,variableSGAPerUnit:z,fixedSGAPerUnit:J,totalSGAPerUnit:$,marketingAsPercentOfSales:K,costPerNewCustomer:t,salesExpenseRatio:X,adminExpenseRatio:_}}(e)}function g(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"SELLING EXPENSES",q1:"",q2:"",q3:"",q4:"",yearly:""}),e.salesCommissions&&e.salesCommissions.yearly>0&&a.push({label:"Sales Commissions",q1:t(e.salesCommissions.q1),q2:t(e.salesCommissions.q2),q3:t(e.salesCommissions.q3),q4:t(e.salesCommissions.q4),yearly:t(e.salesCommissions.yearly)}),e.salesSalariesAndBenefits&&e.salesSalariesAndBenefits.yearly>0&&a.push({label:"Sales Salaries & Benefits",q1:t(e.salesSalariesAndBenefits.q1),q2:t(e.salesSalariesAndBenefits.q2),q3:t(e.salesSalariesAndBenefits.q3),q4:t(e.salesSalariesAndBenefits.q4),yearly:t(e.salesSalariesAndBenefits.yearly)}),e.totalDistributionCosts&&e.totalDistributionCosts.yearly>0&&a.push({label:"Distribution Costs",q1:t(e.totalDistributionCosts.q1),q2:t(e.totalDistributionCosts.q2),q3:t(e.totalDistributionCosts.q3),q4:t(e.totalDistributionCosts.q4),yearly:t(e.totalDistributionCosts.yearly)}),e.customerServiceCosts&&e.customerServiceCosts.yearly>0&&a.push({label:"Customer Service",q1:t(e.customerServiceCosts.q1),q2:t(e.customerServiceCosts.q2),q3:t(e.customerServiceCosts.q3),q4:t(e.customerServiceCosts.q4),yearly:t(e.customerServiceCosts.yearly)}),e.totalSellingExpenses&&a.push({label:"Total Selling Expenses",q1:t(e.totalSellingExpenses.q1),q2:t(e.totalSellingExpenses.q2),q3:t(e.totalSellingExpenses.q3),q4:t(e.totalSellingExpenses.q4),yearly:t(e.totalSellingExpenses.yearly)}),e.totalMarketingExpenses&&e.totalMarketingExpenses.yearly>0&&(a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"MARKETING EXPENSES",q1:"",q2:"",q3:"",q4:"",yearly:""}),e.advertisingCosts&&e.advertisingCosts.yearly>0&&a.push({label:"Advertising",q1:t(e.advertisingCosts.q1),q2:t(e.advertisingCosts.q2),q3:t(e.advertisingCosts.q3),q4:t(e.advertisingCosts.q4),yearly:t(e.advertisingCosts.yearly)}),e.brandDevelopmentCosts&&e.brandDevelopmentCosts.yearly>0&&a.push({label:"Brand Development",q1:t(e.brandDevelopmentCosts.q1),q2:t(e.brandDevelopmentCosts.q2),q3:t(e.brandDevelopmentCosts.q3),q4:t(e.brandDevelopmentCosts.q4),yearly:t(e.brandDevelopmentCosts.yearly)}),a.push({label:"Total Marketing Expenses",q1:t(e.totalMarketingExpenses.q1),q2:t(e.totalMarketingExpenses.q2),q3:t(e.totalMarketingExpenses.q3),q4:t(e.totalMarketingExpenses.q4),yearly:t(e.totalMarketingExpenses.yearly)})),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"ADMINISTRATIVE EXPENSES",q1:"",q2:"",q3:"",q4:"",yearly:""}),e.totalAdministrativeSalaries&&e.totalAdministrativeSalaries.yearly>0&&a.push({label:"Administrative Salaries",q1:t(e.totalAdministrativeSalaries.q1),q2:t(e.totalAdministrativeSalaries.q2),q3:t(e.totalAdministrativeSalaries.q3),q4:t(e.totalAdministrativeSalaries.q4),yearly:t(e.totalAdministrativeSalaries.yearly)}),e.occupancyCosts&&e.occupancyCosts.yearly>0&&a.push({label:"Occupancy Costs",q1:t(e.occupancyCosts.q1),q2:t(e.occupancyCosts.q2),q3:t(e.occupancyCosts.q3),q4:t(e.occupancyCosts.q4),yearly:t(e.occupancyCosts.yearly)}),e.technologyCosts&&e.technologyCosts.yearly>0&&a.push({label:"Technology Costs",q1:t(e.technologyCosts.q1),q2:t(e.technologyCosts.q2),q3:t(e.technologyCosts.q3),q4:t(e.technologyCosts.q4),yearly:t(e.technologyCosts.yearly)}),e.professionalServicesCosts&&e.professionalServicesCosts.yearly>0&&a.push({label:"Professional Services",q1:t(e.professionalServicesCosts.q1),q2:t(e.professionalServicesCosts.q2),q3:t(e.professionalServicesCosts.q3),q4:t(e.professionalServicesCosts.q4),yearly:t(e.professionalServicesCosts.yearly)}),e.badDebtExpense&&e.badDebtExpense.yearly>0&&a.push({label:"Bad Debt Expense",q1:t(e.badDebtExpense.q1),q2:t(e.badDebtExpense.q2),q3:t(e.badDebtExpense.q3),q4:t(e.badDebtExpense.q4),yearly:t(e.badDebtExpense.yearly)}),e.depreciationExpense&&e.depreciationExpense.yearly>0&&a.push({label:"Depreciation Expense",q1:t(e.depreciationExpense.q1),q2:t(e.depreciationExpense.q2),q3:t(e.depreciationExpense.q3),q4:t(e.depreciationExpense.q4),yearly:t(e.depreciationExpense.yearly)}),e.totalAdministrativeExpenses&&a.push({label:"Total Administrative Expenses",q1:t(e.totalAdministrativeExpenses.q1),q2:t(e.totalAdministrativeExpenses.q2),q3:t(e.totalAdministrativeExpenses.q3),q4:t(e.totalAdministrativeExpenses.q4),yearly:t(e.totalAdministrativeExpenses.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"TOTAL SG&A EXPENSES",q1:t(e.totalSGAExpenses.q1),q2:t(e.totalSGAExpenses.q2),q3:t(e.totalSGAExpenses.q3),q4:t(e.totalSGAExpenses.q4),yearly:t(e.totalSGAExpenses.yearly)}),e.cashDisbursementsForSGA&&a.push({label:"Cash Disbursements for SG&A",q1:t(e.cashDisbursementsForSGA.q1),q2:t(e.cashDisbursementsForSGA.q2),q3:t(e.cashDisbursementsForSGA.q3),q4:t(e.cashDisbursementsForSGA.q4),yearly:t(e.cashDisbursementsForSGA.yearly)}),{headers:["Category","Q1","Q2","Q3","Q4","Yearly"],rows:a,sgaAsPercentOfSales:e.sgaAsPercentOfSales,variableSGAPerUnit:e.variableSGAPerUnit,totalSGAPerUnit:e.totalSGAPerUnit,marketingAsPercentOfSales:e.marketingAsPercentOfSales}}function v(e,t){let a=function(e,t){let a=[],s=[];if(!e)return a.push("Sales data (Schedule 1) is required for Cash Receipts Budget"),{isValid:!1,errors:a,warnings:s};if(!e.salesRevenue)return a.push("Sales revenue data is missing from Schedule 1"),{isValid:!1,errors:a,warnings:s};(t.percentCollectedInSameQuarter<0||t.percentCollectedInSameQuarter>1)&&a.push("Percent collected in same quarter must be between 0 and 1 (0% to 100%)"),(t.percentCollectedInNextQuarter<0||t.percentCollectedInNextQuarter>1)&&a.push("Percent collected in next quarter must be between 0 and 1 (0% to 100%)");let r=t.percentUncollectible||0;(r<0||r>1)&&a.push("Percent uncollectible must be between 0 and 1 (0% to 100%)");let n=t.percentCollectedInSameQuarter+t.percentCollectedInNextQuarter+r;return Math.abs(n-1)>.001&&s.push("Collection percentages should add up to 100%. Currently: ".concat((100*n).toFixed(1),"% ")+"(Same quarter: ".concat((100*t.percentCollectedInSameQuarter).toFixed(1),"%, ")+"Next quarter: ".concat((100*t.percentCollectedInNextQuarter).toFixed(1),"%, ")+"Uncollectible: ".concat((100*r).toFixed(1),"%)")),t.beginningAccountsReceivable<0&&a.push("Beginning accounts receivable cannot be negative"),e.cashSales&&e.creditSales||s.push("Sales budget should specify cash vs credit sales split for accurate cash receipts calculation"),r>.05&&s.push("Uncollectible rate of ".concat((100*r).toFixed(1),"% seems high. Industry average is typically 1-3%")),t.percentCollectedInSameQuarter<.5&&s.push("Less than 50% collection in same quarter may indicate aggressive credit terms"),{isValid:0===a.length,errors:a,warnings:s}}(e,t);if(!a.isValid||!e)return{output:null,validation:a};let s=e.salesRevenue,r=e.cashSales||{q1:0,q2:0,q3:0,q4:0,yearly:0},n=e.creditSales||s,l={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0},o={q1:0,q2:0,q3:0,q4:0,yearly:0},c={q1:0,q2:0,q3:0,q4:0,yearly:0},d=t.beginningAccountsReceivable;return i.q1=d*t.percentCollectedInNextQuarter,l.q1=n.q1*t.percentCollectedInSameQuarter,o.q1=r.q1+i.q1+l.q1,c.q1=d+n.q1-(i.q1+l.q1),d=c.q1,i.q2=n.q1*t.percentCollectedInNextQuarter,l.q2=n.q2*t.percentCollectedInSameQuarter,o.q2=r.q2+i.q2+l.q2,c.q2=d+n.q2-(i.q2+l.q2),d=c.q2,i.q3=n.q2*t.percentCollectedInNextQuarter,l.q3=n.q3*t.percentCollectedInSameQuarter,o.q3=r.q3+i.q3+l.q3,c.q3=d+n.q3-(i.q3+l.q3),d=c.q3,i.q4=n.q3*t.percentCollectedInNextQuarter,l.q4=n.q4*t.percentCollectedInSameQuarter,o.q4=r.q4+i.q4+l.q4,c.q4=d+n.q4-(i.q4+l.q4),l.yearly=l.q1+l.q2+l.q3+l.q4,i.yearly=i.q1+i.q2+i.q3+i.q4,o.yearly=o.q1+o.q2+o.q3+o.q4,c.yearly=c.q4,{output:{salesRevenue:s,collectionsSameQuarter:l,collectionsNextQuarter:i,totalCashReceipts:o,endingAccountsReceivable:c},validation:a}}function f(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"Sales Revenue (from Schedule 1)",q1:t(e.salesRevenue.q1),q2:t(e.salesRevenue.q2),q3:t(e.salesRevenue.q3),q4:t(e.salesRevenue.q4),yearly:t(e.salesRevenue.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"CASH COLLECTIONS",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Collections from same quarter sales",q1:t(e.collectionsSameQuarter.q1),q2:t(e.collectionsSameQuarter.q2),q3:t(e.collectionsSameQuarter.q3),q4:t(e.collectionsSameQuarter.q4),yearly:t(e.collectionsSameQuarter.yearly)}),a.push({label:"Collections from prior quarter sales",q1:t(e.collectionsNextQuarter.q1),q2:t(e.collectionsNextQuarter.q2),q3:t(e.collectionsNextQuarter.q3),q4:t(e.collectionsNextQuarter.q4),yearly:t(e.collectionsNextQuarter.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Total Cash Receipts",q1:t(e.totalCashReceipts.q1),q2:t(e.totalCashReceipts.q2),q3:t(e.totalCashReceipts.q3),q4:t(e.totalCashReceipts.q4),yearly:t(e.totalCashReceipts.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Ending Accounts Receivable",q1:t(e.endingAccountsReceivable.q1),q2:t(e.endingAccountsReceivable.q2),q3:t(e.endingAccountsReceivable.q3),q4:t(e.endingAccountsReceivable.q4),yearly:t(e.endingAccountsReceivable.yearly)}),a}function j(e,t,a,s,r){let n=function(e,t,a,s,r){let n=[],l=[];e||l.push("Material budget (Schedule 3) not provided - material payments will be zero"),t||l.push("Labor budget (Schedule 4) not provided - labor payments will be zero"),a||l.push("Overhead budget (Schedule 5) not provided - overhead payments will be zero"),s||l.push("SGA budget (Schedule 6) not provided - SGA payments will be zero");let i=(e,t)=>{e&&(e.q1<0||e.q2<0||e.q3<0||e.q4<0)&&n.push("".concat(t," cannot have negative values"))};if(i(r.incomeTaxPayments,"Income tax payments"),i(r.dividendPayments,"Dividend payments"),i(r.capitalExpenditures,"Capital expenditures"),i(r.loanPayments,"Loan payments"),e&&void 0!==r.percentMaterialPaidSameQuarter&&(r.percentMaterialPaidSameQuarter<0||r.percentMaterialPaidSameQuarter>1)&&n.push("Percent of material paid in same quarter must be between 0 and 1 (0% to 100%)"),e&&void 0!==r.percentMaterialPaidNextQuarter&&(r.percentMaterialPaidNextQuarter<0||r.percentMaterialPaidNextQuarter>1)&&n.push("Percent of material paid in next quarter must be between 0 and 1 (0% to 100%)"),void 0!==r.percentMaterialPaidSameQuarter&&void 0!==r.percentMaterialPaidNextQuarter){let e=r.percentMaterialPaidSameQuarter+r.percentMaterialPaidNextQuarter;Math.abs(e-1)>.001&&l.push("Material payment percentages should add up to 100%. Currently: ".concat((100*e).toFixed(1),"% ")+"(Same quarter: ".concat((100*r.percentMaterialPaidSameQuarter).toFixed(1),"%, ")+"Next quarter: ".concat((100*r.percentMaterialPaidNextQuarter).toFixed(1),"%)"))}return void 0!==r.beginningAccountsPayable&&r.beginningAccountsPayable<0&&n.push("Beginning accounts payable cannot be negative"),{isValid:0===n.length,errors:n,warnings:l}}(e,t,a,s,r);if(!n.isValid)return{output:null,validation:n};let l={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0},o={q1:0,q2:0,q3:0,q4:0,yearly:0},c={q1:0,q2:0,q3:0,q4:0,yearly:0},d=r.incomeTaxPayments||{q1:0,q2:0,q3:0,q4:0,yearly:0},u=r.dividendPayments||{q1:0,q2:0,q3:0,q4:0,yearly:0},m=r.capitalExpenditures||{q1:0,q2:0,q3:0,q4:0,yearly:0},x=r.loanPayments||{q1:0,q2:0,q3:0,q4:0,yearly:0},p={q1:0,q2:0,q3:0,q4:0,yearly:0},h={q1:0,q2:0,q3:0,q4:0,yearly:0};if(e&&e.totalMaterialPurchaseCost){var q,b,y;let t=null!=(q=r.percentMaterialPaidSameQuarter)?q:.5,a=null!=(b=r.percentMaterialPaidNextQuarter)?b:.5,s=null!=(y=r.beginningAccountsPayable)?y:0,n=e.totalMaterialPurchaseCost;l.q1=s*a+n.q1*t,h.q1=s+n.q1-l.q1,s=h.q1,l.q2=n.q1*a+n.q2*t,h.q2=s+n.q2-l.q2,s=h.q2,l.q3=n.q2*a+n.q3*t,h.q3=s+n.q3-l.q3,s=h.q3,l.q4=n.q3*a+n.q4*t,h.q4=s+n.q4-l.q4,l.yearly=l.q1+l.q2+l.q3+l.q4,h.yearly=h.q4}return t&&t.totalLaborCost&&(i.q1=t.totalLaborCost.q1,i.q2=t.totalLaborCost.q2,i.q3=t.totalLaborCost.q3,i.q4=t.totalLaborCost.q4,i.yearly=t.totalLaborCost.yearly),a&&a.cashDisbursements&&(o.q1=a.cashDisbursements.q1,o.q2=a.cashDisbursements.q2,o.q3=a.cashDisbursements.q3,o.q4=a.cashDisbursements.q4,o.yearly=a.cashDisbursements.yearly),s&&s.totalSGAExpenses&&(c.q1=s.totalSGAExpenses.q1,c.q2=s.totalSGAExpenses.q2,c.q3=s.totalSGAExpenses.q3,c.q4=s.totalSGAExpenses.q4,c.yearly=s.totalSGAExpenses.yearly),r.incomeTaxPayments&&!r.incomeTaxPayments.yearly&&(d.yearly=d.q1+d.q2+d.q3+d.q4),r.dividendPayments&&!r.dividendPayments.yearly&&(u.yearly=u.q1+u.q2+u.q3+u.q4),r.capitalExpenditures&&!r.capitalExpenditures.yearly&&(m.yearly=m.q1+m.q2+m.q3+m.q4),r.loanPayments&&!r.loanPayments.yearly&&(x.yearly=x.q1+x.q2+x.q3+x.q4),p.q1=l.q1+i.q1+o.q1+c.q1+d.q1+u.q1+m.q1+x.q1,p.q2=l.q2+i.q2+o.q2+c.q2+d.q2+u.q2+m.q2+x.q2,p.q3=l.q3+i.q3+o.q3+c.q3+d.q3+u.q3+m.q3+x.q3,p.q4=l.q4+i.q4+o.q4+c.q4+d.q4+u.q4+m.q4+x.q4,p.yearly=p.q1+p.q2+p.q3+p.q4,{output:{materialPayments:l,laborPayments:i,overheadPayments:o,sgaPayments:c,incomeTaxPayments:d,dividendPayments:u,capitalExpenditures:m,loanPayments:x,totalDisbursements:p,endingAccountsPayable:h},validation:n}}function N(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"OPERATING DISBURSEMENTS",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Material purchases (Schedule 3)",q1:t(e.materialPayments.q1),q2:t(e.materialPayments.q2),q3:t(e.materialPayments.q3),q4:t(e.materialPayments.q4),yearly:t(e.materialPayments.yearly)}),a.push({label:"Direct labor payroll (Schedule 4)",q1:t(e.laborPayments.q1),q2:t(e.laborPayments.q2),q3:t(e.laborPayments.q3),q4:t(e.laborPayments.q4),yearly:t(e.laborPayments.yearly)}),a.push({label:"Manufacturing overhead (Schedule 5)",q1:t(e.overheadPayments.q1),q2:t(e.overheadPayments.q2),q3:t(e.overheadPayments.q3),q4:t(e.overheadPayments.q4),yearly:t(e.overheadPayments.yearly)}),a.push({label:"Selling & Administrative expenses (Schedule 6)",q1:t(e.sgaPayments.q1),q2:t(e.sgaPayments.q2),q3:t(e.sgaPayments.q3),q4:t(e.sgaPayments.q4),yearly:t(e.sgaPayments.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"OTHER DISBURSEMENTS",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Income tax payments",q1:t(e.incomeTaxPayments.q1),q2:t(e.incomeTaxPayments.q2),q3:t(e.incomeTaxPayments.q3),q4:t(e.incomeTaxPayments.q4),yearly:t(e.incomeTaxPayments.yearly)}),a.push({label:"Dividend payments",q1:t(e.dividendPayments.q1),q2:t(e.dividendPayments.q2),q3:t(e.dividendPayments.q3),q4:t(e.dividendPayments.q4),yearly:t(e.dividendPayments.yearly)}),a.push({label:"Capital expenditures",q1:t(e.capitalExpenditures.q1),q2:t(e.capitalExpenditures.q2),q3:t(e.capitalExpenditures.q3),q4:t(e.capitalExpenditures.q4),yearly:t(e.capitalExpenditures.yearly)}),a.push({label:"Loan payments",q1:t(e.loanPayments.q1),q2:t(e.loanPayments.q2),q3:t(e.loanPayments.q3),q4:t(e.loanPayments.q4),yearly:t(e.loanPayments.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Total Cash Disbursements",q1:t(e.totalDisbursements.q1),q2:t(e.totalDisbursements.q2),q3:t(e.totalDisbursements.q3),q4:t(e.totalDisbursements.q4),yearly:t(e.totalDisbursements.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Ending Accounts Payable",q1:t(e.endingAccountsPayable.q1),q2:t(e.endingAccountsPayable.q2),q3:t(e.endingAccountsPayable.q3),q4:t(e.endingAccountsPayable.q4),yearly:t(e.endingAccountsPayable.yearly)}),a}function C(e,t,a){let s=function(e,t,a){let s=[],r=[];return e||s.push("Cash Receipts data (Schedule 7) is required for Cash Budget"),t||s.push("Cash Disbursements data (Schedule 8) is required for Cash Budget"),a.beginningCashBalance<0&&s.push("Beginning cash balance cannot be negative"),a.minimumCashBalance<0&&s.push("Minimum cash balance cannot be negative"),a.beginningCashBalance<a.minimumCashBalance&&r.push("Beginning cash balance is below the minimum required cash balance"),0===a.minimumCashBalance&&r.push("Minimum cash balance is set to zero - most companies maintain a safety cushion"),a.interestRateOnBorrowing&&(a.interestRateOnBorrowing<0||a.interestRateOnBorrowing>1)&&s.push("Interest rate on borrowing must be between 0 and 1 (0% to 100%)"),a.interestRateOnInvestments&&(a.interestRateOnInvestments<0||a.interestRateOnInvestments>1)&&s.push("Interest rate on investments must be between 0 and 1 (0% to 100%)"),{isValid:0===s.length,errors:s,warnings:r}}(e,t,a);if(!s.isValid||!e||!t)return{output:null,validation:s};let r={q1:0,q2:0,q3:0,q4:0,yearly:0},n=e.totalCashReceipts,l={q1:0,q2:0,q3:0,q4:0,yearly:0},i=t.totalDisbursements,o={q1:0,q2:0,q3:0,q4:0,yearly:0},c={q1:0,q2:0,q3:0,q4:0,yearly:0},d={q1:0,q2:0,q3:0,q4:0,yearly:0},u=a.beginningCashBalance,m=a.minimumCashBalance;r.q1=u,l.q1=r.q1+n.q1,o.q1=l.q1-i.q1-m,o.q1<0?c.q1=-o.q1:c.q1=0,d.q1=l.q1-i.q1+c.q1,r.q2=u=d.q1,l.q2=r.q2+n.q2,o.q2=l.q2-i.q2-m,o.q2<0?c.q2=-o.q2:c.q2=0,d.q2=l.q2-i.q2+c.q2,r.q3=u=d.q2,l.q3=r.q3+n.q3,o.q3=l.q3-i.q3-m,o.q3<0?c.q3=-o.q3:c.q3=0,d.q3=l.q3-i.q3+c.q3,r.q4=u=d.q3,l.q4=r.q4+n.q4,o.q4=l.q4-i.q4-m,o.q4<0?c.q4=-o.q4:c.q4=0,d.q4=l.q4-i.q4+c.q4,r.yearly=r.q1,l.yearly=l.q1+l.q2+l.q3+l.q4,o.yearly=o.q1+o.q2+o.q3+o.q4,c.yearly=c.q1+c.q2+c.q3+c.q4,d.yearly=d.q4;let x={q1:n.q1-i.q1,q2:n.q2-i.q2,q3:n.q3-i.q3,q4:n.q4-i.q4,yearly:0};x.yearly=x.q1+x.q2+x.q3+x.q4;let p=t.capitalExpenditures,h={q1:x.q1-p.q1,q2:x.q2-p.q2,q3:x.q3-p.q3,q4:x.q4-p.q4,yearly:0};return h.yearly=h.q1+h.q2+h.q3+h.q4,{output:{beginningCash:r,cashReceipts:n,cashAvailable:l,cashDisbursements:i,excessOrDeficiency:o,financing:c,endingCash:d,operatingCashFlow:x,freeCashFlow:h},validation:s}}function S(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"Beginning Cash Balance",q1:t(e.beginningCash.q1),q2:t(e.beginningCash.q2),q3:t(e.beginningCash.q3),q4:t(e.beginningCash.q4),yearly:t(e.beginningCash.yearly)}),a.push({label:"Add: Cash Receipts (Schedule 7)",q1:t(e.cashReceipts.q1),q2:t(e.cashReceipts.q2),q3:t(e.cashReceipts.q3),q4:t(e.cashReceipts.q4),yearly:t(e.cashReceipts.yearly)}),a.push({label:"Cash Available",q1:t(e.cashAvailable.q1),q2:t(e.cashAvailable.q2),q3:t(e.cashAvailable.q3),q4:t(e.cashAvailable.q4),yearly:t(e.cashAvailable.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Less: Cash Disbursements (Schedule 8)",q1:t(e.cashDisbursements.q1),q2:t(e.cashDisbursements.q2),q3:t(e.cashDisbursements.q3),q4:t(e.cashDisbursements.q4),yearly:t(e.cashDisbursements.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Excess (Deficiency) of Cash",q1:t(e.excessOrDeficiency.q1),q2:t(e.excessOrDeficiency.q2),q3:t(e.excessOrDeficiency.q3),q4:t(e.excessOrDeficiency.q4),yearly:t(e.excessOrDeficiency.yearly)}),a.push({label:"Financing (Borrowing)",q1:t(e.financing.q1),q2:t(e.financing.q2),q3:t(e.financing.q3),q4:t(e.financing.q4),yearly:t(e.financing.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Ending Cash Balance",q1:t(e.endingCash.q1),q2:t(e.endingCash.q2),q3:t(e.endingCash.q3),q4:t(e.endingCash.q4),yearly:t(e.endingCash.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"CASH FLOW METRICS",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Operating Cash Flow",q1:t(e.operatingCashFlow.q1),q2:t(e.operatingCashFlow.q2),q3:t(e.operatingCashFlow.q3),q4:t(e.operatingCashFlow.q4),yearly:t(e.operatingCashFlow.yearly)}),a.push({label:"Free Cash Flow",q1:t(e.freeCashFlow.q1),q2:t(e.freeCashFlow.q2),q3:t(e.freeCashFlow.q3),q4:t(e.freeCashFlow.q4),yearly:t(e.freeCashFlow.yearly)}),a}function P(e,t,a,s,r){let n=function(e,t,a,s,r){let n=[],l=[];return e||n.push("Direct Materials data (Schedule 3) is required for COGS calculation"),t||n.push("Direct Labor data (Schedule 4) is required for COGS calculation"),a||n.push("Manufacturing Overhead data (Schedule 5) is required for COGS calculation"),s||n.push("Production data (Schedule 2) is required for COGS calculation"),r.beginningWIPInventory<0&&n.push("Beginning Work-in-Process inventory cannot be negative"),r.endingWIPInventory<0&&n.push("Ending Work-in-Process inventory cannot be negative"),r.beginningFinishedGoodsInventory<0&&n.push("Beginning Finished Goods inventory cannot be negative"),r.endingFinishedGoodsInventory<0&&n.push("Ending Finished Goods inventory cannot be negative"),0===r.beginningWIPInventory&&0===r.endingWIPInventory&&l.push("No Work-in-Process inventory - assuming all production is completed within each period"),0===r.beginningFinishedGoodsInventory&&l.push("Beginning Finished Goods inventory is zero - no carryover from prior period"),s&&r.endingFinishedGoodsInventory>.5*s.requiredProduction.yearly&&l.push("Ending Finished Goods inventory seems high (>50% of annual production)"),{isValid:0===n.length,errors:n,warnings:l}}(e,t,a,s,r);if(!n.isValid||!e||!t||!a||!s)return{output:null,validation:n};let l=e.totalMaterialPurchaseCost.yearly,i=t.totalLaborCost.yearly,o=a.totalOverhead.yearly,c=l+i+o,d=r.beginningWIPInventory+c-r.endingWIPInventory,u=r.beginningFinishedGoodsInventory+d,m=u-r.endingFinishedGoodsInventory,x=s.requiredProduction.yearly,p=x-(r.endingFinishedGoodsInventory-r.beginningFinishedGoodsInventory);return{output:{directMaterial:l,directLabor:i,manufacturingOverhead:o,totalManufacturingCost:c,beginningWIPInventory:r.beginningWIPInventory,endingWIPInventory:r.endingWIPInventory,costOfGoodsManufactured:d,beginningFinishedGoodsInventory:r.beginningFinishedGoodsInventory,endingFinishedGoodsInventory:r.endingFinishedGoodsInventory,costOfGoodsAvailableForSale:u,costOfGoodsSold:m,unitsProduced:x,unitsSold:p,costPerUnitManufactured:x>0?d/x:0,costPerUnitSold:p>0?m/p:0},validation:n}}function w(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"MANUFACTURING COSTS",amount:""}),a.push({label:"Direct Materials Used",amount:t(e.directMaterial)}),a.push({label:"Direct Labor",amount:t(e.directLabor)}),a.push({label:"Manufacturing Overhead",amount:t(e.manufacturingOverhead)}),a.push({label:"",amount:""}),a.push({label:"Total Manufacturing Cost",amount:t(e.totalManufacturingCost)}),a.push({label:"",amount:""}),a.push({label:"WORK-IN-PROCESS INVENTORY",amount:""}),a.push({label:"Add: Beginning WIP Inventory",amount:t(e.beginningWIPInventory)}),a.push({label:"Less: Ending WIP Inventory",amount:"(".concat(t(e.endingWIPInventory),")")}),a.push({label:"",amount:""}),a.push({label:"Cost of Goods Manufactured",amount:t(e.costOfGoodsManufactured)}),a.push({label:"",amount:""}),a.push({label:"FINISHED GOODS INVENTORY",amount:""}),a.push({label:"Add: Beginning Finished Goods Inventory",amount:t(e.beginningFinishedGoodsInventory)}),a.push({label:"Cost of Goods Available for Sale",amount:t(e.costOfGoodsAvailableForSale)}),a.push({label:"Less: Ending Finished Goods Inventory",amount:"(".concat(t(e.endingFinishedGoodsInventory),")")}),a.push({label:"",amount:""}),a.push({label:"Cost of Goods Sold",amount:t(e.costOfGoodsSold)}),a.push({label:"",amount:""}),a.push({label:"PER-UNIT METRICS",amount:""}),a.push({label:"Units Produced",amount:t(e.unitsProduced)}),a.push({label:"Units Sold",amount:t(e.unitsSold)}),a.push({label:"Cost per Unit Manufactured",amount:t(e.costPerUnitManufactured)}),a.push({label:"Cost per Unit Sold",amount:t(e.costPerUnitSold)}),a}function F(e,t,a,s){let r=function(e,t,a,s){let r=[],n=[];return e||r.push("Sales Budget data (Schedule 1) is required for Income Statement"),t||r.push("Cost of Goods Sold data (Schedule 10) is required for Income Statement"),a||r.push("Selling & Administrative Expenses data (Schedule 6) is required for Income Statement"),s.interestExpense&&s.interestExpense<0&&r.push("Interest expense cannot be negative"),s.incomeTaxRate&&(s.incomeTaxRate<0||s.incomeTaxRate>1)&&r.push("Income tax rate must be between 0 and 1 (0% to 100%)"),s.interestExpense&&0!==s.interestExpense||n.push("No interest expense - assuming no debt financing"),s.incomeTaxRate&&0!==s.incomeTaxRate||n.push("No income tax rate specified - taxes will not be calculated"),{isValid:0===r.length,errors:r,warnings:n}}(e,t,a,s);if(!r.isValid||!e||!t||!a)return{output:null,validation:r};let n=e.salesRevenue.yearly,l=t.costOfGoodsSold,i=n-l,o=a.totalSGAExpenses.yearly,c=i-o,d=s.interestExpense||0,u=c-d,m=s.incomeTaxRate||0,x=u>0?u*m:0,p=u-x;return{output:{salesRevenue:n,costOfGoodsSold:l,grossMargin:i,grossMarginPercentage:n>0?i/n*100:0,sellingAdminExpenses:o,operatingIncome:c,operatingMarginPercentage:n>0?c/n*100:0,interestExpense:d,netIncomeBeforeTax:u,incomeTax:x,netIncome:p,netProfitMarginPercentage:n>0?p/n*100:0},validation:r}}function R(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=e=>"".concat(e.toFixed(1),"%"),s=[];return s.push({label:"Sales Revenue",amount:t(e.salesRevenue),percentage:"100.0%"}),s.push({label:"Less: Cost of Goods Sold",amount:"(".concat(t(e.costOfGoodsSold),")"),percentage:a(e.costOfGoodsSold/e.salesRevenue*100)}),s.push({label:"",amount:"",percentage:""}),s.push({label:"Gross Margin",amount:t(e.grossMargin),percentage:a(e.grossMarginPercentage)}),s.push({label:"",amount:"",percentage:""}),s.push({label:"OPERATING EXPENSES",amount:"",percentage:""}),s.push({label:"Selling & Administrative Expenses",amount:"(".concat(t(e.sellingAdminExpenses),")"),percentage:a(e.sellingAdminExpenses/e.salesRevenue*100)}),s.push({label:"",amount:"",percentage:""}),s.push({label:"Operating Income",amount:t(e.operatingIncome),percentage:a(e.operatingMarginPercentage)}),s.push({label:"",amount:"",percentage:""}),e.interestExpense>0&&(s.push({label:"OTHER EXPENSES",amount:"",percentage:""}),s.push({label:"Interest Expense",amount:"(".concat(t(e.interestExpense),")"),percentage:a(e.interestExpense/e.salesRevenue*100)}),s.push({label:"",amount:"",percentage:""})),s.push({label:"Net Income Before Tax",amount:t(e.netIncomeBeforeTax),percentage:a(e.netIncomeBeforeTax/e.salesRevenue*100)}),e.incomeTax>0&&(s.push({label:"Less: Income Tax",amount:"(".concat(t(e.incomeTax),")"),percentage:a(e.incomeTax/e.salesRevenue*100)}),s.push({label:"",amount:"",percentage:""})),s.push({label:"Net Income",amount:t(e.netIncome),percentage:a(e.netProfitMarginPercentage)}),s}function I(e,t,a,s,r,n,l){var i;let o=function(e,t,a,s,r){let n=[],l=[];return e||n.push("Income Statement data (Schedule 11) is required for Cash Flow Statement"),t||n.push("Cash Receipts data (Schedule 7) is required for Cash Flow Statement"),a||n.push("Cash Disbursements data (Schedule 8) is required for Cash Flow Statement"),s||n.push("Manufacturing Overhead data (Schedule 5) is required for depreciation"),r.beginningCash<0&&n.push("Beginning cash balance cannot be negative"),r.beginningAccountsReceivable<0&&n.push("Beginning accounts receivable cannot be negative"),r.beginningInventory<0&&n.push("Beginning inventory cannot be negative"),r.beginningAccountsPayable<0&&n.push("Beginning accounts payable cannot be negative"),0===r.beginningCash&&l.push("Beginning cash is zero - verify this is correct"),r.loanProceeds&&r.loanProceeds>0&&l.push("New borrowings will increase debt obligations"),{isValid:0===n.length,errors:n,warnings:l}}(e,t,a,s,l);if(!o.isValid||!e||!t||!a||!s)return{output:null,validation:o};let c=t.totalCashReceipts.yearly,d=a.materialPayments.yearly,u=a.laborPayments.yearly,m=a.overheadPayments.yearly,x=a.sgaPayments.yearly,p=a.incomeTaxPayments.yearly,h=c-d-u-m-x-p,q=a.capitalExpenditures.yearly,b=l.proceedsFromAssetSales||0,y=b-q,g=l.loanProceeds||0,v=a.loanPayments.yearly,f=l.stockIssued||0,j=a.dividendPayments.yearly,N=g-v+f-j,C=h+y+N,S=l.beginningCash,P=e.netIncome,w=(null==(i=s.depreciation)?void 0:i.yearly)||0,F=t.endingAccountsReceivable.yearly-l.beginningAccountsReceivable,R=0;n&&(R=n.endingFinishedGoodsInventory+n.endingWIPInventory-l.beginningInventory);let I=a.endingAccountsPayable.yearly-l.beginningAccountsPayable,E=P+w-F-R+I,A=(null==r?void 0:r.salesRevenue.yearly)||e.salesRevenue,Q=q+j+v;return{output:{cashReceiptsFromCustomers:c,cashPaidForMaterials:d,cashPaidForLabor:u,cashPaidForOverhead:m,cashPaidForSGA:x,cashPaidForTaxes:p,netCashFromOperating:h,capitalExpenditures:q,proceedsFromAssetSales:b,netCashFromInvesting:y,loanProceeds:g,loanRepayments:v,stockIssued:f,dividendsPaid:j,netCashFromFinancing:N,netChangeInCash:C,beginningCash:S,endingCash:S+C,netIncome:P,depreciation:w,changeInAccountsReceivable:F,changeInInventory:R,changeInAccountsPayable:I,indirectMethodOperatingCash:E,freeCashFlow:h-q,operatingCashToNetIncomeRatio:0!==P?h/P:0,capitalIntensityRatio:A>0?q/A*100:0,dividendCoverageRatio:j>0?h/j:1/0,debtServiceCoverageRatio:v>0?h/v:1/0,cashFlowAdequacyRatio:Q>0?h/Q:1/0},validation:o}}function E(e){let t=e=>{let t=Math.abs(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return e<0?"(".concat(t,")"):t},a=[];return a.push({section:"OPERATING ACTIVITIES",label:"",amount:"",isSubtotal:!1}),a.push({section:"Operating",label:"Cash Receipts from Customers",amount:t(e.cashReceiptsFromCustomers)}),a.push({section:"Operating",label:"Cash Paid for Materials",amount:t(-e.cashPaidForMaterials)}),a.push({section:"Operating",label:"Cash Paid for Labor",amount:t(-e.cashPaidForLabor)}),a.push({section:"Operating",label:"Cash Paid for Overhead",amount:t(-e.cashPaidForOverhead)}),a.push({section:"Operating",label:"Cash Paid for SG&A",amount:t(-e.cashPaidForSGA)}),a.push({section:"Operating",label:"Cash Paid for Taxes",amount:t(-e.cashPaidForTaxes)}),a.push({section:"Operating",label:"Net Cash from Operating Activities",amount:t(e.netCashFromOperating),isSubtotal:!0}),a.push({section:"INVESTING ACTIVITIES",label:"",amount:"",isSubtotal:!1}),a.push({section:"Investing",label:"Capital Expenditures",amount:t(-e.capitalExpenditures)}),e.proceedsFromAssetSales>0&&a.push({section:"Investing",label:"Proceeds from Asset Sales",amount:t(e.proceedsFromAssetSales)}),a.push({section:"Investing",label:"Net Cash from Investing Activities",amount:t(e.netCashFromInvesting),isSubtotal:!0}),a.push({section:"FINANCING ACTIVITIES",label:"",amount:"",isSubtotal:!1}),e.loanProceeds>0&&a.push({section:"Financing",label:"Loan Proceeds",amount:t(e.loanProceeds)}),e.loanRepayments>0&&a.push({section:"Financing",label:"Loan Repayments",amount:t(-e.loanRepayments)}),e.stockIssued>0&&a.push({section:"Financing",label:"Stock Issued",amount:t(e.stockIssued)}),e.dividendsPaid>0&&a.push({section:"Financing",label:"Dividends Paid",amount:t(-e.dividendsPaid)}),a.push({section:"Financing",label:"Net Cash from Financing Activities",amount:t(e.netCashFromFinancing),isSubtotal:!0}),a.push({section:"SUMMARY",label:"",amount:"",isSubtotal:!1}),a.push({section:"Summary",label:"Net Change in Cash",amount:t(e.netChangeInCash),isSubtotal:!0}),a.push({section:"Summary",label:"Beginning Cash Balance",amount:t(e.beginningCash)}),a.push({section:"Summary",label:"Ending Cash Balance",amount:t(e.endingCash),isTotal:!0}),a}function A(e){let t=e=>{let t=Math.abs(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return e<0?"(".concat(t,")"):t};return[{label:"Net Income",amount:t(e.netIncome)},{label:"Add: Depreciation",amount:t(e.depreciation)},{label:"Less: Increase in Accounts Receivable",amount:t(-e.changeInAccountsReceivable)},{label:"Less: Increase in Inventory",amount:t(-e.changeInInventory)},{label:"Add: Increase in Accounts Payable",amount:t(e.changeInAccountsPayable)},{label:"Net Cash from Operating (Indirect)",amount:t(e.indirectMethodOperatingCash),isSubtotal:!0}]}function Q(e){let t=e=>e===1/0?"N/A (no denominator)":e.toFixed(2);return[{label:"Free Cash Flow",value:(e=>{let t=Math.abs(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return e<0?"(".concat(t,")"):t})(e.freeCashFlow),interpretation:e.freeCashFlow>0?"Positive - cash available for growth":"Negative - may need financing"},{label:"Operating Cash / Net Income",value:t(e.operatingCashToNetIncomeRatio),interpretation:e.operatingCashToNetIncomeRatio>=1?"Good - cash supports earnings":"Lower quality earnings"},{label:"Capital Intensity (%)",value:"".concat(e.capitalIntensityRatio.toFixed(1),"%"),interpretation:e.capitalIntensityRatio<10?"Low capital requirements":"Capital intensive business"},{label:"Dividend Coverage",value:t(e.dividendCoverageRatio),interpretation:e.dividendCoverageRatio>=2?"Sustainable dividends":"Dividend sustainability concern"},{label:"Debt Service Coverage",value:t(e.debtServiceCoverageRatio),interpretation:e.debtServiceCoverageRatio>=1.5?"Good debt coverage":"Debt service risk"},{label:"Cash Flow Adequacy",value:t(e.cashFlowAdequacyRatio),interpretation:e.cashFlowAdequacyRatio>=1?"Self-financing capability":"External financing needed"}]}function k(e,t,a,s,r,n,l,i){var o;let c=function(e,t,a,s,r,n,l){let i=[],o=[];return e||i.push("Income Statement data (Schedule 11) is required for Balance Sheet"),t||i.push("Cash Budget data (Schedule 9) is required for ending cash balance"),a||i.push("Cash Receipts data (Schedule 7) is required for ending A/R balance"),s||i.push("Cash Disbursements data (Schedule 8) is required for ending A/P balance"),r||i.push("COGS data (Schedule 10) is required for inventory values"),n||i.push("Manufacturing Overhead data (Schedule 5) is required for depreciation"),l.beginningFixedAssets<0&&i.push("Beginning fixed assets cannot be negative"),l.beginningAccumulatedDepreciation<0&&i.push("Beginning accumulated depreciation cannot be negative"),l.beginningCommonStock<0&&i.push("Beginning common stock cannot be negative"),l.beginningRetainedEarnings<0&&o.push("Beginning retained earnings is negative (accumulated deficit)"),0===l.beginningLongTermDebt&&0===(l.newLongTermBorrowing||0)&&o.push("No long-term debt - company is fully equity financed"),{isValid:0===i.length,errors:i,warnings:o}}(e,t,a,s,r,n,i);if(!c.isValid||!e||!t||!a||!s||!r||!n)return{output:null,validation:c};let d=t.endingCash.q4,u=a.endingAccountsReceivable.q4,m=i.beginningRawMaterialInventory,x=r.endingWIPInventory,p=r.endingFinishedGoodsInventory,h=m+x+p,q=i.beginningOtherCurrentAssets+(i.otherCurrentAssetChange||0),b=d+u+h+q,y=s.capitalExpenditures.yearly,g=i.beginningFixedAssets+y,v=(null==(o=n.depreciation)?void 0:o.yearly)||0,f=i.beginningAccumulatedDepreciation+v,j=g-f,N=i.beginningOtherAssets+(i.otherAssetChange||0),C=b+j+N,S=s.endingAccountsPayable.q4,P=i.beginningWagesPayable,w=e.incomeTax-s.incomeTaxPayments.yearly,F=Math.max(0,i.beginningTaxesPayable+w),R=i.beginningOtherAccruedExpenses,I=i.beginningShortTermDebt,E=S+P+F+R+I,A=s.loanPayments.yearly,Q=i.newLongTermBorrowing||0,k=i.longTermDebtRepayment||A,U=i.beginningLongTermDebt+Q-k,B=E+U,D=i.stockIssued||0,T=i.beginningCommonStock+D,L=i.beginningRetainedEarnings,O=e.netIncome,M=s.dividendPayments.yearly,G=L+O-M,W=T+G,H=B+W,Y=Math.abs(C-H),V=Y<.01;V||c.warnings.push("Balance sheet does not balance. Difference: $".concat(Y.toFixed(2)));let z=(i.beginningFixedAssets+i.beginningOtherAssets+i.beginningOtherCurrentAssets+i.beginningRawMaterialInventory+i.beginningWIPInventory+i.beginningFinishedGoodsInventory+i.beginningAccountsReceivable+i.beginningCash+C)/2,J=(i.beginningCommonStock+i.beginningRetainedEarnings+W)/2,$=(null==l?void 0:l.salesRevenue.yearly)||e.salesRevenue;return{output:{cash:d,accountsReceivable:u,inventoryRawMaterial:m,inventoryWIP:x,inventoryFinishedGoods:p,totalInventory:h,otherCurrentAssets:q,totalCurrentAssets:b,fixedAssets:g,accumulatedDepreciation:f,netFixedAssets:j,otherAssets:N,totalAssets:C,accountsPayable:S,wagesPayable:P,taxesPayable:F,otherAccruedExpenses:R,shortTermDebt:I,totalCurrentLiabilities:E,longTermDebt:U,totalLiabilities:B,commonStock:T,beginningRetainedEarnings:L,netIncome:O,dividendsPaid:M,endingRetainedEarnings:G,totalEquity:W,totalLiabilitiesAndEquity:H,isBalanced:V,balanceDifference:Y,workingCapital:b-E,currentRatio:E>0?b/E:1/0,quickRatio:E>0?(d+u)/E:1/0,debtToEquityRatio:W>0?B/W:1/0,debtToAssetsRatio:C>0?B/C*100:0,returnOnAssets:z>0?O/z*100:0,returnOnEquity:J>0?O/J*100:0,assetTurnover:z>0?$/z:0},validation:c}}function U(e){let t=e=>{let t=Math.abs(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return e<0?"(".concat(t,")"):t},a=[];return a.push({section:"ASSETS",label:"",amount:""}),a.push({section:"Current Assets",label:"",amount:""}),a.push({section:"",label:"Cash",amount:t(e.cash)}),a.push({section:"",label:"Accounts Receivable",amount:t(e.accountsReceivable)}),a.push({section:"",label:"Inventory - Raw Materials",amount:t(e.inventoryRawMaterial)}),a.push({section:"",label:"Inventory - Work in Process",amount:t(e.inventoryWIP)}),a.push({section:"",label:"Inventory - Finished Goods",amount:t(e.inventoryFinishedGoods)}),a.push({section:"",label:"Total Inventory",amount:t(e.totalInventory),isSubtotal:!0}),e.otherCurrentAssets>0&&a.push({section:"",label:"Other Current Assets",amount:t(e.otherCurrentAssets)}),a.push({section:"",label:"Total Current Assets",amount:t(e.totalCurrentAssets),isSubtotal:!0}),a.push({section:"Fixed Assets",label:"",amount:""}),a.push({section:"",label:"Property, Plant & Equipment",amount:t(e.fixedAssets)}),a.push({section:"",label:"Less: Accumulated Depreciation",amount:"(".concat(t(e.accumulatedDepreciation),")")}),a.push({section:"",label:"Net Fixed Assets",amount:t(e.netFixedAssets),isSubtotal:!0}),e.otherAssets>0&&a.push({section:"",label:"Other Assets",amount:t(e.otherAssets)}),a.push({section:"",label:"TOTAL ASSETS",amount:t(e.totalAssets),isTotal:!0}),a.push({section:"LIABILITIES",label:"",amount:""}),a.push({section:"Current Liabilities",label:"",amount:""}),a.push({section:"",label:"Accounts Payable",amount:t(e.accountsPayable)}),e.wagesPayable>0&&a.push({section:"",label:"Wages Payable",amount:t(e.wagesPayable)}),e.taxesPayable>0&&a.push({section:"",label:"Taxes Payable",amount:t(e.taxesPayable)}),e.otherAccruedExpenses>0&&a.push({section:"",label:"Other Accrued Expenses",amount:t(e.otherAccruedExpenses)}),e.shortTermDebt>0&&a.push({section:"",label:"Short-term Debt",amount:t(e.shortTermDebt)}),a.push({section:"",label:"Total Current Liabilities",amount:t(e.totalCurrentLiabilities),isSubtotal:!0}),e.longTermDebt>0&&(a.push({section:"Long-term Liabilities",label:"",amount:""}),a.push({section:"",label:"Long-term Debt",amount:t(e.longTermDebt)})),a.push({section:"",label:"Total Liabilities",amount:t(e.totalLiabilities),isSubtotal:!0}),a.push({section:"STOCKHOLDERS' EQUITY",label:"",amount:""}),a.push({section:"",label:"Common Stock",amount:t(e.commonStock)}),a.push({section:"",label:"Retained Earnings:",amount:""}),a.push({section:"",label:"  Beginning Balance",amount:t(e.beginningRetainedEarnings)}),a.push({section:"",label:"  Add: Net Income",amount:t(e.netIncome)}),a.push({section:"",label:"  Less: Dividends",amount:"(".concat(t(e.dividendsPaid),")")}),a.push({section:"",label:"  Ending Retained Earnings",amount:t(e.endingRetainedEarnings),isSubtotal:!0}),a.push({section:"",label:"Total Stockholders' Equity",amount:t(e.totalEquity),isSubtotal:!0}),a.push({section:"",label:"TOTAL LIABILITIES & EQUITY",amount:t(e.totalLiabilitiesAndEquity),isTotal:!0}),a}function B(e){let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e===1/0?"N/A":e.toFixed(t)};return[{category:"Liquidity",label:"Working Capital",value:"$".concat((e=>{let t=Math.abs(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return e<0?"(".concat(t,")"):t})(e.workingCapital)),interpretation:e.workingCapital>0?"Positive - can meet short-term obligations":"Negative - liquidity concern"},{category:"Liquidity",label:"Current Ratio",value:t(e.currentRatio),interpretation:e.currentRatio>=2?"Strong liquidity":e.currentRatio>=1?"Adequate liquidity":"Liquidity concern"},{category:"Liquidity",label:"Quick Ratio",value:t(e.quickRatio),interpretation:e.quickRatio>=1?"Good quick liquidity":"May need to liquidate inventory"},{category:"Solvency",label:"Debt-to-Equity Ratio",value:t(e.debtToEquityRatio),interpretation:e.debtToEquityRatio<=1?"Conservative leverage":e.debtToEquityRatio<=2?"Moderate leverage":"High leverage"},{category:"Solvency",label:"Debt-to-Assets Ratio",value:"".concat(t(e.debtToAssetsRatio,1),"%"),interpretation:e.debtToAssetsRatio<=50?"Low debt financing":"High debt financing"},{category:"Profitability",label:"Return on Assets (ROA)",value:"".concat(t(e.returnOnAssets,1),"%"),interpretation:e.returnOnAssets>=10?"Excellent asset efficiency":e.returnOnAssets>=5?"Good asset efficiency":"Below average"},{category:"Profitability",label:"Return on Equity (ROE)",value:"".concat(t(e.returnOnEquity,1),"%"),interpretation:e.returnOnEquity>=15?"Excellent return to owners":e.returnOnEquity>=10?"Good return":"Below average"},{category:"Efficiency",label:"Asset Turnover",value:"".concat(t(e.assetTurnover),"x"),interpretation:e.assetTurnover>=1?"Efficient asset utilization":"Low asset turnover"}]}var D=a(34);function T(){var e,t,a,n,d;let[T,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{L("true"===localStorage.getItem("darkMode"))},[]);let[O,M]=(0,r.useState)(""),[G,W]=(0,r.useState)(""),[H,Y]=(0,r.useState)(""),[V,z]=(0,r.useState)(new Date().getFullYear().toString()),[J,$]=(0,r.useState)(""),[K,X]=(0,r.useState)(""),[_,Z]=(0,r.useState)(""),[ee,et]=(0,r.useState)(""),[ea,es]=(0,r.useState)(""),[er,en]=(0,r.useState)(""),[el,ei]=(0,r.useState)(""),[eo,ec]=(0,r.useState)(""),[ed,eu]=(0,r.useState)(""),[em,ex]=(0,r.useState)(""),[ep,eh]=(0,r.useState)("0"),[eq,eb]=(0,r.useState)("inflation"),[ey,eg]=(0,r.useState)(""),[ev,ef]=(0,r.useState)(""),[ej,eN]=(0,r.useState)(""),[eC,eS]=(0,r.useState)(null),[eP,ew]=(0,r.useState)([]),[eF,eR]=(0,r.useState)(null),[eI,eE]=(0,r.useState)(null),[eA,eQ]=(0,r.useState)(null),[ek,eU]=(0,r.useState)(null),[eB,eD]=(0,r.useState)(null),[eT,eL]=(0,r.useState)(null),[eO,eM]=(0,r.useState)(null),[eG,eW]=(0,r.useState)(!0),[eH,eY]=(0,r.useState)(""),[eV,ez]=(0,r.useState)(""),[eJ,e$]=(0,r.useState)(""),[eK,eX]=(0,r.useState)(""),[e_,eZ]=(0,r.useState)(""),[e0,e2]=(0,r.useState)(""),[e1,e4]=(0,r.useState)(""),[e3,e5]=(0,r.useState)(!1),[e6,e8]=(0,r.useState)(""),[e7,e9]=(0,r.useState)(null),[te,tt]=(0,r.useState)([]),[ta,ts]=(0,r.useState)([{name:"",requiredPerUnit:0,costPerUnit:0,beginningInventory:0,desiredEndingInventoryRatio:0,unit:""}]),[tr,tn]=(0,r.useState)(""),[tl,ti]=(0,r.useState)(""),[to,tc]=(0,r.useState)(""),[td,tu]=(0,r.useState)(null),[tm,tx]=(0,r.useState)([]),[tp,th]=(0,r.useState)(!0),[tq,tb]=(0,r.useState)(""),[ty,tg]=(0,r.useState)(""),[tv,tf]=(0,r.useState)([{name:"",hoursPerUnit:0,wageRatePerHour:0}]),[tj,tN]=(0,r.useState)(""),[tC,tS]=(0,r.useState)(""),[tP,tw]=(0,r.useState)("1.5"),[tF,tR]=(0,r.useState)(""),[tI,tE]=(0,r.useState)(""),[tA,tQ]=(0,r.useState)(""),[tk,tU]=(0,r.useState)(""),[tB,tD]=(0,r.useState)(""),[tT,tL]=(0,r.useState)(null),[tO,tM]=(0,r.useState)([]),[tG,tW]=(0,r.useState)("simple"),[tH,tY]=(0,r.useState)(""),[tV,tz]=(0,r.useState)(""),[tJ,t$]=(0,r.useState)(""),[tK,tX]=(0,r.useState)(""),[t_,tZ]=(0,r.useState)("units"),[t0,t2]=(0,r.useState)([{name:"",costType:"variable",amount:0,costDriver:"units"}]),[t1,t4]=(0,r.useState)(!1),[t3,t5]=(0,r.useState)(""),[t6,t8]=(0,r.useState)(""),[t7,t9]=(0,r.useState)(""),[ae,at]=(0,r.useState)(""),[aa,as]=(0,r.useState)(""),[ar,an]=(0,r.useState)(""),[al,ai]=(0,r.useState)(""),[ao,ac]=(0,r.useState)(""),[ad,au]=(0,r.useState)(""),[am,ax]=(0,r.useState)(""),[ap,ah]=(0,r.useState)(""),[aq,ab]=(0,r.useState)(""),[ay,ag]=(0,r.useState)(""),[av,af]=(0,r.useState)(""),[aj,aN]=(0,r.useState)(""),[aC,aS]=(0,r.useState)(""),[aP,aw]=(0,r.useState)(""),[aF,aR]=(0,r.useState)(""),[aI,aE]=(0,r.useState)(""),[aA,aQ]=(0,r.useState)(!1),[ak,aU]=(0,r.useState)(""),[aB,aD]=(0,r.useState)(""),[aT,aL]=(0,r.useState)(""),[aO,aM]=(0,r.useState)(""),[aG,aW]=(0,r.useState)(""),[aH,aY]=(0,r.useState)(""),[aV,az]=(0,r.useState)(""),[aJ,a$]=(0,r.useState)(""),[aK,aX]=(0,r.useState)(""),[a_,aZ]=(0,r.useState)(""),[a0,a2]=(0,r.useState)(""),[a1,a4]=(0,r.useState)(null),[a3,a5]=(0,r.useState)([]),[a6,a8]=(0,r.useState)("simple"),[a7,a9]=(0,r.useState)(!0),[se,st]=(0,r.useState)(""),[sa,ss]=(0,r.useState)(""),[sr,sn]=(0,r.useState)(""),[sl,si]=(0,r.useState)(""),[so,sc]=(0,r.useState)(""),[sd,su]=(0,r.useState)(""),[sm,sx]=(0,r.useState)(""),[sp,sh]=(0,r.useState)(""),[sq,sb]=(0,r.useState)(""),[sy,sg]=(0,r.useState)(""),[sv,sf]=(0,r.useState)(""),[sj,sN]=(0,r.useState)(""),[sC,sS]=(0,r.useState)(""),[sP,sw]=(0,r.useState)(""),[sF,sR]=(0,r.useState)(""),[sI,sE]=(0,r.useState)(""),[sA,sQ]=(0,r.useState)(""),[sk,sU]=(0,r.useState)(""),[sB,sD]=(0,r.useState)(""),[sT,sL]=(0,r.useState)(""),[sO,sM]=(0,r.useState)(""),[sG,sW]=(0,r.useState)(""),[sH,sY]=(0,r.useState)(""),[sV,sz]=(0,r.useState)(""),[sJ,s$]=(0,r.useState)(""),[sK,sX]=(0,r.useState)(null),[s_,sZ]=(0,r.useState)([]),[s0,s2]=(0,r.useState)(""),[s1,s4]=(0,r.useState)(""),[s3,s5]=(0,r.useState)(""),[s6,s8]=(0,r.useState)(""),[s7,s9]=(0,r.useState)(null),[re,rt]=(0,r.useState)([]),[ra,rs]=(0,r.useState)([]),[rr,rn]=(0,r.useState)(""),[rl,ri]=(0,r.useState)(""),[ro,rc]=(0,r.useState)(""),[rd,ru]=(0,r.useState)(""),[rm,rx]=(0,r.useState)(""),[rp,rh]=(0,r.useState)(""),[rq,rb]=(0,r.useState)(""),[ry,rg]=(0,r.useState)(""),[rv,rf]=(0,r.useState)(""),[rj,rN]=(0,r.useState)(""),[rC,rS]=(0,r.useState)(""),[rP,rw]=(0,r.useState)(""),[rF,rR]=(0,r.useState)(""),[rI,rE]=(0,r.useState)(""),[rA,rQ]=(0,r.useState)(""),[rk,rU]=(0,r.useState)(""),[rB,rD]=(0,r.useState)(""),[rT,rL]=(0,r.useState)(""),[rO,rM]=(0,r.useState)(""),[rG,rW]=(0,r.useState)(null),[rH,rY]=(0,r.useState)([]),[rV,rz]=(0,r.useState)([]),[rJ,r$]=(0,r.useState)(""),[rK,rX]=(0,r.useState)(""),[r_,rZ]=(0,r.useState)(""),[r0,r2]=(0,r.useState)(""),[r1,r4]=(0,r.useState)(null),[r3,r5]=(0,r.useState)([]),[r6,r8]=(0,r.useState)([]),[r7,r9]=(0,r.useState)(""),[ne,nt]=(0,r.useState)(""),[na,ns]=(0,r.useState)(""),[nr,nn]=(0,r.useState)(""),[nl,ni]=(0,r.useState)(null),[no,nc]=(0,r.useState)([]),[nd,nu]=(0,r.useState)([]),[nm,nx]=(0,r.useState)(""),[np,nh]=(0,r.useState)(""),[nq,nb]=(0,r.useState)(null),[ny,ng]=(0,r.useState)([]),[nv,nf]=(0,r.useState)([]),[nj,nN]=(0,r.useState)(""),[nC,nS]=(0,r.useState)(""),[nP,nw]=(0,r.useState)(""),[nF,nR]=(0,r.useState)(""),[nI,nE]=(0,r.useState)(""),[nA,nQ]=(0,r.useState)(""),[nk,nU]=(0,r.useState)(""),[nB,nD]=(0,r.useState)(null),[nT,nL]=(0,r.useState)([]),[nO,nM]=(0,r.useState)([]),[nG,nW]=(0,r.useState)(""),[nH,nY]=(0,r.useState)(""),[nV,nz]=(0,r.useState)(""),[nJ,n$]=(0,r.useState)(""),[nK,nX]=(0,r.useState)(""),[n_,nZ]=(0,r.useState)(""),[n0,n2]=(0,r.useState)(""),[n1,n4]=(0,r.useState)(""),[n3,n5]=(0,r.useState)(""),[n6,n8]=(0,r.useState)(""),[n7,n9]=(0,r.useState)(""),[le,lt]=(0,r.useState)(""),[la,ls]=(0,r.useState)(""),[lr,ln]=(0,r.useState)(""),[ll,li]=(0,r.useState)(""),[lo,lc]=(0,r.useState)(""),[ld,lu]=(0,r.useState)(""),[lm,lx]=(0,r.useState)(""),[lp,lh]=(0,r.useState)(""),[lq,lb]=(0,r.useState)(""),[ly,lg]=(0,r.useState)(null),[lv,lf]=(0,r.useState)([]),[lj,lN]=(0,r.useState)([]),lC=(e,t,a)=>{let s=[...ta];s[e][t]=a,ts(s)},lS=(e,t,a)=>{let s=[...tv];s[e][t]=a,tf(s)},lP=T?"bg-[#111]":"bg-white",lw=T?"text-gray-100":"text-[#454545]",lF=T?"text-white":"text-black",lR=T?"bg-[#222] border-gray-700 text-white":"bg-white border-gray-300 text-black",lI=T?"bg-white text-black hover:bg-gray-200":"bg-black text-white hover:bg-gray-800",lE=T?"border-gray-800":"border-gray-200";return(0,s.jsxs)("div",{className:"min-h-screen ".concat(lP," ").concat(lw),children:[(0,s.jsxs)("header",{className:"max-w-5xl mx-auto px-6 py-6 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l(),{href:"/",className:"text-sm hover:underline ".concat(lw),children:" Home"}),(0,s.jsx)("span",{className:"text-xs ".concat(T?"text-gray-600":"text-gray-300"),children:"|"}),(0,s.jsx)(l(),{href:"/dashboard",className:"text-sm hover:underline ".concat(T?"text-blue-400":"text-blue-600"),children:"Dashboard"})]}),(0,s.jsx)("h1",{className:"text-xl font-semibold ".concat(lF),children:"Budget Input"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>{M("ABC Manufacturing Company"),W("Premium Widget"),Y("USD"),z("2026"),$("Example data for ABC Manufacturing Company - a mid-sized widget manufacturer with steady growth and seasonal demand patterns."),X("10000"),Z("12000"),et("15000"),es("13000"),en("11000"),ei("13200"),ec("16500"),eu("14300"),ex("50"),eh("0.02"),eb("inflation"),eg("0.30"),ef("0.70"),eN("0.10"),eY("2000"),ez("0.15"),e$("12100"),eX("20000"),eZ("1000"),e2("5000"),e4("2.50"),e5(!1),e8("0.02"),ts([{name:"Steel Frame",requiredPerUnit:2,costPerUnit:8,beginningInventory:5e3,desiredEndingInventoryRatio:.1,unit:"kg",scrapWastePercentage:.03,bulkDiscountThreshold:1e4,bulkDiscountRate:.08,priceInflationRate:.015,useJIT:!1},{name:"Electronic Components",requiredPerUnit:3,costPerUnit:12,beginningInventory:8e3,desiredEndingInventoryRatio:.12,unit:"pieces",scrapWastePercentage:.02,bulkDiscountThreshold:15e3,bulkDiscountRate:.1,priceInflationRate:.01,useJIT:!1},{name:"Plastic Housing",requiredPerUnit:1,costPerUnit:5,beginningInventory:3e3,desiredEndingInventoryRatio:.1,unit:"units",scrapWastePercentage:.04,bulkDiscountThreshold:8e3,bulkDiscountRate:.05,priceInflationRate:.02,useJIT:!1}]),tn("12500"),ti("0.60"),tc("0.40"),th(!1),tb("3"),tg("25"),tf([{name:"Assembly Workers",hoursPerUnit:1.5,wageRatePerHour:22},{name:"Quality Inspectors",hoursPerUnit:.5,wageRatePerHour:28},{name:"Finishing Technicians",hoursPerUnit:1,wageRatePerHour:25}]),tN("0.02"),tS("2000"),tw("1.5"),tR("0.25"),tE("0.95"),tQ("0.12"),tU("1500"),tD("500"),tW("abc"),t4(!0),tY("6"),tz("3"),t$("28000"),tX("8000"),tZ("labor-hours"),t5("15"),t8("18"),t9("22"),at("19"),as("800"),an("25"),ai("30"),ac("35"),au("32"),ax("150"),ah("1200"),ab("1400"),ag("1700"),af("1500"),aN("15"),aS("12000"),aw("3000"),aR("2000"),aE("4000"),aQ(!1),aU("18000"),aD("12000"),aL("3"),aM("1500"),aW("4500"),aY("6"),az("1.5"),a$("6500"),aX("2000"),aZ("3500"),a2("1500"),a8("detailed"),a9(!1),st("0.08"),ss("0.05"),sn("35000"),si("45000"),sc("0.05"),su(""),sx("3.50"),sh("8000"),sb("15000"),sg("1.50"),sf("12000"),sN("8000"),sS("10000"),sw("35000"),sR("22000"),sE("15000"),sQ("20000"),sU("10000"),sD("3000"),sL("4500"),sM("1500"),sW("1200"),sY("5000"),sz("0.02"),s$("3500"),s2("0.70"),s4("0.28"),s5("0.02"),s8("25000"),rn("0.55"),ri("0.45"),rc("20000"),ru("0"),rx("12000"),rh("0"),rb("15000"),rg("0"),rf("0"),rN("0"),rS("8000"),rw("10000"),rR("0"),rE("15000"),rQ("0"),rU("6000"),rD("6000"),rL("6000"),rM("6000"),r$("40000"),rX("15000"),rZ("0.08"),r2("0.03"),r9("3000"),nt("3500"),ns("10000"),nn("12000"),nx("15000"),nh("0.25"),nN("40000"),nS("50000"),nw("60000"),nR("35000"),nE("25000"),nQ("10000"),nU("5000"),nW("40000"),nY("60000"),nz("22000"),n$("10000"),nX("30000"),nZ("5000"),n2("350000"),n4("100000"),n5("10000"),n8("40000"),n9("10000"),lt("12000"),ls("5000"),ln("15000"),li("100000"),lc("150000"),lu("95000"),lx("20000"),lh("10000"),lb("10000");let e={historicalSalesUnits:{q1:1e4,q2:12e3,q3:15e3,q4:13e3,yearly:5e4},forecastedSalesUnits:{q1:11e3,q2:13200,q3:16500,q4:14300,yearly:55e3},sellingPricePerUnit:50,priceInflationRate:.02,cashSalesPercentage:.3,creditSalesPercentage:.7},t=i(e);eS(o(t,e)),ew([]),eR(t),eM(e.historicalSalesUnits||null);let a={forecastedSalesUnits:{q1:11e3,q2:13200,q3:16500,q4:14300,yearly:55e3},beginningInventory:2e3,desiredEndingInventoryRatio:.15,nextYearQ1ForecastedSales:12100,maxProductionCapacityPerQuarter:2e4,minimumBatchSize:1e3,optimalBatchSize:5e3,inventoryCarryingCostPerUnit:2.5,useJIT:!1,obsolescenceRiskPercentage:.02},s=c(a);e9(u(s,a)),tt([]),eE(s);let r=m({unitsToBeProduced:s.requiredProduction,materials:[{name:"Steel Frame",requiredPerUnit:2,costPerUnit:8,beginningInventory:5e3,desiredEndingInventoryRatio:.1,unit:"kg",scrapWastePercentage:.03,bulkDiscountThreshold:1e4,bulkDiscountRate:.08,priceInflationRate:.015,useJIT:!1},{name:"Electronic Components",requiredPerUnit:3,costPerUnit:12,beginningInventory:8e3,desiredEndingInventoryRatio:.12,unit:"pieces",scrapWastePercentage:.02,bulkDiscountThreshold:15e3,bulkDiscountRate:.1,priceInflationRate:.01,useJIT:!1},{name:"Plastic Housing",requiredPerUnit:1,costPerUnit:5,beginningInventory:3e3,desiredEndingInventoryRatio:.1,unit:"units",scrapWastePercentage:.04,bulkDiscountThreshold:8e3,bulkDiscountRate:.05,priceInflationRate:.02,useJIT:!1}],nextYearQ1Production:12500,percentPaidInCurrentQuarter:.6,percentPaidInNextQuarter:.4});tu(x(r)),tx([]),eQ(r);let n=p({unitsToBeProduced:s.requiredProduction,laborCategories:[{name:"Assembly Workers",hoursPerUnit:1.5,wageRatePerHour:22},{name:"Quality Inspectors",hoursPerUnit:.5,wageRatePerHour:28},{name:"Finishing Technicians",hoursPerUnit:1,wageRatePerHour:25}],wageInflationRate:.02,overtimeThreshold:2e3,overtimeMultiplier:1.5,fringeBenefitRate:.25,productivityEfficiencyRate:.95,turnoverRate:.12,trainingCostPerEmployee:1500,averageHoursPerEmployee:500});tL(h(n)),tM([]),eU(n);let l=q({unitsToBeProduced:s.requiredProduction,directLaborHours:n.totalLaborHoursRequired,variableOverheadRatePerUnit:6,variableOverheadRatePerLaborHour:3,fixedOverheadPerQuarter:28e3,depreciationPerQuarter:8e3,useActivityBasedCosting:!0,numberOfProductionRuns:{q1:15,q2:18,q3:22,q4:19,yearly:74},costPerProductionRun:800,numberOfInspections:{q1:25,q2:30,q3:35,q4:32,yearly:122},costPerInspection:150,machineHours:{q1:1200,q2:1400,q3:1700,q4:1500,yearly:5800},costPerMachineHour:15,facilityRent:12e3,facilityInsurance:3e3,propertyTaxes:2e3,utilities:4e3,utilitiesIsVariable:!1,supervisorySalaries:18e3,supportStaffSalaries:12e3,indirectMaterialsPerUnit:3,shopSuppliesPerQuarter:1500,plannedMaintenancePerQuarter:4500,maintenancePerMachineHour:6,qualityControlPerUnit:1.5,qualityControlLabor:6500,technologyCosts:2e3,warehouseCosts:3500,environmentalComplianceCosts:1500});a4(b(l)),a5([]),eD(l);let d=y({salesRevenue:t.salesRevenue,salesUnits:t.salesUnits,commissionRate:.05,distributionCostPerUnit:3.5,distributionFixedCostPerQuarter:8e3,customerServiceSalaries:15e3,warrantyExpensePerUnit:1.5,advertisingBudgetPerQuarter:12e3,brandDevelopmentPerQuarter:8e3,marketingCampaignsPerQuarter:1e4,executiveSalaries:35e3,financeSalaries:22e3,hrSalaries:15e3,itSalaries:2e4,officeRentPerQuarter:1e4,utilitiesPerQuarter:3e3,softwareLicensesPerQuarter:4500,telecommunicationsPerQuarter:1500,officeSuppliesPerQuarter:1200,legalFeesPerQuarter:5e3,badDebtRate:.02,depreciationOfficeEquipment:3500});sX(g(d)),sZ([]),eL(d);let f=v(t,{percentCollectedInSameQuarter:.7,percentCollectedInNextQuarter:.28,percentUncollectible:.02,beginningAccountsReceivable:25e3});s9(f.output),rt(f.validation.errors);let N=j(r,n,l,d,{percentMaterialPaidSameQuarter:.55,percentMaterialPaidNextQuarter:.45,beginningAccountsPayable:2e4,incomeTaxPayments:{q1:0,q2:12e3,q3:0,q4:15e3,yearly:27e3},dividendPayments:{q1:0,q2:0,q3:0,q4:8e3,yearly:8e3},capitalExpenditures:{q1:1e4,q2:0,q3:15e3,q4:0,yearly:25e3},loanPayments:{q1:6e3,q2:6e3,q3:6e3,q4:6e3,yearly:24e3}});if(rW(N.output),rY(N.validation.errors),f.output&&N.output){let e=C(f.output,N.output,{beginningCashBalance:4e4,minimumCashBalance:15e3,interestRateOnBorrowing:.08,interestRateOnInvestments:.03});r4(e.output),r5(e.validation.errors);let a=P(r,n,l,s,{beginningWIPInventory:3e3,endingWIPInventory:3500,beginningFinishedGoodsInventory:1e4,endingFinishedGoodsInventory:12e3});if(ni(a.output),nc(a.validation.errors),a.output){let s=F(t,a.output,d,{interestExpense:15e3,incomeTaxRate:.25});if(nb(s.output),ng(s.validation.errors),s.output){let r=I(s.output,f.output,N.output,l,t,a.output,{beginningCash:4e4,beginningAccountsReceivable:5e4,beginningInventory:6e4,beginningAccountsPayable:35e3,loanProceeds:25e3,stockIssued:1e4,proceedsFromAssetSales:5e3});nD(r.output),nL(r.validation.errors);let n=k(s.output,e.output,f.output,N.output,a.output,l,t,{beginningCash:4e4,beginningAccountsReceivable:6e4,beginningRawMaterialInventory:22e3,beginningWIPInventory:1e4,beginningFinishedGoodsInventory:3e4,beginningOtherCurrentAssets:5e3,beginningFixedAssets:35e4,beginningAccumulatedDepreciation:1e5,beginningOtherAssets:1e4,beginningAccountsPayable:4e4,beginningWagesPayable:1e4,beginningTaxesPayable:12e3,beginningOtherAccruedExpenses:5e3,beginningShortTermDebt:15e3,beginningLongTermDebt:1e5,beginningCommonStock:15e4,beginningRetainedEarnings:95e3,newLongTermBorrowing:2e4,longTermDebtRepayment:1e4,stockIssued:1e4});lg(n.output),lf(n.validation.errors)}}}},className:"text-sm px-4 py-2 border ".concat(T?"border-green-700 bg-green-900 text-green-200 hover:bg-green-800":"border-green-600 bg-green-50 text-green-700 hover:bg-green-100"," transition-colors"),children:"Load Example: ABC Manufacturing"}),(0,s.jsx)("span",{className:"text-xs ".concat(T?"text-gray-400":"text-gray-500"),children:"Inverted Mode"}),(0,s.jsx)("button",{onClick:()=>{let e=!T;L(e),localStorage.setItem("darkMode",String(e))},className:"text-sm hover:underline ".concat(T?"text-gray-300":"text-[#454545]"),children:T?"Light":"Dark"})]})]}),(0,s.jsxs)("main",{className:"max-w-5xl mx-auto px-6 py-12 ".concat(lw),children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 1: Sales Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Enter your forecasted sales data"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Company Information"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Company Name"}),(0,s.jsx)("input",{type:"text",value:O,onChange:e=>M(e.target.value),placeholder:"Type company name",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Product Name"}),(0,s.jsx)("input",{type:"text",value:G,onChange:e=>W(e.target.value),placeholder:"Type product name",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Currency"}),(0,s.jsx)("input",{type:"text",value:H,onChange:e=>Y(e.target.value),placeholder:"Type currency",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Fiscal Year"}),(0,s.jsx)("input",{type:"text",value:V,onChange:e=>z(e.target.value),placeholder:"Type fiscal year",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Prior Year Sales (Optional)"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(lw),children:"Enter last year's sales to see growth comparison. Leave blank if not applicable."}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q1 (Oct-Dec)"}),(0,s.jsx)("input",{type:"number",value:K,onChange:e=>X(e.target.value),placeholder:"800",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q2 (Jan-Mar)"}),(0,s.jsx)("input",{type:"number",value:_,onChange:e=>Z(e.target.value),placeholder:"1200",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q3 (Apr-Jun)"}),(0,s.jsx)("input",{type:"number",value:ee,onChange:e=>et(e.target.value),placeholder:"1000",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q4 (Jul-Sep)"}),(0,s.jsx)("input",{type:"number",value:ea,onChange:e=>es(e.target.value),placeholder:"1100",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]})]}),(0,s.jsxs)("div",{className:"p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-8"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(lF),children:"Quick Forecast Calculator"}),(0,s.jsx)("p",{className:"text-xs mb-3 ".concat(lw),children:"Apply a growth rate to prior year sales to auto-calculate current year forecast"}),(0,s.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Growth Rate (%)"}),(0,s.jsx)("input",{type:"number",step:"0.1",value:ej,onChange:e=>eN(e.target.value),placeholder:"e.g., 15 for 15% growth",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsx)("button",{onClick:()=>{let e=parseFloat(ej)/100||0,t=parseFloat(K)||0,a=parseFloat(_)||0,s=parseFloat(ee)||0,r=parseFloat(ea)||0;if(0===t&&0===a&&0===s&&0===r)return void alert("Please enter prior year sales data first");en(String(Math.round(t*(1+e)))),ei(String(Math.round(a*(1+e)))),ec(String(Math.round(s*(1+e)))),eu(String(Math.round(r*(1+e))))},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Apply to Forecast"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Forecasted Sales (Current Year)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q1 (Oct-Dec)"}),(0,s.jsx)("input",{type:"number",value:er,onChange:e=>en(e.target.value),placeholder:"1000",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q2 (Jan-Mar)"}),(0,s.jsx)("input",{type:"number",value:el,onChange:e=>ei(e.target.value),placeholder:"1500",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q3 (Apr-Jun)"}),(0,s.jsx)("input",{type:"number",value:eo,onChange:e=>ec(e.target.value),placeholder:"1200",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Q4 (Jul-Sep)"}),(0,s.jsx)("input",{type:"number",value:ed,onChange:e=>eu(e.target.value),placeholder:"1300",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-3 ".concat(lF),children:"Price Adjustment Method"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"priceAdjustment",value:"constant",checked:"constant"===eq,onChange:e=>eb(e.target.value),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(lw),children:"Constant Price (same across all quarters)"})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"priceAdjustment",value:"inflation",checked:"inflation"===eq,onChange:e=>eb(e.target.value),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(lw),children:"Inflation-Adjusted Price"})]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Selling Price per Unit (",H,")"]}),(0,s.jsx)("input",{type:"number",value:em,onChange:e=>ex(e.target.value),placeholder:"85000",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Inflation Rate (Annual %)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ep,onChange:e=>eh(e.target.value),placeholder:"0.15",className:"w-full px-4 py-3 border ".concat(lR," text-base"),disabled:"constant"===eq}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"constant"===eq?"Disabled when using constant price":"Enter as decimal (e.g., 0.15 for 15%)"})]})]}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Cash vs Credit Sales (Optional)"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(lw),children:"Split sales revenue into cash (collected immediately) and credit (collected later). Required for Schedule 8 (Cash Receipts Budget)."}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Cash Sales Percentage"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ey,onChange:e=>eg(e.target.value),placeholder:"0.40",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Enter as decimal (e.g., 0.40 for 40% cash sales)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Credit Sales Percentage"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ev,onChange:e=>ef(e.target.value),placeholder:"0.60",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Enter as decimal (e.g., 0.60 for 60% credit sales)"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Budget Assumptions & Notes (Optional)"}),(0,s.jsx)("textarea",{value:J,onChange:e=>$(e.target.value),placeholder:"e.g., Conservative forecast due to market uncertainty; New market entry in Q3; Based on historical growth trends...",rows:3,className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Document key assumptions for reference"})]}),(0,s.jsx)("button",{onClick:()=>{let e=(parseFloat(K)||0)+(parseFloat(_)||0)+(parseFloat(ee)||0)+(parseFloat(ea)||0),t=""!==ey||""!==ev,a={historicalSalesUnits:e>0?{q1:parseFloat(K)||0,q2:parseFloat(_)||0,q3:parseFloat(ee)||0,q4:parseFloat(ea)||0,yearly:e}:void 0,forecastedSalesUnits:{q1:parseFloat(er)||0,q2:parseFloat(el)||0,q3:parseFloat(eo)||0,q4:parseFloat(ed)||0,yearly:(parseFloat(er)||0)+(parseFloat(el)||0)+(parseFloat(eo)||0)+(parseFloat(ed)||0)},sellingPricePerUnit:parseFloat(em)||0,priceInflationRate:"inflation"===eq&&parseFloat(ep)||0,cashSalesPercentage:t?parseFloat(ey)||0:void 0,creditSalesPercentage:t?parseFloat(ev)||0:void 0},s=function(e){let t=[];e.forecastedSalesUnits.q1<0&&t.push("Q1 sales units cannot be negative"),e.forecastedSalesUnits.q2<0&&t.push("Q2 sales units cannot be negative"),e.forecastedSalesUnits.q3<0&&t.push("Q3 sales units cannot be negative"),e.forecastedSalesUnits.q4<0&&t.push("Q4 sales units cannot be negative"),e.sellingPricePerUnit<=0&&t.push("Selling price must be greater than zero"),void 0!==e.priceInflationRate&&0!==e.priceInflationRate&&(e.priceInflationRate<-1&&t.push("Price inflation rate cannot be less than -100%"),e.priceInflationRate>2&&t.push("Price inflation rate seems unrealistic (over 200%)"),e.priceInflationRate>.5&&t.push("WARNING: Inflation rate over 50% is unusually high. Please verify."));let a=e.forecastedSalesUnits.q1+e.forecastedSalesUnits.q2+e.forecastedSalesUnits.q3+e.forecastedSalesUnits.q4;Math.abs(a-e.forecastedSalesUnits.yearly)>.01&&t.push("Yearly total (".concat(e.forecastedSalesUnits.yearly,") does not match sum of quarters (").concat(a,")"));let s=[{name:"Q1",value:e.forecastedSalesUnits.q1},{name:"Q2",value:e.forecastedSalesUnits.q2},{name:"Q3",value:e.forecastedSalesUnits.q3},{name:"Q4",value:e.forecastedSalesUnits.q4}],r=s.filter(e=>0===e.value);if(r.length>0&&a>0&&t.push("WARNING: Zero sales forecasted for ".concat(r.map(e=>e.name).join(", "),". Is this intentional?")),a>0&&s.forEach(e=>{let s=e.value/a*100;s>80&&t.push("WARNING: ".concat(s.toFixed(0),"% of annual sales are in ").concat(e.name,". This is an unusual pattern."))}),void 0!==e.cashSalesPercentage||void 0!==e.creditSalesPercentage){let a=e.cashSalesPercentage||0,s=e.creditSalesPercentage||0;(a<0||a>1)&&t.push("Cash sales percentage must be between 0 and 1 (0% to 100%)"),(s<0||s>1)&&t.push("Credit sales percentage must be between 0 and 1 (0% to 100%)");let r=a+s;Math.abs(r-1)>.01&&t.push("Cash and credit percentages must add up to 100%. Currently: ".concat((100*r).toFixed(1),"%"))}return t}(a);if(s.filter(e=>!e.startsWith("WARNING:")).length>0){ew(s),eS(null);return}let r=i(a);eS(o(r,a)),ew(s),eR(r),eM(a.historicalSalesUnits||null)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate"}),eP.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[eP.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-red-400":"text-red-700"),children:eP.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),eP.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-yellow-400":"text-yellow-700"),children:eP.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Results"}),eC&&(0,s.jsx)("button",{onClick:()=>{if(!eC)return;let e="".concat(O||"Your Company"," - ").concat(G||"Product","\n");e+="Schedule 1: Sales Budget\n",e+="For the Year Ending December 31, ".concat(V,"\n"),e+="Currency: ".concat(H,"\n"),J&&(e+="Assumptions: ".concat(J,"\n")),e+="\n",e+=eC.headers.join(",")+"\n",eC.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","sales-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!eC&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Enter data and click Calculate to see your sales budget"}),eC&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:["For the Year Ending December 31, ",V," | Currency: ",H]}),J&&(0,s.jsxs)("div",{className:"mb-6 p-3 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("p",{className:"text-xs font-semibold mb-1 ".concat(lF),children:"Assumptions & Notes:"}),(0,s.jsx)("p",{className:"text-sm ".concat(lw),children:J})]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:eC.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:eC.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"," ").concat(t===eC.rows.length-1?"font-semibold":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})}),(0,s.jsx)("p",{className:"text-xs mb-8 ".concat(lw),children:'Note: The "Yearly Total" price is the weighted average selling price across all quarters.'}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-3 ".concat(lF),children:"Seasonal Distribution"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(lw),children:"Percentage of annual sales expected in each quarter:"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-4",children:eC.seasonalDistribution&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-3 border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(lw),children:"Q1 (Oct-Dec)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(lF),children:[eC.seasonalDistribution.q1.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-3 border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(lw),children:"Q2 (Jan-Mar)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(lF),children:[eC.seasonalDistribution.q2.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-3 border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(lw),children:"Q3 (Apr-Jun)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(lF),children:[eC.seasonalDistribution.q3.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-3 border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"text-xs mb-1 ".concat(lw),children:"Q4 (Jul-Sep)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold ".concat(lF),children:[eC.seasonalDistribution.q4.toFixed(1),"%"]})]})]})})]}),eG&&eF&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Data Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"),children:eG?"Hide Charts":"Show Charts"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(D.wK,{salesUnits:eF.salesUnits,salesRevenue:eF.salesRevenue,historicalUnits:eO||void 0,darkMode:T}),eO&&(0,s.jsx)(D.yb,{salesUnits:eF.salesUnits,salesRevenue:eF.salesRevenue,historicalUnits:eO,darkMode:T})]})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Sales Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Sales Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Sales Budget is the starting point for the master budget. It shows expected sales in both units and revenue for each quarter and the entire year."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Sales Revenue = Expected Sales Units \xd7 Selling Price per Unit"]}),(0,s.jsx)("hr",{className:"my-16 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 2: Production Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Determine production volume needed to meet sales demand and maintain inventory levels"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Inventory Policy"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Inventory (Units)"}),(0,s.jsx)("input",{type:"number",value:eH,onChange:e=>eY(e.target.value),placeholder:"100",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Opening inventory at start of year"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Desired Ending Inventory Ratio"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:eV,onChange:e=>ez(e.target.value),placeholder:"0.10",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Enter as decimal (e.g., 0.10 for 10% of next quarter's sales)"})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("input",{type:"checkbox",id:"useJIT",checked:e3,onChange:e=>e5(e.target.checked),className:"mr-3 w-4 h-4"}),(0,s.jsx)("label",{htmlFor:"useJIT",className:"text-sm font-medium ".concat(lF),children:"Use Just-in-Time (JIT) Manufacturing"})]}),(0,s.jsx)("p",{className:"text-xs ".concat(lw," ml-7"),children:"Enable JIT to set ending inventory to zero (production = sales)"})]}),(0,s.jsx)("hr",{className:"my-8 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Optional Enhancements"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(lw),children:"Add production constraints and cost analysis (all optional)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Next Year Q1 Sales Forecast"}),(0,s.jsx)("input",{type:"number",value:eJ,onChange:e=>e$(e.target.value),placeholder:"Leave blank to use current Q1",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Max Production Capacity/Quarter"}),(0,s.jsx)("input",{type:"number",value:eK,onChange:e=>eX(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Inventory Carrying Cost/Unit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e1,onChange:e=>e4(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Minimum Batch Size"}),(0,s.jsx)("input",{type:"number",value:e_,onChange:e=>eZ(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Optimal Batch Size"}),(0,s.jsx)("input",{type:"number",value:e0,onChange:e=>e2(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Obsolescence Risk (%)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e6,onChange:e=>e8(e.target.value),placeholder:"0.05",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Enter as decimal (e.g., 0.05 for 5% risk)"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!eC)return void alert("Please calculate Sales Budget first (Schedule 1)");let e={forecastedSalesUnits:{q1:parseFloat(er)||0,q2:parseFloat(el)||0,q3:parseFloat(eo)||0,q4:parseFloat(ed)||0,yearly:(parseFloat(er)||0)+(parseFloat(el)||0)+(parseFloat(eo)||0)+(parseFloat(ed)||0)},beginningInventory:parseFloat(eH)||0,desiredEndingInventoryRatio:parseFloat(eV)||0,nextYearQ1ForecastedSales:eJ?parseFloat(eJ):void 0,maxProductionCapacityPerQuarter:eK?parseFloat(eK):void 0,minimumBatchSize:e_?parseFloat(e_):void 0,optimalBatchSize:e0?parseFloat(e0):void 0,inventoryCarryingCostPerUnit:e1?parseFloat(e1):void 0,useJIT:e3,obsolescenceRiskPercentage:e6?parseFloat(e6):void 0},t=function(e){let t=[];return e.forecastedSalesUnits.q1<0&&t.push("Q1 sales units cannot be negative"),e.forecastedSalesUnits.q2<0&&t.push("Q2 sales units cannot be negative"),e.forecastedSalesUnits.q3<0&&t.push("Q3 sales units cannot be negative"),e.forecastedSalesUnits.q4<0&&t.push("Q4 sales units cannot be negative"),e.beginningInventory<0&&t.push("Beginning inventory cannot be negative"),e.desiredEndingInventoryRatio<0&&t.push("Desired ending inventory ratio cannot be negative"),e.desiredEndingInventoryRatio>1&&t.push("WARNING: Ending inventory ratio over 100% is unusually high. This means you plan to hold more than one quarter's sales in stock."),void 0!==e.maxProductionCapacityPerQuarter&&(e.maxProductionCapacityPerQuarter<=0&&t.push("Maximum production capacity must be greater than zero"),[e.forecastedSalesUnits.q1,e.forecastedSalesUnits.q2,e.forecastedSalesUnits.q3,e.forecastedSalesUnits.q4].forEach((a,s)=>{a>e.maxProductionCapacityPerQuarter&&t.push("WARNING: Q".concat(s+1," sales (").concat(a,") exceed production capacity (").concat(e.maxProductionCapacityPerQuarter,"). You may need to build inventory in advance."))})),void 0!==e.minimumBatchSize&&e.minimumBatchSize<=0&&t.push("Minimum batch size must be greater than zero"),void 0!==e.optimalBatchSize&&e.optimalBatchSize<=0&&t.push("Optimal batch size must be greater than zero"),e.minimumBatchSize&&e.optimalBatchSize&&e.minimumBatchSize>e.optimalBatchSize&&t.push("Minimum batch size cannot be greater than optimal batch size"),void 0!==e.inventoryCarryingCostPerUnit&&e.inventoryCarryingCostPerUnit<0&&t.push("Inventory carrying cost cannot be negative"),void 0!==e.obsolescenceRiskPercentage&&(e.obsolescenceRiskPercentage<0||e.obsolescenceRiskPercentage>1)&&t.push("Obsolescence risk percentage must be between 0 and 1 (0% to 100%)"),e.useJIT&&e.desiredEndingInventoryRatio>0&&t.push("WARNING: Just-in-Time (JIT) mode is enabled but inventory ratio is set. JIT will override inventory settings and keep inventory at zero."),t}(e);if(t.filter(e=>!e.startsWith("WARNING:")).length>0){tt(t),e9(null);return}let a=c(e);e9(u(a,e)),tt(t),eE(a)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate Production Budget"}),te.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[te.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-red-400":"text-red-700"),children:te.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),te.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-yellow-400":"text-yellow-700"),children:te.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Production Budget Results"}),e7&&(0,s.jsx)("button",{onClick:()=>{if(!e7)return;let e="".concat(O||"Your Company"," - ").concat(G||"Product","\n");e+="Schedule 2: Production Budget\n",e+="For the Year Ending December 31, ".concat(V,"\n"),e+="\n",e+=e7.headers.join(",")+"\n",e7.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","production-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!e7&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter production data and click Calculate Production Budget"}),e7&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:e7.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:e7.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"," ").concat(t===e7.rows.length-1?"font-semibold":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})}),e7.notes&&(0,s.jsxs)("p",{className:"text-xs mb-6 ".concat(lw," italic"),children:["* ",e7.notes]}),e7.inventoryCarryingCost&&(0,s.jsxs)("div",{className:"mb-6 p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 ".concat(lF),children:"Inventory Carrying Cost"}),(0,s.jsxs)("p",{className:"text-xs ".concat(lw),children:["Q1: ",e7.inventoryCarryingCost.q1.toFixed(2)," | Q2: ",e7.inventoryCarryingCost.q2.toFixed(2)," | Q3: ",e7.inventoryCarryingCost.q3.toFixed(2)," | Q4: ",e7.inventoryCarryingCost.q4.toFixed(2)," | Yearly: ",e7.inventoryCarryingCost.yearly.toFixed(2)]})]}),e7.obsolescenceCost&&(0,s.jsxs)("div",{className:"mb-6 p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 ".concat(lF),children:"Obsolescence Cost"}),(0,s.jsxs)("p",{className:"text-xs ".concat(lw),children:["Q1: ",e7.obsolescenceCost.q1.toFixed(2)," | Q2: ",e7.obsolescenceCost.q2.toFixed(2)," | Q3: ",e7.obsolescenceCost.q3.toFixed(2)," | Q4: ",e7.obsolescenceCost.q4.toFixed(2)," | Yearly: ",e7.obsolescenceCost.yearly.toFixed(2)]})]}),eG&&eI&&eF&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Data Visualization"}),(0,s.jsx)(D.qx,{salesUnits:eF.salesUnits,production:eI.requiredProduction,endingInventory:eI.desiredEndingInventory,darkMode:T})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Production Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Production Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Production Budget determines how many units must be produced to meet sales demand while maintaining desired inventory levels."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Units to Produce = Sales + Desired Ending Inventory - Beginning Inventory"]}),(0,s.jsx)("hr",{className:"my-16 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 3: Direct Material Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate raw material requirements and purchase costs for production"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Materials"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(lw),children:"Add all raw materials required for production. You can add multiple materials (e.g., fabric, poles, etc.)"}),ta.map((e,t)=>(0,s.jsxs)("div",{className:"mb-8 p-6 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h4",{className:"text-lg font-semibold ".concat(lF),children:["Material ",t+1]}),ta.length>1&&(0,s.jsx)("button",{onClick:()=>(e=>{if(1===ta.length)return void alert("You must have at least one material");ts(ta.filter((t,a)=>a!==e))})(t),className:"text-sm ".concat(T?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"),children:"Remove"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Material Name"}),(0,s.jsx)("input",{type:"text",value:e.name,onChange:e=>lC(t,"name",e.target.value),placeholder:"e.g., Tent Fabric",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Unit of Measure"}),(0,s.jsx)("input",{type:"text",value:e.unit,onChange:e=>lC(t,"unit",e.target.value),placeholder:"e.g., yards, kg, liters",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Required per Unit Produced"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.requiredPerUnit,onChange:e=>lC(t,"requiredPerUnit",e.target.value),placeholder:"4.0",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Cost per Unit (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.costPerUnit,onChange:e=>lC(t,"costPerUnit",e.target.value),placeholder:"5.00",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Inventory"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.beginningInventory,onChange:e=>lC(t,"beginningInventory",e.target.value),placeholder:"600",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Ending Inventory Ratio"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.desiredEndingInventoryRatio,onChange:e=>lC(t,"desiredEndingInventoryRatio",e.target.value),placeholder:"0.10",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Enter as decimal (e.g., 0.10 for 10% of next quarter's needs)"})]})]}),(0,s.jsxs)("details",{className:"mt-4",children:[(0,s.jsx)("summary",{className:"text-sm font-medium cursor-pointer ".concat(lF," hover:underline"),children:"Optional Enhancements (click to expand)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Scrap/Waste %"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.scrapWastePercentage||"",onChange:e=>lC(t,"scrapWastePercentage",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.05",className:"w-full px-3 py-2 border ".concat(lR," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(lw),children:"e.g., 0.05 for 5% waste"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Price Inflation Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.priceInflationRate||"",onChange:e=>lC(t,"priceInflationRate",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.02",className:"w-full px-3 py-2 border ".concat(lR," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(lw),children:"Quarterly rate (e.g., 0.02 for 2%)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Bulk Discount Threshold"}),(0,s.jsx)("input",{type:"number",value:e.bulkDiscountThreshold||"",onChange:e=>lC(t,"bulkDiscountThreshold",e.target.value?parseFloat(e.target.value):void 0),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Bulk Discount Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.bulkDiscountRate||"",onChange:e=>lC(t,"bulkDiscountRate",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.10",className:"w-full px-3 py-2 border ".concat(lR," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(lw),children:"e.g., 0.10 for 10% discount"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Supplier Lead Time (days)"}),(0,s.jsx)("input",{type:"number",value:e.supplierLeadTimeDays||"",onChange:e=>lC(t,"supplierLeadTimeDays",e.target.value?parseInt(e.target.value):void 0),placeholder:"30",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{className:"flex items-center pt-6",children:[(0,s.jsx)("input",{type:"checkbox",id:"jit-".concat(t),checked:e.useJIT||!1,onChange:e=>lC(t,"useJIT",e.target.checked),className:"mr-2 w-4 h-4"}),(0,s.jsx)("label",{htmlFor:"jit-".concat(t),className:"text-sm ".concat(lF),children:"Use JIT (no ending inventory)"})]})]})]})]},t)),(0,s.jsx)("button",{onClick:()=>{ts([...ta,{name:"",requiredPerUnit:0,costPerUnit:0,beginningInventory:0,desiredEndingInventoryRatio:0,unit:""}])},className:"".concat(T?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-200 text-black hover:bg-gray-300"," font-medium px-6 py-2 text-sm mb-8"),children:"+ Add Another Material"}),(0,s.jsx)("hr",{className:"my-8 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Payment Terms (Optional)"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(lw),children:"Specify when material purchases are paid (used for cash disbursement calculations)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Next Year Q1 Production"}),(0,s.jsx)("input",{type:"number",value:tr,onChange:e=>tn(e.target.value),placeholder:"Leave blank to use current Q1",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"For Q4 ending inventory calculation"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"% Paid in Current Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tl,onChange:e=>ti(e.target.value),placeholder:"0.60",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"e.g., 0.60 for 60% paid immediately"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"% Paid in Next Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:to,onChange:e=>tc(e.target.value),placeholder:"0.40",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"e.g., 0.40 for 40% paid next quarter"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!e7)return void alert("Please calculate Production Budget first (Schedule 2)");let e={q1:parseFloat(er)||0,q2:parseFloat(el)||0,q3:parseFloat(eo)||0,q4:parseFloat(ed)||0,yearly:(parseFloat(er)||0)+(parseFloat(el)||0)+(parseFloat(eo)||0)+(parseFloat(ed)||0)};if(null==e7?void 0:e7.rows){let t=e7.rows.find(e=>"Required Production"===e.label);t&&(e.q1=parseFloat(String(t.q1).replace(/,/g,""))||0,e.q2=parseFloat(String(t.q2).replace(/,/g,""))||0,e.q3=parseFloat(String(t.q3).replace(/,/g,""))||0,e.q4=parseFloat(String(t.q4).replace(/,/g,""))||0,e.yearly=parseFloat(String(t.yearly).replace(/,/g,""))||0)}let t={unitsToBeProduced:e,nextYearQ1Production:tr?parseFloat(tr):void 0,materials:ta.map(e=>({...e,requiredPerUnit:"string"==typeof e.requiredPerUnit?parseFloat(e.requiredPerUnit)||0:e.requiredPerUnit,costPerUnit:"string"==typeof e.costPerUnit?parseFloat(e.costPerUnit)||0:e.costPerUnit,beginningInventory:"string"==typeof e.beginningInventory?parseFloat(e.beginningInventory)||0:e.beginningInventory,desiredEndingInventoryRatio:"string"==typeof e.desiredEndingInventoryRatio?parseFloat(e.desiredEndingInventoryRatio)||0:e.desiredEndingInventoryRatio})),percentPaidInCurrentQuarter:tl?parseFloat(tl):void 0,percentPaidInNextQuarter:to?parseFloat(to):void 0},a=function(e){let t=[];if(e.unitsToBeProduced.q1<0&&t.push("Q1 production units cannot be negative"),e.unitsToBeProduced.q2<0&&t.push("Q2 production units cannot be negative"),e.unitsToBeProduced.q3<0&&t.push("Q3 production units cannot be negative"),e.unitsToBeProduced.q4<0&&t.push("Q4 production units cannot be negative"),!e.materials||0===e.materials.length)return t.push("At least one material type must be specified"),t;if(e.materials.forEach((a,s)=>{let r=e.materials.length>1?'Material "'.concat(a.name,'": '):"";a.name&&""!==a.name.trim()||t.push("".concat(r,"Material name cannot be empty")),a.requiredPerUnit<=0&&t.push("".concat(r,"Material required per unit must be greater than zero")),a.costPerUnit<=0&&t.push("".concat(r,"Cost per unit must be greater than zero")),a.beginningInventory<0&&t.push("".concat(r,"Beginning inventory cannot be negative")),a.desiredEndingInventoryRatio<0&&t.push("".concat(r,"Ending inventory ratio cannot be negative")),a.desiredEndingInventoryRatio>1&&t.push("WARNING: ".concat(r,"Ending inventory ratio over 100% is unusually high")),void 0!==a.scrapWastePercentage&&((a.scrapWastePercentage<0||a.scrapWastePercentage>.5)&&t.push("".concat(r,"Scrap/waste percentage should be between 0% and 50%")),a.scrapWastePercentage>.2&&t.push("WARNING: ".concat(r,"Scrap/waste over 20% is very high. Consider process improvements."))),void 0!==a.priceInflationRate&&(a.priceInflationRate<-.5||a.priceInflationRate>1)&&t.push("".concat(r,"Price inflation rate seems unrealistic")),void 0!==a.bulkDiscountThreshold&&void 0!==a.bulkDiscountRate&&(a.bulkDiscountThreshold<=0&&t.push("".concat(r,"Bulk discount threshold must be greater than zero")),(a.bulkDiscountRate<0||a.bulkDiscountRate>.5)&&t.push("".concat(r,"Bulk discount rate should be between 0% and 50%"))),void 0!==a.supplierLeadTimeDays&&a.supplierLeadTimeDays<0&&t.push("".concat(r,"Supplier lead time cannot be negative")),a.useJIT&&a.desiredEndingInventoryRatio>0&&t.push("WARNING: ".concat(r,"JIT is enabled but ending inventory ratio is set. JIT will override inventory settings."))}),void 0!==e.percentPaidInCurrentQuarter||void 0!==e.percentPaidInNextQuarter){let a=e.percentPaidInCurrentQuarter||0,s=e.percentPaidInNextQuarter||0;(a<0||a>1)&&t.push("Percent paid in current quarter must be between 0 and 1"),(s<0||s>1)&&t.push("Percent paid in next quarter must be between 0 and 1");let r=a+s;Math.abs(r-1)>.01&&t.push("Payment percentages must add up to 100%. Currently: ".concat((100*r).toFixed(1),"%"))}return t}(t);if(a.filter(e=>!e.startsWith("WARNING:")).length>0){tx(a),tu(null);return}tu(x(m(t))),tx(a)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate Material Budget"}),tm.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[tm.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-red-400":"text-red-700"),children:tm.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),tm.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-yellow-400":"text-yellow-700"),children:tm.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Material Budget Results"}),td&&(0,s.jsx)("button",{onClick:()=>{var e;if(!td)return;let t="".concat(O||"Your Company"," - ").concat(G||"Product","\n");t+="Schedule 3: Direct Material Budget\n",t+="For the Year Ending December 31, ".concat(V,"\n\n"),null==(e=td.materials)||e.forEach(e=>{t+="Material: ".concat(e.name," (").concat(e.unit,")\n"),t+=e.headers.join(",")+"\n",e.rows.forEach(e=>{let a=String(e.q1).replace(/,/g,""),s=String(e.q2).replace(/,/g,""),r=String(e.q3).replace(/,/g,""),n=String(e.q4).replace(/,/g,""),l=String(e.yearly).replace(/,/g,"");t+='"'.concat(e.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")}),t+="\n"}),td.summary&&(t+="Total Material Purchase Cost\n",t+=td.summary.headers.join(",")+"\n",td.summary.rows.forEach(e=>{let a=String(e.q1).replace(/,/g,""),s=String(e.q2).replace(/,/g,""),r=String(e.q3).replace(/,/g,""),n=String(e.q4).replace(/,/g,""),l=String(e.yearly).replace(/,/g,"");t+='"'.concat(e.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")}));let a=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),r=URL.createObjectURL(a);s.setAttribute("href",r),s.setAttribute("download","direct-material-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!td&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter material data and click Calculate Material Budget"}),td&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),null==(e=td.materials)?void 0:e.map((e,t)=>(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h4",{className:"text-xl font-semibold mb-4 ".concat(lF),children:[e.name," (",e.unit,")"]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:e.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:e.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})}),(e.inventoryTurnoverRatio||e.daysInventoryOutstanding)&&(0,s.jsxs)("div",{className:"p-3 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," text-sm mb-4"),children:[e.inventoryTurnoverRatio&&(0,s.jsxs)("p",{className:lw,children:[(0,s.jsx)("strong",{children:"Inventory Turnover:"})," ",e.inventoryTurnoverRatio.toFixed(2),"x annually"]}),e.daysInventoryOutstanding&&(0,s.jsxs)("p",{className:lw,children:[(0,s.jsx)("strong",{children:"Days Inventory Outstanding:"})," ",e.daysInventoryOutstanding.toFixed(0)," days"]})]})]},t)),td.summary&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Total Material Purchase Cost"}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:td.summary.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:td.summary.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"," font-semibold"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.yearly})]},t))})]})})]}),td.analytics&&(0,s.jsxs)("div",{className:"p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(lF),children:"Analytics"}),td.analytics.overallInventoryTurnover&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Overall Inventory Turnover:"})," ",td.analytics.overallInventoryTurnover.toFixed(2),"x annually"]}),td.analytics.totalScrapWasteCost&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Total Scrap/Waste Cost:"})," ",H," ",td.analytics.totalScrapWasteCost.toFixed(2)]}),td.analytics.totalBulkDiscountSavings&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Total Bulk Discount Savings:"})," ",H," ",td.analytics.totalBulkDiscountSavings.toFixed(2)]}),td.analytics.criticalMaterials&&td.analytics.criticalMaterials.length>0&&(0,s.jsxs)("p",{className:"text-sm ".concat(T?"text-yellow-400":"text-yellow-700"),children:[(0,s.jsx)("strong",{children:" Critical Materials (low turnover):"})," ",td.analytics.criticalMaterials.join(", ")]})]}),eG&&eA&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Data Visualization"}),(0,s.jsx)(D.PJ,{data:eA.totalMaterialPurchaseCost,label:"Material Purchase Cost Trend",color:"#3B82F6",darkMode:T})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Direct Material Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Direct Material Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Direct Material Budget calculates the quantity and cost of raw materials needed for production. It ensures adequate materials are available while managing inventory costs."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Material to Purchase = (Production Needs \xd7 Material per Unit + Desired Ending Inventory) - Beginning Inventory"]}),(0,s.jsx)("hr",{className:"my-16 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 4: Direct Labor Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate direct labor hours and costs required for production"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Labor Input Method"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(lw),children:"Choose between simple single-category input or multi-category labor types"}),(0,s.jsxs)("div",{className:"flex gap-6 mb-8",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"laborInputMethod",checked:tp,onChange:()=>th(!0),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(lw),children:"Simple (Single labor rate)"})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"laborInputMethod",checked:!tp,onChange:()=>th(!1),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(lw),children:"Multi-Category (Different labor types)"})]})]}),tp?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Labor Requirements"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Direct Labor Hours per Unit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tq,onChange:e=>tb(e.target.value),placeholder:"2.5",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Hours of direct labor required to produce one unit"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Hourly Wage Rate (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ty,onChange:e=>tg(e.target.value),placeholder:"25.00",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Average wage rate per hour"})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Labor Categories"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(lw),children:"Add different labor categories with their own hourly requirements and wage rates"}),tv.map((e,t)=>(0,s.jsxs)("div",{className:"mb-8 p-6 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h4",{className:"text-lg font-semibold ".concat(lF),children:["Labor Category ",t+1]}),tv.length>1&&(0,s.jsx)("button",{onClick:()=>(e=>{if(1===tv.length)return void alert("You must have at least one labor category");tf(tv.filter((t,a)=>a!==e))})(t),className:"text-sm ".concat(T?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"),children:"Remove"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:e.name,onChange:e=>lS(t,"name",e.target.value),placeholder:"e.g., Assembly, Finishing",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Hours per Unit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.hoursPerUnit,onChange:e=>lS(t,"hoursPerUnit",e.target.value),placeholder:"1.5",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Wage Rate per Hour (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:e.wageRatePerHour,onChange:e=>lS(t,"wageRatePerHour",e.target.value),placeholder:"30.00",className:"w-full px-4 py-3 border ".concat(lR," text-base")})]})]})]},t)),(0,s.jsx)("button",{onClick:()=>{tf([...tv,{name:"",hoursPerUnit:0,wageRatePerHour:0}])},className:"".concat(T?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-200 text-black hover:bg-gray-300"," font-medium px-6 py-2 text-sm mb-8"),children:"+ Add Another Labor Category"})]}),(0,s.jsx)("hr",{className:"my-8 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Optional Enhancements"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(lw),children:"Add wage inflation, overtime, fringe benefits, and workforce planning metrics (all optional)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Wage Inflation Rate (Quarterly)"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:tj,onChange:e=>tN(e.target.value),placeholder:"0.01",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"e.g., 0.01 for 1% per quarter"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Fringe Benefit Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tF,onChange:e=>tR(e.target.value),placeholder:"0.25",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"e.g., 0.25 for 25% (health, FICA, etc.)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Productivity Efficiency Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tI,onChange:e=>tE(e.target.value),placeholder:"0.95",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"e.g., 0.95 for 95% efficiency"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Overtime Threshold (Hours/Quarter)"}),(0,s.jsx)("input",{type:"number",value:tC,onChange:e=>tS(e.target.value),placeholder:"Leave blank for no overtime",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Maximum regular hours before overtime"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Overtime Multiplier"}),(0,s.jsx)("input",{type:"number",step:"0.1",value:tP,onChange:e=>tw(e.target.value),placeholder:"1.5",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"e.g., 1.5 for time-and-a-half"})]})]}),(0,s.jsxs)("details",{className:"mb-8",children:[(0,s.jsx)("summary",{className:"text-lg font-semibold cursor-pointer ".concat(lF," hover:underline mb-4"),children:"Workforce Planning (click to expand)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Average Hours per Employee (Quarterly)"}),(0,s.jsx)("input",{type:"number",value:tB,onChange:e=>tD(e.target.value),placeholder:"480",className:"w-full px-3 py-2 border ".concat(lR," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(lw),children:"For calculating FTE needed"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Annual Turnover Rate"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tA,onChange:e=>tQ(e.target.value),placeholder:"0.15",className:"w-full px-3 py-2 border ".concat(lR," text-sm")}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(lw),children:"e.g., 0.15 for 15% turnover"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Training Cost per Employee (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tk,onChange:e=>tU(e.target.value),placeholder:"2000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!e7)return void alert("Please calculate Production Budget first (Schedule 2)");let e={q1:parseFloat(er)||0,q2:parseFloat(el)||0,q3:parseFloat(eo)||0,q4:parseFloat(ed)||0,yearly:(parseFloat(er)||0)+(parseFloat(el)||0)+(parseFloat(eo)||0)+(parseFloat(ed)||0)};if(null==e7?void 0:e7.rows){let t=e7.rows.find(e=>"Required Production"===e.label);t&&(e.q1=parseFloat(String(t.q1).replace(/,/g,""))||0,e.q2=parseFloat(String(t.q2).replace(/,/g,""))||0,e.q3=parseFloat(String(t.q3).replace(/,/g,""))||0,e.q4=parseFloat(String(t.q4).replace(/,/g,""))||0,e.yearly=parseFloat(String(t.yearly).replace(/,/g,""))||0)}let t={unitsToBeProduced:e,directLaborHoursPerUnit:tp&&tq?parseFloat(tq):void 0,hourlyWageRate:tp&&ty?parseFloat(ty):void 0,laborCategories:tp?void 0:tv.map(e=>({...e,hoursPerUnit:"string"==typeof e.hoursPerUnit?parseFloat(e.hoursPerUnit)||0:e.hoursPerUnit,wageRatePerHour:"string"==typeof e.wageRatePerHour?parseFloat(e.wageRatePerHour)||0:e.wageRatePerHour})),wageInflationRate:tj?parseFloat(tj):void 0,overtimeThreshold:tC?parseFloat(tC):void 0,overtimeMultiplier:tP?parseFloat(tP):void 0,fringeBenefitRate:tF?parseFloat(tF):void 0,productivityEfficiencyRate:tI?parseFloat(tI):void 0,turnoverRate:tA?parseFloat(tA):void 0,trainingCostPerEmployee:tk?parseFloat(tk):void 0,averageHoursPerEmployee:tB?parseFloat(tB):void 0},a=function(e){let t=[];e.unitsToBeProduced?(e.unitsToBeProduced.q1<0||e.unitsToBeProduced.q2<0||e.unitsToBeProduced.q3<0||e.unitsToBeProduced.q4<0)&&t.push("Production units cannot be negative"):t.push("Units to be produced is required (from Schedule 2: Production Budget)");let a=void 0!==e.directLaborHoursPerUnit&&void 0!==e.hourlyWageRate,s=e.laborCategories&&e.laborCategories.length>0;return a||s||t.push("Either provide (directLaborHoursPerUnit + hourlyWageRate) OR laborCategories array"),a&&s&&t.push("WARNING: Both simple and multi-category inputs provided. Multi-category will be used."),a&&(e.directLaborHoursPerUnit<=0&&t.push("Direct labor hours per unit must be greater than 0"),e.hourlyWageRate<=0&&t.push("Hourly wage rate must be greater than 0")),s&&e.laborCategories.forEach((e,a)=>{e.name&&""!==e.name.trim()||t.push("Labor category ".concat(a+1,": Name is required")),e.hoursPerUnit<=0&&t.push('Labor category "'.concat(e.name,'": Hours per unit must be greater than 0')),e.wageRatePerHour<=0&&t.push('Labor category "'.concat(e.name,'": Wage rate must be greater than 0'))}),void 0!==e.wageInflationRate&&(e.wageInflationRate<-.5||e.wageInflationRate>.5)&&t.push("WARNING: Wage inflation rate seems unusually high (should be -0.5 to 0.5 per quarter)"),void 0!==e.overtimeMultiplier&&e.overtimeMultiplier<1&&t.push("Overtime multiplier must be >= 1 (e.g., 1.5 for time-and-a-half)"),void 0!==e.fringeBenefitRate&&(e.fringeBenefitRate<0||e.fringeBenefitRate>1)&&t.push("Fringe benefit rate must be between 0 and 1 (e.g., 0.25 for 25%)"),void 0!==e.productivityEfficiencyRate&&(e.productivityEfficiencyRate<=0||e.productivityEfficiencyRate>1)&&t.push("Productivity efficiency rate must be between 0 and 1 (e.g., 0.95 for 95%)"),void 0!==e.turnoverRate&&(e.turnoverRate<0||e.turnoverRate>1)&&t.push("Turnover rate must be between 0 and 1 (e.g., 0.15 for 15% annual turnover)"),t}(t);if(a.filter(e=>!e.startsWith("WARNING:")).length>0){tM(a),tL(null);return}tL(h(p(t))),tM(a)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate Labor Budget"}),tO.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[tO.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-red-400":"text-red-700"),children:tO.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),tO.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-yellow-400":"text-yellow-700"),children:tO.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Labor Budget Results"}),tT&&(0,s.jsx)("button",{onClick:()=>{if(!tT)return;let e="".concat(O||"Your Company"," - ").concat(G||"Product","\n");e+="Schedule 4: Direct Labor Budget\n",e+="For the Year Ending December 31, ".concat(V,"\n\n"),tT.categoryTables?(tT.categoryTables.forEach(t=>{e+="Labor Category: ".concat(t.categoryName,"\n"),e+=t.headers.join(",")+"\n",t.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")}),e+="\n"}),e+="Summary - Total Direct Labor\n",e+=tT.headers.join(",")+"\n",tT.summaryRows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")})):(e+=tT.headers.join(",")+"\n",tT.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")}));let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","direct-labor-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!tT&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter labor data and click Calculate Labor Budget"}),tT&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),tT.categoryTables&&tT.categoryTables.map((e,t)=>(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(lF),children:e.categoryName}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:e.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:e.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})})]},t)),tT.summaryRows&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Summary - Total Direct Labor"}),(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:tT.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:tT.summaryRows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})})]}),!tT.summaryRows&&tT.rows&&(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:tT.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:tT.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})}),(tT.laborCostPerUnit||tT.averageEmployeesNeeded)&&(0,s.jsxs)("div",{className:"p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(lF),children:"Analytics"}),tT.laborCostPerUnit&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Labor Cost per Unit:"})," ",H," ",tT.laborCostPerUnit.yearly.toFixed(2)]}),tT.averageEmployeesNeeded&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Average Employees Needed:"})," ",tT.averageEmployeesNeeded.yearly.toFixed(1)," FTE"]}),tT.turnoverCost&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Annual Turnover & Training Cost:"})," ",H," ",tT.turnoverCost.yearly.toFixed(2)]}),tT.productivityRate&&(0,s.jsxs)("p",{className:"text-sm ".concat(lw),children:[(0,s.jsx)("strong",{children:"Productivity Efficiency:"})," ",(100*tT.productivityRate.yearly).toFixed(1),"%"]})]}),eG&&ek&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Data Visualization"}),(0,s.jsx)(D.PJ,{data:ek.totalLaborCost,label:"Total Labor Cost Trend",color:"#10B981",darkMode:T})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Direct Labor Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Direct Labor Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Direct Labor Budget calculates the hours and costs for direct labor needed to complete the production plan."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Total Direct-Labor Cost = (Units to Produce \xd7 Hours per Unit) \xd7 Hourly Wage Rate"]}),(0,s.jsx)("hr",{className:"my-16 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 5: Manufacturing Overhead Budget"}),(0,s.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate all manufacturing costs other than direct materials and direct labor"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Overhead Approach"}),(0,s.jsx)("p",{className:"text-sm mb-4 ".concat(lw),children:"Choose your overhead calculation method"}),(0,s.jsxs)("div",{className:"flex gap-6 mb-8 flex-wrap",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"overheadApproach",checked:"simple"===tG,onChange:()=>tW("simple"),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(lw),children:"Simple (Traditional costing)"})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"overheadApproach",checked:"abc"===tG,onChange:()=>tW("abc"),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm ".concat(lw),children:"Activity-Based Costing (ABC)"})]})]}),"simple"===tG&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Variable & Fixed Overhead"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Variable Overhead Rate per Unit (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tH,onChange:e=>tY(e.target.value),placeholder:"5.00",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Variable overhead cost per unit produced"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Variable Overhead Rate per Labor Hour (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tV,onChange:e=>tz(e.target.value),placeholder:"3.00",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Variable overhead per direct labor hour (requires Schedule 4)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Fixed Overhead per Quarter (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tJ,onChange:e=>t$(e.target.value),placeholder:"50000",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Fixed overhead costs per quarter"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:["Depreciation per Quarter (",H,")"]}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tK,onChange:e=>tX(e.target.value),placeholder:"10000",className:"w-full px-4 py-3 border ".concat(lR," text-base")}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat(lw),children:"Non-cash depreciation expense"})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Allocation Base (for predetermined overhead rate)"}),(0,s.jsxs)("select",{value:t_,onChange:e=>tZ(e.target.value),className:"w-full px-4 py-3 border ".concat(lR," text-base"),children:[(0,s.jsx)("option",{value:"units",children:"Units Produced"}),(0,s.jsx)("option",{value:"labor-hours",children:"Direct Labor Hours"}),(0,s.jsx)("option",{value:"machine-hours",children:"Machine Hours"})]})]})]}),"abc"===tG&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(lF),children:"Activity-Based Costing Data"}),(0,s.jsx)("p",{className:"text-sm mb-6 ".concat(lw),children:"Enter cost driver data for ABC analysis (Unit-level, Batch-level, Facility-level)"}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Batch-Level Costs (Production Runs)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q1 Runs"}),(0,s.jsx)("input",{type:"number",value:t3,onChange:e=>t5(e.target.value),placeholder:"10",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q2 Runs"}),(0,s.jsx)("input",{type:"number",value:t6,onChange:e=>t8(e.target.value),placeholder:"12",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q3 Runs"}),(0,s.jsx)("input",{type:"number",value:t7,onChange:e=>t9(e.target.value),placeholder:"15",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q4 Runs"}),(0,s.jsx)("input",{type:"number",value:ae,onChange:e=>at(e.target.value),placeholder:"13",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Cost per Run"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aa,onChange:e=>as(e.target.value),placeholder:"1000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]})]})]}),(0,s.jsxs)("details",{className:"mb-8",children:[(0,s.jsx)("summary",{className:"text-lg font-semibold cursor-pointer ".concat(lF," hover:underline mb-4"),children:"Advanced ABC Inputs (click to expand)"}),(0,s.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-base font-semibold mb-3 ".concat(lF),children:"Product-Level Costs (Inspections)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q1"}),(0,s.jsx)("input",{type:"number",value:ar,onChange:e=>an(e.target.value),placeholder:"5",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q2"}),(0,s.jsx)("input",{type:"number",value:al,onChange:e=>ai(e.target.value),placeholder:"6",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q3"}),(0,s.jsx)("input",{type:"number",value:ao,onChange:e=>ac(e.target.value),placeholder:"7",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Q4"}),(0,s.jsx)("input",{type:"number",value:ad,onChange:e=>au(e.target.value),placeholder:"6",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Cost/Inspection"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:am,onChange:e=>ax(e.target.value),placeholder:"500",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-base font-semibold mb-3 ".concat(lF),children:"Facility-Level Costs (Quarterly)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Facility Rent"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aC,onChange:e=>aS(e.target.value),placeholder:"20000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Facility Insurance"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aP,onChange:e=>aw(e.target.value),placeholder:"5000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Property Taxes"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aF,onChange:e=>aR(e.target.value),placeholder:"3000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Supervisory Salaries"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ak,onChange:e=>aU(e.target.value),placeholder:"15000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Support Staff"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aB,onChange:e=>aD(e.target.value),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Depreciation"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:tK,onChange:e=>tX(e.target.value),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-base font-semibold mb-3 ".concat(lF),children:"Unit-Level Costs"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Indirect Materials per Unit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aT,onChange:e=>aL(e.target.value),placeholder:"2.50",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(lF),children:"Quality Control per Unit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:aV,onChange:e=>az(e.target.value),placeholder:"1.50",className:"w-full px-3 py-2 border ".concat(lR," text-sm")})]})]})]})]})]})]}),(0,s.jsx)("button",{onClick:()=>{let e;if(!e7)return void alert("Please calculate Production Budget first (Schedule 2)");let t={q1:parseFloat(er)||0,q2:parseFloat(el)||0,q3:parseFloat(eo)||0,q4:parseFloat(ed)||0,yearly:(parseFloat(er)||0)+(parseFloat(el)||0)+(parseFloat(eo)||0)+(parseFloat(ed)||0)};if(null==e7?void 0:e7.rows){let e=e7.rows.find(e=>"Required Production"===e.label);e&&(t.q1=parseFloat(String(e.q1).replace(/,/g,""))||0,t.q2=parseFloat(String(e.q2).replace(/,/g,""))||0,t.q3=parseFloat(String(e.q3).replace(/,/g,""))||0,t.q4=parseFloat(String(e.q4).replace(/,/g,""))||0,t.yearly=parseFloat(String(e.yearly).replace(/,/g,""))||0)}(null==tT?void 0:tT.totalLaborHoursRequired)&&(e=tT.totalLaborHoursRequired);let a={unitsToBeProduced:t,directLaborHours:e,variableOverheadRatePerUnit:tH?parseFloat(tH):void 0,variableOverheadRatePerLaborHour:tV?parseFloat(tV):void 0,fixedOverheadPerQuarter:tJ?parseFloat(tJ):void 0,depreciationPerQuarter:tK?parseFloat(tK):void 0,allocationBase:t_,overheadCategories:"detailed"===tG?t0.map(e=>({...e,amount:"string"==typeof e.amount?parseFloat(e.amount)||0:e.amount})):void 0,useActivityBasedCosting:"abc"===tG,numberOfProductionRuns:"abc"===tG&&(t3||t6||t7||ae)?{q1:parseFloat(t3)||0,q2:parseFloat(t6)||0,q3:parseFloat(t7)||0,q4:parseFloat(ae)||0,yearly:(parseFloat(t3)||0)+(parseFloat(t6)||0)+(parseFloat(t7)||0)+(parseFloat(ae)||0)}:void 0,costPerProductionRun:aa?parseFloat(aa):void 0,numberOfInspections:"abc"===tG&&(ar||al||ao||ad)?{q1:parseFloat(ar)||0,q2:parseFloat(al)||0,q3:parseFloat(ao)||0,q4:parseFloat(ad)||0,yearly:(parseFloat(ar)||0)+(parseFloat(al)||0)+(parseFloat(ao)||0)+(parseFloat(ad)||0)}:void 0,costPerInspection:am?parseFloat(am):void 0,machineHours:"abc"===tG&&(ap||aq||ay||av)?{q1:parseFloat(ap)||0,q2:parseFloat(aq)||0,q3:parseFloat(ay)||0,q4:parseFloat(av)||0,yearly:(parseFloat(ap)||0)+(parseFloat(aq)||0)+(parseFloat(ay)||0)+(parseFloat(av)||0)}:void 0,costPerMachineHour:aj?parseFloat(aj):void 0,facilityRent:aC?parseFloat(aC):void 0,facilityInsurance:aP?parseFloat(aP):void 0,propertyTaxes:aF?parseFloat(aF):void 0,utilities:aI?parseFloat(aI):void 0,utilitiesIsVariable:aA,supervisorySalaries:ak?parseFloat(ak):void 0,supportStaffSalaries:aB?parseFloat(aB):void 0,indirectMaterialsPerUnit:aT?parseFloat(aT):void 0,shopSuppliesPerQuarter:aO?parseFloat(aO):void 0,plannedMaintenancePerQuarter:aG?parseFloat(aG):void 0,maintenancePerMachineHour:aH?parseFloat(aH):void 0,qualityControlPerUnit:aV?parseFloat(aV):void 0,qualityControlLabor:aJ?parseFloat(aJ):void 0,technologyCosts:aK?parseFloat(aK):void 0,warehouseCosts:a_?parseFloat(a_):void 0,environmentalComplianceCosts:a0?parseFloat(a0):void 0},s=function(e){let t=[];e.unitsToBeProduced?(e.unitsToBeProduced.q1<0||e.unitsToBeProduced.q2<0||e.unitsToBeProduced.q3<0||e.unitsToBeProduced.q4<0)&&t.push("Production units cannot be negative"):t.push("Units to be produced is required (from Schedule 2: Production Budget)");let a=void 0!==e.variableOverheadRatePerUnit||void 0!==e.variableOverheadRatePerLaborHour||void 0!==e.fixedOverheadPerQuarter,s=e.overheadCategories&&e.overheadCategories.length>0,r=e.useActivityBasedCosting;return a||s||r||t.push("Please provide either: (1) Simple overhead rates, (2) Detailed cost categories, or (3) Activity-based costing data"),a&&(void 0!==e.variableOverheadRatePerUnit&&e.variableOverheadRatePerUnit<0&&t.push("Variable overhead rate per unit cannot be negative"),void 0!==e.variableOverheadRatePerLaborHour&&e.variableOverheadRatePerLaborHour<0&&t.push("Variable overhead rate per labor hour cannot be negative"),void 0!==e.fixedOverheadPerQuarter&&e.fixedOverheadPerQuarter<0&&t.push("Fixed overhead per quarter cannot be negative"),void 0!==e.depreciationPerQuarter&&e.depreciationPerQuarter<0&&t.push("Depreciation per quarter cannot be negative"),void 0===e.variableOverheadRatePerLaborHour||e.directLaborHours||t.push("Direct labor hours are required when using overhead rate per labor hour (from Schedule 4)")),s&&e.overheadCategories.forEach((a,s)=>{a.name&&""!==a.name.trim()||t.push("Overhead category ".concat(s+1,": Name is required")),a.amount<0&&t.push('Overhead category "'.concat(a.name,'": Amount cannot be negative')),"variable"!==a.costType||a.costDriver||t.push('Overhead category "'.concat(a.name,'": Cost driver required for variable costs')),"labor-hours"!==a.costDriver||e.directLaborHours||t.push('Overhead category "'.concat(a.name,'": Direct labor hours required for this cost driver')),"machine-hours"!==a.costDriver||e.machineHours||t.push('Overhead category "'.concat(a.name,'": Machine hours required for this cost driver'))}),r&&(e.numberOfProductionRuns&&void 0===e.costPerProductionRun&&t.push("Cost per production run is required when production runs are specified"),e.numberOfInspections&&void 0===e.costPerInspection&&t.push("Cost per inspection is required when inspections are specified"),e.machineHours&&void 0===e.costPerMachineHour&&t.push("Cost per machine hour is required when machine hours are specified")),t}(a);if(s.filter(e=>!e.startsWith("WARNING:")).length>0){a5(s),a4(null);return}a4(b(q(a))),a5(s)},className:"".concat(lI," font-medium px-8 py-3 text-lg mt-4"),children:"Calculate Manufacturing Overhead"}),a3.length>0&&(0,s.jsx)("div",{className:"mt-6 space-y-3",children:a3.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-red-400":"text-red-700"),children:a3.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]})})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Manufacturing Overhead Results"}),a1&&(0,s.jsx)("button",{onClick:()=>{if(!a1)return;let e="".concat(O||"Your Company"," - ").concat(G||"Product","\n");e+="Schedule 5: Manufacturing Overhead Budget\n",e+="For the Year Ending December 31, ".concat(V,"\n\n"),e+=a1.headers.join(",")+"\n",a1.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","manufacturing-overhead-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!a1&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter overhead data and click Calculate Manufacturing Overhead"}),a1&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:a1.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:a1.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},t))})]})}),a1.overheadPerUnit&&(0,s.jsxs)("div",{className:"p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(lF),children:"Cost Metrics"}),(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Overhead per Unit:"})," ",H," ",a1.overheadPerUnit.yearly.toFixed(2)]}),a1.predeterminedRate&&(0,s.jsxs)("p",{className:"text-sm ".concat(lw),children:[(0,s.jsx)("strong",{children:"Predetermined Overhead Rate:"})," ",H," ",a1.predeterminedRate.toFixed(2)," per ","units"===t_?"unit":"labor-hours"===t_?"labor hour":"machine hour"]})]}),eG&&eB&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Data Visualization"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(D.PJ,{data:eB.totalOverhead,label:"Total Overhead Trend",color:"#F59E0B",darkMode:T}),(0,s.jsx)(D.Ae,{expenses:[{name:"Variable",value:eB.variableOverhead.yearly},{name:"Fixed",value:eB.fixedOverhead.yearly},{name:"Depreciation",value:(null==(t=eB.depreciation)?void 0:t.yearly)||0}],title:"Overhead Breakdown",darkMode:T})]})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Manufacturing Overhead Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Manufacturing Overhead Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Manufacturing Overhead Budget calculates all manufacturing costs other than direct materials and direct labor, including indirect materials, indirect labor, utilities, depreciation, and facility costs."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Total Manufacturing Overhead = Variable Overhead + Fixed Overhead; Cash Disbursements = Total Overhead  Depreciation"]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 6: Selling, General & Administrative (SG&A) Expense Budget"}),(0,s.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The SG&A Expense Budget plans all non-manufacturing operating expenses including sales commissions, marketing, distribution, and administrative costs."}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Select Approach"}),(0,s.jsxs)("div",{className:"flex gap-6 mb-4 flex-wrap",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"sgaApproach",checked:"simple"===a6,onChange:()=>a8("simple"),className:"mr-2"}),(0,s.jsx)("span",{children:"Simple (Percentage-based)"})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"sgaApproach",checked:"detailed"===a6,onChange:()=>a8("detailed"),className:"mr-2"}),(0,s.jsx)("span",{children:"Detailed (Line-by-line)"})]})]})]}),"simple"===a6&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Simple Approach Inputs"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Variable Selling Expense Rate (% of sales)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:se,onChange:e=>st(e.target.value),placeholder:"0.05 (5%)",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Variable Admin Expense Rate (% of sales)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sa,onChange:e=>ss(e.target.value),placeholder:"0.03 (3%)",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Fixed Selling Expense per Quarter ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sr,onChange:e=>sn(e.target.value),placeholder:"50000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Fixed Admin Expense per Quarter ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sl,onChange:e=>si(e.target.value),placeholder:"75000",className:"w-full px-4 py-2 border ".concat(lR)})]})]})]}),"detailed"===a6&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Selling Expenses"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Commission Rate (% of revenue)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:so,onChange:e=>sc(e.target.value),placeholder:"0.05 (5%)",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Distribution Cost per Unit ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sm,onChange:e=>sx(e.target.value),placeholder:"2.50",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Distribution Fixed Cost per Quarter ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sp,onChange:e=>sh(e.target.value),placeholder:"15000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Customer Service Salaries per Quarter ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sq,onChange:e=>sb(e.target.value),placeholder:"25000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Warranty Expense per Unit ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sy,onChange:e=>sg(e.target.value),placeholder:"1.00",className:"w-full px-4 py-2 border ".concat(lR)})]})]}),(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Marketing Expenses (per Quarter)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Advertising Budget ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sv,onChange:e=>sf(e.target.value),placeholder:"20000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Brand Development ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sj,onChange:e=>sN(e.target.value),placeholder:"10000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Marketing Campaigns ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sC,onChange:e=>sS(e.target.value),placeholder:"15000",className:"w-full px-4 py-2 border ".concat(lR)})]})]}),(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Administrative Expenses (per Quarter)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Executive Salaries ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sP,onChange:e=>sw(e.target.value),placeholder:"150000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Finance Salaries ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sF,onChange:e=>sR(e.target.value),placeholder:"50000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"HR Salaries ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sI,onChange:e=>sE(e.target.value),placeholder:"40000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"IT Salaries ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sA,onChange:e=>sQ(e.target.value),placeholder:"60000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Office Rent ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sk,onChange:e=>sU(e.target.value),placeholder:"30000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Utilities ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sB,onChange:e=>sD(e.target.value),placeholder:"5000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Software Licenses ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sT,onChange:e=>sL(e.target.value),placeholder:"10000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Telecommunications ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sO,onChange:e=>sM(e.target.value),placeholder:"3000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Office Supplies ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sG,onChange:e=>sW(e.target.value),placeholder:"2000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Legal Fees ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sH,onChange:e=>sY(e.target.value),placeholder:"8000",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Bad Debt Rate (% of sales)"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:sV,onChange:e=>sz(e.target.value),placeholder:"0.02 (2%)",className:"w-full px-4 py-2 border ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Depreciation - Office Equipment ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:sJ,onChange:e=>s$(e.target.value),placeholder:"5000",className:"w-full px-4 py-2 border ".concat(lR)})]})]})]}),(0,s.jsx)("button",{onClick:()=>{var e,t,a,s,r,n,l,i,o,c;if(!eC)return void alert("Please calculate Sales Budget first (Schedule 1)");let d={salesRevenue:{q1:(null==(e=eC.totalRevenue)?void 0:e.q1)||0,q2:(null==(t=eC.totalRevenue)?void 0:t.q2)||0,q3:(null==(a=eC.totalRevenue)?void 0:a.q3)||0,q4:(null==(s=eC.totalRevenue)?void 0:s.q4)||0,yearly:(null==(r=eC.totalRevenue)?void 0:r.yearly)||0},salesUnits:{q1:(null==(n=eC.unitsSold)?void 0:n.q1)||0,q2:(null==(l=eC.unitsSold)?void 0:l.q2)||0,q3:(null==(i=eC.unitsSold)?void 0:i.q3)||0,q4:(null==(o=eC.unitsSold)?void 0:o.q4)||0,yearly:(null==(c=eC.unitsSold)?void 0:c.yearly)||0},useSimpleApproach:"simple"===a6,variableSellingExpenseRate:se?parseFloat(se):void 0,variableAdminExpenseRate:sa?parseFloat(sa):void 0,fixedSellingExpensePerQuarter:sr?parseFloat(sr):void 0,fixedAdminExpensePerQuarter:sl?parseFloat(sl):void 0,commissionRate:so?parseFloat(so):void 0,commissionPerUnit:sd?parseFloat(sd):void 0,distributionCostPerUnit:sm?parseFloat(sm):void 0,distributionFixedCostPerQuarter:sp?parseFloat(sp):void 0,customerServiceSalaries:sq?parseFloat(sq):void 0,warrantyExpensePerUnit:sy?parseFloat(sy):void 0,advertisingBudgetPerQuarter:sv?parseFloat(sv):void 0,brandDevelopmentPerQuarter:sj?parseFloat(sj):void 0,marketingCampaignsPerQuarter:sC?parseFloat(sC):void 0,executiveSalaries:sP?parseFloat(sP):void 0,financeSalaries:sF?parseFloat(sF):void 0,hrSalaries:sI?parseFloat(sI):void 0,itSalaries:sA?parseFloat(sA):void 0,officeRentPerQuarter:sk?parseFloat(sk):void 0,utilitiesPerQuarter:sB?parseFloat(sB):void 0,softwareLicensesPerQuarter:sT?parseFloat(sT):void 0,telecommunicationsPerQuarter:sO?parseFloat(sO):void 0,officeSuppliesPerQuarter:sG?parseFloat(sG):void 0,legalFeesPerQuarter:sH?parseFloat(sH):void 0,badDebtRate:sV?parseFloat(sV):void 0,depreciationOfficeEquipment:sJ?parseFloat(sJ):void 0},u=function(e){let t=[],a=e.useSimpleApproach&&(void 0!==e.variableSellingExpenseRate||void 0!==e.variableAdminExpenseRate||void 0!==e.fixedSellingExpensePerQuarter||void 0!==e.fixedAdminExpensePerQuarter),s=e.salesPersonnelCategories||e.distributionChannels||e.departmentBudgets||void 0!==e.commissionRate||void 0!==e.advertisingBudgetPerQuarter||void 0!==e.executiveSalaries;return a||s||t.push("Either provide simple approach rates OR detailed expense inputs"),!s||a||e.salesRevenue||e.salesUnits||t.push("Sales revenue or sales units required for detailed SG&A calculations (from Schedule 1)"),e.salesPersonnelCategories&&e.salesPersonnelCategories.forEach((e,a)=>{e.name&&""!==e.name.trim()||t.push("Sales personnel category ".concat(a+1,": Name is required")),e.numberOfPersonnel<0&&t.push('Sales personnel category "'.concat(e.name,'": Number of personnel cannot be negative')),e.baseSalaryPerPerson<0&&t.push('Sales personnel category "'.concat(e.name,'": Salary cannot be negative'))}),e.distributionChannels&&e.distributionChannels.forEach((e,a)=>{e.name&&""!==e.name.trim()||t.push("Distribution channel ".concat(a+1,": Name is required"))}),!e.badDebtRate&&e.salesRevenue&&t.push("WARNING: Consider adding bad debt rate for uncollectible accounts"),!e.customerAcquisitionCostPerCustomer&&e.newCustomersPerQuarter&&t.push("WARNING: Customer acquisition cost provided but no cost per customer specified"),t}(d);sX(g(y(d))),sZ(u)},className:"".concat(lI," font-medium px-6 py-3 mb-6"),children:"Calculate SG&A Expenses"}),s_.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[s_.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-red-300":"text-red-800"),children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-red-400":"text-red-700"),children:s_.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),s_.filter(e=>e.startsWith("WARNING:")).length>0&&(0,s.jsxs)("div",{className:"p-4 ".concat(T?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(T?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(T?"text-yellow-400":"text-yellow-700"),children:s_.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,s.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"SG&A Expense Results"}),sK&&(0,s.jsx)("button",{onClick:()=>{if(!sK)return;let e="".concat(O||"Your Company"," - ").concat(G||"Product","\n");e+="Schedule 6: Selling, General & Administrative Expense Budget\n",e+="For the Year Ending December 31, ".concat(V,"\n\n"),e+=sK.headers.join(",")+"\n",sK.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),s=String(t.q2).replace(/,/g,""),r=String(t.q3).replace(/,/g,""),n=String(t.q4).replace(/,/g,""),l=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(s,",").concat(r,",").concat(n,",").concat(l,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","sga-expense-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!sK&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter SG&A data and click Calculate SG&A Expenses"}),sK&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:sK.headers.map((e,t)=>(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(lF),children:e},t))})}),(0,s.jsx)("tbody",{children:sK.rows.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.yearly})]},t))})]})}),sK.sgaAsPercentOfSales&&(0,s.jsxs)("div",{className:"p-4 border ".concat(T?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(lF),children:"SG&A Metrics"}),(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"SG&A as % of Sales (Yearly):"})," ",(100*sK.sgaAsPercentOfSales.yearly).toFixed(2),"%"]}),sK.variableSGAPerUnit&&(0,s.jsxs)("p",{className:"text-sm mb-2 ".concat(lw),children:[(0,s.jsx)("strong",{children:"Variable SG&A per Unit:"})," ",H," ",sK.variableSGAPerUnit.yearly.toFixed(2)]}),sK.totalSGAPerUnit&&(0,s.jsxs)("p",{className:"text-sm ".concat(lw),children:[(0,s.jsx)("strong",{children:"Total SG&A per Unit:"})," ",H," ",sK.totalSGAPerUnit.yearly.toFixed(2)]})]}),eG&&eT&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Data Visualization"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(D.PJ,{data:eT.totalSGAExpenses,label:"Total SG&A Expenses Trend",color:"#8B5CF6",darkMode:T}),(0,s.jsx)(D.Ae,{expenses:[{name:"Selling",value:(null==(a=eT.totalSellingExpenses)?void 0:a.yearly)||0},{name:"Marketing",value:(null==(n=eT.totalMarketingExpenses)?void 0:n.yearly)||0},{name:"Admin",value:(null==(d=eT.totalAdministrativeExpenses)?void 0:d.yearly)||0}],title:"SG&A Expense Breakdown",darkMode:T})]})]}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" SG&A Expense Budget calculated successfully"})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the SG&A Expense Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Selling, General & Administrative Expense Budget plans all non-manufacturing operating expenses including sales commissions, marketing, distribution, and administrative overhead."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Total SG&A = Variable Expenses + Fixed Expenses; Variable includes commissions and distribution; Fixed includes salaries, rent, and utilities"]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 7: Cash Receipts Budget"}),(0,s.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The Cash Receipts Budget calculates when cash is actually collected from sales, bridging the gap between accrual accounting (sales revenue) and cash accounting (actual cash received)."}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Collection Policy"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Percent Collected in Same Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:s0,onChange:e=>s2(e.target.value),placeholder:"0.70 (70%)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.70 for 70% collected in same quarter"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Percent Collected in Next Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:s1,onChange:e=>s4(e.target.value),placeholder:"0.28 (28%)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.28 for 28% collected next quarter"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Percent Uncollectible (Bad Debt) - Optional"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:s3,onChange:e=>s5(e.target.value),placeholder:"0.02 (2%)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.02 for 2% bad debt allowance"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Accounts Receivable ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:s6,onChange:e=>s8(e.target.value),placeholder:"25000",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Outstanding receivables at start of year"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!eC)return void alert("Please calculate Sales Budget first (Schedule 1)");let{output:e,validation:t}=v(eC,{percentCollectedInSameQuarter:parseFloat(s0)||0,percentCollectedInNextQuarter:parseFloat(s1)||0,percentUncollectible:s3?parseFloat(s3):void 0,beginningAccountsReceivable:parseFloat(s6)||0});s9(e),rt(t.errors),rs(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate Cash Receipts"})]}),re.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-red-500 bg-red-50 dark:bg-red-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-red-600 dark:text-red-300",children:re.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),ra.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-700 dark:text-yellow-400 mb-2",children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-yellow-600 dark:text-yellow-300",children:ra.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Cash Receipts Results"}),s7&&(0,s.jsx)("button",{onClick:()=>{if(!s7)return;let e=new Blob([function(e,t,a,s){let r=f(e),n="".concat(t,"\n");return n+="Schedule 8: Cash Receipts Budget\n",n+="Product: ".concat(a,"\n"),n+="Fiscal Year: ".concat(s,"\n\n"),n+="Item,Q1,Q2,Q3,Q4,Yearly\n",r.forEach(e=>{n+='"'.concat(e.label,'",').concat(e.q1,",").concat(e.q2,",").concat(e.q3,",").concat(e.q4,",").concat(e.yearly,"\n")}),n}(s7,O||"Your Company",G||"Product",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","cash-receipts-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!s7&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter cash receipts data and click Calculate Cash Receipts"}),s7&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q1"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q2"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q3"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q4"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Yearly"})]})}),(0,s.jsx)("tbody",{children:f(s7).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.yearly})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Cash Receipts Budget calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Cash Collection Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-1 gap-6",children:[(0,s.jsx)(D.PJ,{data:s7.totalCashReceipts,label:"Total Cash Receipts by Quarter",color:"#10B981",darkMode:T,height:280}),(0,s.jsx)(D.Ae,{expenses:[{name:"Cash Sales",value:s7.collectionsSameQuarter.yearly},{name:"Credit Collections",value:s7.collectionsNextQuarter.yearly}],title:"Cash Receipts Composition (Yearly)",darkMode:T,height:280})]})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Cash Receipts Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Cash Receipts Budget shows when cash from sales is actually collected. It accounts for the timing difference between when a sale is made (revenue recognition) and when cash is received (cash collection)."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Total Cash Receipts = Cash Sales + (Credit Sales \xd7 % Collected Same Quarter) + (Prior Quarter Credit Sales \xd7 % Collected Next Quarter)"]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 8: Cash Disbursements Budget"}),(0,s.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The Cash Disbursements Budget calculates when cash is actually paid out for all operating expenses, combining data from Schedules 3-6 plus additional payments like taxes, dividends, and capital expenditures."}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Material Payment Policy"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Percent Paid in Same Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rr,onChange:e=>rn(e.target.value),placeholder:"0.50 (50%)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.50 for 50% paid immediately"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Percent Paid in Next Quarter"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rl,onChange:e=>ri(e.target.value),placeholder:"0.50 (50%)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.50 for 50% paid next quarter"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Accounts Payable ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ro,onChange:e=>rc(e.target.value),placeholder:"20000",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Outstanding payables at start of year"})]})]}),(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 mt-6 ".concat(lF),children:"Other Cash Disbursements (Optional)"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-3 ".concat(lF),children:"Income Tax Payments ($)"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q1"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rd,onChange:e=>ru(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q2"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rm,onChange:e=>rx(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q3"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rp,onChange:e=>rh(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q4"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rq,onChange:e=>rb(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-3 ".concat(lF),children:"Dividend Payments ($)"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q1"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ry,onChange:e=>rg(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q2"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rv,onChange:e=>rf(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q3"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rj,onChange:e=>rN(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q4"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rC,onChange:e=>rS(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-3 ".concat(lF),children:"Capital Expenditures ($)"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q1"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rP,onChange:e=>rw(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q2"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rF,onChange:e=>rR(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q3"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rI,onChange:e=>rE(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q4"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rA,onChange:e=>rQ(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-3 ".concat(lF),children:"Loan Payments ($)"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q1"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rk,onChange:e=>rU(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q2"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rB,onChange:e=>rD(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q3"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rT,onChange:e=>rL(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs mb-1 opacity-75",children:"Q4"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rO,onChange:e=>rM(e.target.value),placeholder:"0",className:"w-full px-3 py-2 border text-sm ".concat(lR)})]})]})]}),(0,s.jsx)("button",{onClick:()=>{let{output:e,validation:t}=j(td,tT,a1,sK,{percentMaterialPaidSameQuarter:parseFloat(rr)||void 0,percentMaterialPaidNextQuarter:parseFloat(rl)||void 0,beginningAccountsPayable:parseFloat(ro)||void 0,incomeTaxPayments:{q1:parseFloat(rd)||0,q2:parseFloat(rm)||0,q3:parseFloat(rp)||0,q4:parseFloat(rq)||0,yearly:0},dividendPayments:{q1:parseFloat(ry)||0,q2:parseFloat(rv)||0,q3:parseFloat(rj)||0,q4:parseFloat(rC)||0,yearly:0},capitalExpenditures:{q1:parseFloat(rP)||0,q2:parseFloat(rF)||0,q3:parseFloat(rI)||0,q4:parseFloat(rA)||0,yearly:0},loanPayments:{q1:parseFloat(rk)||0,q2:parseFloat(rB)||0,q3:parseFloat(rT)||0,q4:parseFloat(rO)||0,yearly:0}});rW(e),rY(t.errors),rz(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate Cash Disbursements"})]}),rH.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-red-500 bg-red-50 dark:bg-red-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-red-600 dark:text-red-300",children:rH.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),rV.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-700 dark:text-yellow-400 mb-2",children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-yellow-600 dark:text-yellow-300",children:rV.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Cash Disbursements Results"}),rG&&(0,s.jsx)("button",{onClick:()=>{if(!rG)return;let e=new Blob([function(e,t,a,s){let r=N(e),n="".concat(t,"\n");return n+="Schedule 8: Cash Disbursements Budget\n",n+="Product: ".concat(a,"\n"),n+="Fiscal Year: ".concat(s,"\n\n"),n+="Item,Q1,Q2,Q3,Q4,Yearly\n",r.forEach(e=>{n+='"'.concat(e.label,'",').concat(e.q1,",").concat(e.q2,",").concat(e.q3,",").concat(e.q4,",").concat(e.yearly,"\n")}),n}(rG,O||"Your Company",G||"Product",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","cash-disbursements-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!rG&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Schedules 3-6 first, then enter cash disbursements data and click Calculate Cash Disbursements"}),rG&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q1"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q2"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q3"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q4"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Yearly"})]})}),(0,s.jsx)("tbody",{children:N(rG).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.yearly})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Cash Disbursements Budget calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Cash Disbursements Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(D.PJ,{data:rG.totalDisbursements,label:"Total Disbursements by Quarter",color:"#EF4444",darkMode:T,height:280}),(0,s.jsx)(D.Ae,{expenses:[{name:"Materials",value:rG.materialPayments.yearly},{name:"Labor",value:rG.laborPayments.yearly},{name:"Overhead",value:rG.overheadPayments.yearly},{name:"SG&A",value:rG.sgaPayments.yearly},{name:"Taxes",value:rG.incomeTaxPayments.yearly},{name:"CapEx",value:rG.capitalExpenditures.yearly}].filter(e=>e.value>0),title:"Disbursements by Category (Yearly)",darkMode:T,height:280})]})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Cash Disbursements Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Cash Disbursements Budget shows when cash is actually paid out for all business expenses. It combines operating expenses from Schedules 3-6 with additional payments like taxes, dividends, capital expenditures, and loan payments."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Formula:"})," Total Disbursements = Material Payments + Labor + Overhead (cash portion) + SGA (cash portion) + Taxes + Dividends + CapEx + Loan Payments"]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 9: Cash Budget"}),(0,s.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The Cash Budget is the master cash planning schedule that forecasts the company's cash position and financing needs by combining cash receipts and disbursements."}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Cash Policy"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Cash Balance ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rJ,onChange:e=>r$(e.target.value),placeholder:"35000",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Cash on hand at start of year"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Minimum Cash Balance Required ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:rK,onChange:e=>rX(e.target.value),placeholder:"15000",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Safety cushion for operations"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Interest Rate on Borrowing (Optional)"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:r_,onChange:e=>rZ(e.target.value),placeholder:"0.08 (8% annual)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.08 for 8% annual interest"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Interest Rate on Investments (Optional)"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:r0,onChange:e=>r2(e.target.value),placeholder:"0.03 (3% annual)",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.03 for 3% annual return"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!s7)return void alert("Please calculate Cash Receipts Budget first (Schedule 7)");if(!rG)return void alert("Please calculate Cash Disbursements Budget first (Schedule 8)");let{output:e,validation:t}=C(s7,rG,{beginningCashBalance:parseFloat(rJ)||0,minimumCashBalance:parseFloat(rK)||0,interestRateOnBorrowing:r_?parseFloat(r_):void 0,interestRateOnInvestments:r0?parseFloat(r0):void 0});r4(e),r5(t.errors),r8(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate Cash Budget"})]}),r3.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-red-500 bg-red-50 dark:bg-red-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-red-600 dark:text-red-300",children:r3.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),r6.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-700 dark:text-yellow-400 mb-2",children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-yellow-600 dark:text-yellow-300",children:r6.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Cash Budget Results"}),r1&&(0,s.jsx)("button",{onClick:()=>{if(!r1)return;let e=new Blob([function(e,t,a,s){let r=S(e),n="".concat(t,"\n");return n+="Schedule 9: Cash Budget\n",n+="Product: ".concat(a,"\n"),n+="Fiscal Year: ".concat(s,"\n\n"),n+="Item,Q1,Q2,Q3,Q4,Yearly\n",r.forEach(e=>{n+='"'.concat(e.label,'",').concat(e.q1,",").concat(e.q2,",").concat(e.q3,",").concat(e.q4,",").concat(e.yearly,"\n")}),n}(r1,O||"Your Company",G||"Product",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","cash-budget-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!r1&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Schedules 7 and 8 first, then enter cash budget data and click Calculate Cash Budget"}),r1&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q1"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q2"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q3"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Q4"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Yearly"})]})}),(0,s.jsx)("tbody",{children:S(r1).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q1}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q2}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q3}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q4}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.yearly})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Cash Budget calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Cash Position Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-1 gap-6",children:[(0,s.jsx)(D.uZ,{receipts:r1.cashReceipts,disbursements:r1.cashDisbursements,endingCash:r1.endingCash,darkMode:T,height:320}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(D.PJ,{data:r1.operatingCashFlow,label:"Operating Cash Flow by Quarter",color:"#3B82F6",darkMode:T,height:250}),(0,s.jsx)(D.PJ,{data:r1.freeCashFlow,label:"Free Cash Flow by Quarter",color:"#10B981",darkMode:T,height:250})]})]})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Cash Budget"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Cash Budget is the master cash planning document that shows the company's projected cash position throughout the year. It identifies periods of cash surplus or deficit and helps plan financing needs."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Key Metrics:"})," Operating Cash Flow (receipts - disbursements), Free Cash Flow (operating cash flow - capital expenditures), and Financing Requirements (borrowing needed to maintain minimum cash balance)."]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(lF),children:"Schedule 10: Cost of Goods Manufactured & Sold (COGS)"}),(0,s.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The COGS Schedule calculates the total cost of producing and selling goods by combining direct materials, direct labor, and manufacturing overhead with inventory adjustments."}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(lF),children:"Inventory Values"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Work-in-Process Inventory ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:r7,onChange:e=>r9(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Partially completed goods at start of year"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Ending Work-in-Process Inventory ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ne,onChange:e=>nt(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Partially completed goods at end of year"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Beginning Finished Goods Inventory ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:na,onChange:e=>ns(e.target.value),placeholder:"10000",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Completed goods ready for sale at start of year"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lF),children:"Ending Finished Goods Inventory ($)"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:nr,onChange:e=>nn(e.target.value),placeholder:"10000",className:"w-full px-4 py-2 border ".concat(lR)}),(0,s.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Completed goods ready for sale at end of year"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!td)return void alert("Please calculate Direct Materials Budget first (Schedule 3)");if(!tT)return void alert("Please calculate Direct Labor Budget first (Schedule 4)");if(!a1)return void alert("Please calculate Manufacturing Overhead Budget first (Schedule 5)");if(!e7)return void alert("Please calculate Production Budget first (Schedule 2)");let{output:e,validation:t}=P(td,tT,a1,e7,{beginningWIPInventory:parseFloat(r7)||0,endingWIPInventory:parseFloat(ne)||0,beginningFinishedGoodsInventory:parseFloat(na)||0,endingFinishedGoodsInventory:parseFloat(nr)||0});ni(e),nc(t.errors),nu(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg"),children:"Calculate COGS"})]}),no.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-red-500 bg-red-50 dark:bg-red-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-red-600 dark:text-red-300",children:no.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),nd.length>0&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-700 dark:text-yellow-400 mb-2",children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-yellow-600 dark:text-yellow-300",children:nd.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"COGS Results"}),nl&&(0,s.jsx)("button",{onClick:()=>{if(!nl)return;let e=new Blob([function(e,t,a,s){let r=w(e),n="".concat(t,"\n");return n+="Schedule 10: Cost of Goods Manufactured & Sold\n",n+="Product: ".concat(a,"\n"),n+="Fiscal Year: ".concat(s,"\n\n"),n+="Item,Amount\n",r.forEach(e=>{n+='"'.concat(e.label,'",').concat(e.amount,"\n")}),n}(nl,O||"Your Company",G||"Product",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","cogs-schedule-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!nl&&(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Schedules 2-5 first, then enter inventory data and click Calculate COGS"}),nl&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg mb-2 ".concat(lF),children:[(0,s.jsx)("strong",{children:O||"Your Company"}),"  ",G||"Product"]}),(0,s.jsxs)("p",{className:"text-sm mb-6 ".concat(lw),children:["For the Year Ending December 31, ",V]}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(lF),children:"Amount"})]})}),(0,s.jsx)("tbody",{children:w(nl).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.label.includes("TOTAL")||e.label.includes("Cost of Goods")?"font-semibold":""," ").concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right ".concat(e.label.includes("TOTAL")||e.label.includes("Cost of Goods")?"font-semibold":""),children:e.amount})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" COGS Schedule calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Cost of Goods Sold Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-1 gap-6",children:(0,s.jsx)(D.WO,{directMaterial:nl.directMaterial,directLabor:nl.directLabor,manufacturingOverhead:nl.manufacturingOverhead,darkMode:T,height:300})})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the COGS Schedule"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Cost of Goods Manufactured & Sold schedule combines all manufacturing costs (materials, labor, overhead) and adjusts for inventory changes to determine the final cost of products sold during the period."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Key Formulas:"})," Cost of Goods Manufactured = Beginning WIP + Total Manufacturing Cost - Ending WIP; Cost of Goods Sold = Beginning FG + COGM - Ending FG"]}),(0,s.jsxs)("div",{id:"schedule11",className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 ".concat(lF),children:"Schedule 11: Budgeted Income Statement"}),(0,s.jsx)("p",{className:"text-lg mb-6 leading-relaxed",children:"Project your company's profitability by combining sales revenue, cost of goods sold, and operating expenses into a comprehensive income statement."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Interest Expense (optional)"}),(0,s.jsx)("input",{type:"number",value:nm,onChange:e=>nx(e.target.value),placeholder:"e.g., 15000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Income Tax Rate (0-1, e.g., 0.25 for 25%)"}),(0,s.jsx)("input",{type:"number",value:np,onChange:e=>nh(e.target.value),placeholder:"e.g., 0.25",step:"0.01",min:"0",max:"1",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!eC)return void alert("Please calculate Sales Budget first (Schedule 1)");if(!nl)return void alert("Please calculate Cost of Goods Sold first (Schedule 10)");if(!sK)return void alert("Please calculate Selling & Administrative Expenses first (Schedule 6)");let{output:e,validation:t}=F(eC,nl,sK,{interestExpense:parseFloat(nm)||0,incomeTaxRate:parseFloat(np)||0});nb(e),ng(t.errors),nf(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg mb-6"),children:"Calculate Income Statement"}),ny.length>0&&(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mb-6",children:[(0,s.jsx)("strong",{children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:ny.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),nv.length>0&&(0,s.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 mb-6",children:[(0,s.jsx)("strong",{children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:nv.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),nq&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Results"}),(0,s.jsx)("button",{onClick:()=>{if(!nq)return;let e=new Blob([function(e,t,a){let s=R(e),r="".concat(t,"\n");return r+="Schedule 11: Budgeted Income Statement\n",r+="Fiscal Year: ".concat(a,"\n\n"),r+="Item,Amount,% of Sales\n",s.forEach(e=>{r+='"'.concat(e.label,'",').concat(e.amount,",").concat(e.percentage||"","\n")}),r}(nq,O||"Your Company",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","income-statement-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," px-6 py-2 text-sm"),children:"Download CSV"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("thead",{className:T?"bg-gray-800":"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"Amount"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"% of Sales"})]})}),(0,s.jsx)("tbody",{children:R(nq).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.label.includes("TOTAL")||e.label.includes("Net Income")||e.label.includes("Gross Margin")||e.label.includes("Operating Income")?"font-semibold":""," ").concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right ".concat(e.label.includes("TOTAL")||e.label.includes("Net Income")||e.label.includes("Gross Margin")||e.label.includes("Operating Income")?"font-semibold":""),children:e.amount}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right ".concat(e.label.includes("TOTAL")||e.label.includes("Net Income")||e.label.includes("Gross Margin")||e.label.includes("Operating Income")?"font-semibold":""),children:e.percentage})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Income Statement calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Income Statement Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-1 gap-6",children:(0,s.jsx)(D.A7,{salesRevenue:nq.salesRevenue,cogs:nq.costOfGoodsSold,sgaExpenses:nq.sellingAdminExpenses,interestExpense:nq.interestExpense,taxes:nq.incomeTax,darkMode:T,height:350})})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Budgeted Income Statement"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Budgeted Income Statement combines data from all previous schedules to project your company's profitability. It shows sales revenue, cost of goods sold, gross margin, operating expenses, and net income with percentage analysis."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Key Formulas:"})," Gross Margin = Sales Revenue - COGS; Operating Income = Gross Margin - SG&A; Net Income = Operating Income - Interest - Taxes"]}),(0,s.jsxs)("div",{id:"schedule12",className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 ".concat(lF),children:"Schedule 12: Budgeted Statement of Cash Flows"}),(0,s.jsx)("p",{className:"text-lg mb-6 leading-relaxed",children:"Reconcile net income to operating cash flow and see the complete picture of cash movements by activity (operating, investing, financing) using the direct method."}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Beginning Balances (from Prior Period)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Beginning Cash"}),(0,s.jsx)("input",{type:"number",value:nj,onChange:e=>nN(e.target.value),placeholder:"e.g., 35000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Beginning Accounts Receivable"}),(0,s.jsx)("input",{type:"number",value:nC,onChange:e=>nS(e.target.value),placeholder:"e.g., 50000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Beginning Inventory"}),(0,s.jsx)("input",{type:"number",value:nP,onChange:e=>nw(e.target.value),placeholder:"e.g., 60000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Beginning Accounts Payable"}),(0,s.jsx)("input",{type:"number",value:nF,onChange:e=>nR(e.target.value),placeholder:"e.g., 40000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Financing & Investing Activities (Optional)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"New Loan Proceeds"}),(0,s.jsx)("input",{type:"number",value:nI,onChange:e=>nE(e.target.value),placeholder:"e.g., 25000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Stock Issued"}),(0,s.jsx)("input",{type:"number",value:nA,onChange:e=>nQ(e.target.value),placeholder:"e.g., 10000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Proceeds from Asset Sales"}),(0,s.jsx)("input",{type:"number",value:nk,onChange:e=>nU(e.target.value),placeholder:"e.g., 5000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!nq)return void alert("Please calculate Income Statement first (Schedule 11)");if(!s7)return void alert("Please calculate Cash Receipts Budget first (Schedule 7)");if(!rG)return void alert("Please calculate Cash Disbursements Budget first (Schedule 8)");if(!a1)return void alert("Please calculate Manufacturing Overhead Budget first (Schedule 5)");let{output:e,validation:t}=I(nq,s7,rG,a1,eC,nl,{beginningCash:parseFloat(nj)||0,beginningAccountsReceivable:parseFloat(nC)||0,beginningInventory:parseFloat(nP)||0,beginningAccountsPayable:parseFloat(nF)||0,loanProceeds:parseFloat(nI)||0,stockIssued:parseFloat(nA)||0,proceedsFromAssetSales:parseFloat(nk)||0});nD(e),nL(t.errors),nM(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg mb-6"),children:"Calculate Cash Flow Statement"}),nT.length>0&&(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mb-6",children:[(0,s.jsx)("strong",{children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:nT.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),nO.length>0&&(0,s.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 mb-6",children:[(0,s.jsx)("strong",{children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:nO.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),nB&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Statement of Cash Flows (Direct Method)"}),(0,s.jsx)("button",{onClick:()=>{if(!nB)return;let e=new Blob([function(e,t,a){let s=E(e),r=A(e),n=Q(e),l="".concat(t,"\n");return l+="Schedule 12: Budgeted Statement of Cash Flows\n",l+="Fiscal Year: ".concat(a,"\n\n"),l+="DIRECT METHOD\n",l+="Section,Item,Amount\n",s.forEach(e=>{l+='"'.concat(e.section,'","').concat(e.label,'",').concat(e.amount,"\n")}),l+="\n",l+="INDIRECT METHOD RECONCILIATION\n",l+="Item,Amount\n",r.forEach(e=>{l+='"'.concat(e.label,'",').concat(e.amount,"\n")}),l+="\n",l+="QUALITY METRICS\n",l+="Metric,Value,Interpretation\n",n.forEach(e=>{l+='"'.concat(e.label,'",').concat(e.value,',"').concat(e.interpretation,'"\n')}),l}(nB,O||"Your Company",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","cash-flow-statement-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," px-6 py-2 text-sm"),children:"Download CSV"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("thead",{className:T?"bg-gray-800":"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Section"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"Amount"})]})}),(0,s.jsx)("tbody",{children:E(nB).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"," ").concat(e.isTotal?T?"bg-gray-800":"bg-gray-100":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.section.includes("ACTIVITIES")||"SUMMARY"===e.section?"font-bold":""," ").concat(lF),children:e.section.includes("ACTIVITIES")||"SUMMARY"===e.section?e.section:""}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.isSubtotal||e.isTotal?"font-semibold":""," ").concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right ".concat(e.isSubtotal||e.isTotal?"font-semibold":""),children:e.amount})]},t))})]})}),(0,s.jsx)("h3",{className:"text-xl font-semibold mt-8 mb-4 ".concat(lF),children:"Indirect Method Reconciliation"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("thead",{className:T?"bg-gray-800":"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"Amount"})]})}),(0,s.jsx)("tbody",{children:A(nB).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"," ").concat(e.isSubtotal?T?"bg-gray-800":"bg-gray-100":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.isSubtotal?"font-semibold":""," ").concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right ".concat(e.isSubtotal?"font-semibold":""),children:e.amount})]},t))})]})}),(0,s.jsx)("h3",{className:"text-xl font-semibold mt-8 mb-4 ".concat(lF),children:"Cash Flow Quality Metrics"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("thead",{className:T?"bg-gray-800":"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Metric"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"Value"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Interpretation"})]})}),(0,s.jsx)("tbody",{children:Q(nB).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.value}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.interpretation.includes("Good")||e.interpretation.includes("Positive")||e.interpretation.includes("Sustainable")||e.interpretation.includes("Low")||e.interpretation.includes("Self")?"text-green-600":"text-yellow-600"),children:e.interpretation})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Cash Flow Statement calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Cash Flow Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-1 gap-6",children:(0,s.jsx)(D.VC,{operating:nB.netCashFromOperating,investing:nB.netCashFromInvesting,financing:nB.netCashFromFinancing,darkMode:T,height:300})})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Cash Flow Statement"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Budgeted Statement of Cash Flows reconciles net income to operating cash flow and shows the complete picture of cash movements. It uses the direct method for clarity, with reconciliation to the indirect method for comparison."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Key Sections:"})," Operating Activities (cash from business operations), Investing Activities (capital expenditures and asset sales), Financing Activities (debt and equity transactions). Quality metrics help assess cash flow sustainability."]}),(0,s.jsxs)("div",{id:"schedule13",className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 ".concat(lF),children:"Schedule 13: Budgeted Balance Sheet"}),(0,s.jsx)("p",{className:"text-lg mb-6 leading-relaxed",children:"Project your company's financial position (assets, liabilities, equity) at the end of the budget period. Enter beginning balances from your prior period balance sheet."}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Beginning Assets"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Cash"}),(0,s.jsx)("input",{type:"number",value:nG,onChange:e=>nW(e.target.value),placeholder:"e.g., 35000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Accounts Receivable"}),(0,s.jsx)("input",{type:"number",value:nH,onChange:e=>nY(e.target.value),placeholder:"e.g., 50000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Raw Material Inventory"}),(0,s.jsx)("input",{type:"number",value:nV,onChange:e=>nz(e.target.value),placeholder:"e.g., 20000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"WIP Inventory"}),(0,s.jsx)("input",{type:"number",value:nJ,onChange:e=>n$(e.target.value),placeholder:"e.g., 10000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Finished Goods Inventory"}),(0,s.jsx)("input",{type:"number",value:nK,onChange:e=>nX(e.target.value),placeholder:"e.g., 30000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Other Current Assets"}),(0,s.jsx)("input",{type:"number",value:n_,onChange:e=>nZ(e.target.value),placeholder:"e.g., 5000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Fixed Assets (PP&E)"}),(0,s.jsx)("input",{type:"number",value:n0,onChange:e=>n2(e.target.value),placeholder:"e.g., 300000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Accumulated Depreciation"}),(0,s.jsx)("input",{type:"number",value:n1,onChange:e=>n4(e.target.value),placeholder:"e.g., 100000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Other Assets"}),(0,s.jsx)("input",{type:"number",value:n3,onChange:e=>n5(e.target.value),placeholder:"e.g., 10000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Beginning Liabilities"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Accounts Payable"}),(0,s.jsx)("input",{type:"number",value:n6,onChange:e=>n8(e.target.value),placeholder:"e.g., 40000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Wages Payable"}),(0,s.jsx)("input",{type:"number",value:n7,onChange:e=>n9(e.target.value),placeholder:"e.g., 10000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Taxes Payable"}),(0,s.jsx)("input",{type:"number",value:le,onChange:e=>lt(e.target.value),placeholder:"e.g., 15000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Other Accrued Expenses"}),(0,s.jsx)("input",{type:"number",value:la,onChange:e=>ls(e.target.value),placeholder:"e.g., 5000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Short-term Debt"}),(0,s.jsx)("input",{type:"number",value:lr,onChange:e=>ln(e.target.value),placeholder:"e.g., 15000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Long-term Debt"}),(0,s.jsx)("input",{type:"number",value:ll,onChange:e=>li(e.target.value),placeholder:"e.g., 100000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Beginning Equity"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Common Stock"}),(0,s.jsx)("input",{type:"number",value:lo,onChange:e=>lc(e.target.value),placeholder:"e.g., 150000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Retained Earnings"}),(0,s.jsx)("input",{type:"number",value:ld,onChange:e=>lu(e.target.value),placeholder:"e.g., 75000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 ".concat(lF),children:"Period Activity (Optional Adjustments)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"New Long-term Borrowing"}),(0,s.jsx)("input",{type:"number",value:lm,onChange:e=>lx(e.target.value),placeholder:"e.g., 20000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Long-term Debt Repayment"}),(0,s.jsx)("input",{type:"number",value:lp,onChange:e=>lh(e.target.value),placeholder:"e.g., 10000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(lw),children:"Stock Issued"}),(0,s.jsx)("input",{type:"number",value:lq,onChange:e=>lb(e.target.value),placeholder:"e.g., 10000",className:"w-full px-4 py-2 border ".concat(lR," focus:outline-none focus:ring-2 focus:ring-blue-500")})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!nq)return void alert("Please calculate Income Statement first (Schedule 11)");if(!r1)return void alert("Please calculate Cash Budget first (Schedule 9)");if(!s7)return void alert("Please calculate Cash Receipts Budget first (Schedule 7)");if(!rG)return void alert("Please calculate Cash Disbursements Budget first (Schedule 8)");if(!nl)return void alert("Please calculate COGS first (Schedule 10)");if(!a1)return void alert("Please calculate Manufacturing Overhead Budget first (Schedule 5)");let{output:e,validation:t}=k(nq,r1,s7,rG,nl,a1,eC,{beginningCash:parseFloat(nG)||0,beginningAccountsReceivable:parseFloat(nH)||0,beginningRawMaterialInventory:parseFloat(nV)||0,beginningWIPInventory:parseFloat(nJ)||0,beginningFinishedGoodsInventory:parseFloat(nK)||0,beginningOtherCurrentAssets:parseFloat(n_)||0,beginningFixedAssets:parseFloat(n0)||0,beginningAccumulatedDepreciation:parseFloat(n1)||0,beginningOtherAssets:parseFloat(n3)||0,beginningAccountsPayable:parseFloat(n6)||0,beginningWagesPayable:parseFloat(n7)||0,beginningTaxesPayable:parseFloat(le)||0,beginningOtherAccruedExpenses:parseFloat(la)||0,beginningShortTermDebt:parseFloat(lr)||0,beginningLongTermDebt:parseFloat(ll)||0,beginningCommonStock:parseFloat(lo)||0,beginningRetainedEarnings:parseFloat(ld)||0,newLongTermBorrowing:parseFloat(lm)||0,longTermDebtRepayment:parseFloat(lp)||0,stockIssued:parseFloat(lq)||0});lg(e),lf(t.errors),lN(t.warnings)},className:"".concat(lI," font-medium px-8 py-3 text-lg mb-6"),children:"Calculate Balance Sheet"}),lv.length>0&&(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mb-6",children:[(0,s.jsx)("strong",{children:"Errors:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:lv.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),lj.length>0&&(0,s.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 mb-6",children:[(0,s.jsx)("strong",{children:"Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:lj.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),ly&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold ".concat(lF),children:"Budgeted Balance Sheet"}),(0,s.jsx)("button",{onClick:()=>{if(!ly)return;let e=new Blob([function(e,t,a){let s=U(e),r=B(e),n="".concat(t,"\n");return n+="Schedule 13: Budgeted Balance Sheet\n",n+="As of End of Fiscal Year: ".concat(a,"\n\n"),n+="BALANCE SHEET\n",n+="Section,Item,Amount\n",s.forEach(e=>{n+='"'.concat(e.section,'","').concat(e.label,'",').concat(e.amount,"\n")}),n+="\n",n+="BALANCE CHECK\n",n+="Is Balanced,".concat(e.isBalanced?"Yes":"No","\n"),n+="Difference,$".concat(e.balanceDifference.toFixed(2),"\n"),n+="\n",n+="FINANCIAL RATIOS\n",n+="Category,Ratio,Value,Interpretation\n",r.forEach(e=>{n+='"'.concat(e.category,'","').concat(e.label,'",').concat(e.value,',"').concat(e.interpretation,'"\n')}),n}(ly,O||"Your Company",V)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","balance-sheet-".concat(O.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(lI," px-6 py-2 text-sm"),children:"Download CSV"})]}),(0,s.jsx)("div",{className:"p-4 rounded ".concat(ly.isBalanced?"bg-green-100 border border-green-400":"bg-red-100 border border-red-400"),children:(0,s.jsx)("p",{className:"font-medium ".concat(ly.isBalanced?"text-green-700":"text-red-700"),children:ly.isBalanced?" Balance Sheet is balanced (Assets = Liabilities + Equity)":" Balance Sheet does not balance. Difference: $".concat(ly.balanceDifference.toFixed(2))})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("thead",{className:T?"bg-gray-800":"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Section"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Item"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"Amount"})]})}),(0,s.jsx)("tbody",{children:U(ly).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"," ").concat(e.isTotal?T?"bg-gray-800":"bg-gray-100":""),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.section.includes("ASSETS")||e.section.includes("LIABILITIES")||e.section.includes("EQUITY")?"font-bold":""," ").concat(lF),children:e.section.includes("ASSETS")||e.section.includes("LIABILITIES")||e.section.includes("EQUITY")?e.section:""}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.isSubtotal||e.isTotal?"font-semibold":""," ").concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right ".concat(e.isSubtotal||e.isTotal?"font-semibold":""),children:e.amount})]},t))})]})}),(0,s.jsx)("h3",{className:"text-xl font-semibold mt-8 mb-4 ".concat(lF),children:"Financial Ratios"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border ".concat(T?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("thead",{className:T?"bg-gray-800":"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Category"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Ratio"}),(0,s.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold ".concat(lF),children:"Value"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold ".concat(lF),children:"Interpretation"})]})}),(0,s.jsx)("tbody",{children:B(ly).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(T?"border-gray-800":"border-gray-200"),children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm font-medium ".concat(lF),children:e.category}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(lF),children:e.label}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.value}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm ".concat(e.interpretation.includes("Strong")||e.interpretation.includes("Good")||e.interpretation.includes("Excellent")||e.interpretation.includes("Positive")||e.interpretation.includes("Conservative")||e.interpretation.includes("Low debt")||e.interpretation.includes("Efficient")?"text-green-600":"text-yellow-600"),children:e.interpretation})]},t))})]})}),(0,s.jsx)("p",{className:"text-lg leading-relaxed",children:" Balance Sheet calculated successfully"}),eG&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold ".concat(lF),children:"Balance Sheet Visualization"}),(0,s.jsx)("button",{onClick:()=>eW(!eG),className:"text-sm ".concat(T?"text-blue-400":"text-blue-600"," hover:underline"),children:"Hide Charts"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-1 gap-6",children:(0,s.jsx)(D.eB,{assets:{current:ly.totalCurrentAssets,fixed:ly.netFixedAssets,other:ly.otherAssets},liabilities:{current:ly.totalCurrentLiabilities,longTerm:ly.longTermDebt},equity:ly.totalEquity,darkMode:T,height:350})})]})]})]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"About the Balance Sheet"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Budgeted Balance Sheet projects your company's financial position at the end of the budget period. It combines data from all previous schedules to show assets, liabilities, and stockholders' equity, with the fundamental equation: Assets = Liabilities + Equity."}),(0,s.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,s.jsx)("strong",{children:"Key Ratios:"})," Current Ratio (liquidity), Quick Ratio (immediate liquidity), Debt-to-Equity (leverage), Return on Assets (asset efficiency), Return on Equity (owner returns), Asset Turnover (sales efficiency)."]}),(0,s.jsx)("hr",{className:"my-12 ".concat(lE)}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(lF),children:"Master Budget Complete"}),(0,s.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"Congratulations! You have completed all 13 schedules of the comprehensive master budget. Your budget now includes sales forecasts, production plans, cost projections, cash flow analysis, profitability projections, and a complete financial position statement."})]}),(0,s.jsxs)("footer",{className:"max-w-5xl mx-auto px-6 py-12 border-t ".concat(lE," text-sm ").concat("text-gray-500"),children:[(0,s.jsx)("p",{children:"Built with Next.js, TypeScript, and Tailwind CSS"}),(0,s.jsx)("p",{className:"mt-2",children:"\xa9 2025 Budget Automation System"})]})]})}},7178:(e,t,a)=>{Promise.resolve().then(a.bind(a,6423))}},e=>{e.O(0,[619,804,34,441,255,358],()=>e(e.s=7178)),_N_E=e.O()}]);