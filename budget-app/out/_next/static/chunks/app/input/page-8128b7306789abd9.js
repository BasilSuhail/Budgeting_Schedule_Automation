(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{7178:(e,t,a)=>{Promise.resolve().then(a.bind(a,7458))},7458:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115),l=a(2619),n=a.n(l);function i(e,t){if(0===e||0===t)return 100;let a=e/t,r=Math.floor(a),s=a-r;return 0===s?100:(r+s)/Math.ceil(a)*100}function o(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"Sales Revenue (from Schedule 1)",q1:t(e.salesRevenue.q1),q2:t(e.salesRevenue.q2),q3:t(e.salesRevenue.q3),q4:t(e.salesRevenue.q4),yearly:t(e.salesRevenue.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"CASH COLLECTIONS",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Collections from same quarter sales",q1:t(e.collectionsSameQuarter.q1),q2:t(e.collectionsSameQuarter.q2),q3:t(e.collectionsSameQuarter.q3),q4:t(e.collectionsSameQuarter.q4),yearly:t(e.collectionsSameQuarter.yearly)}),a.push({label:"Collections from prior quarter sales",q1:t(e.collectionsNextQuarter.q1),q2:t(e.collectionsNextQuarter.q2),q3:t(e.collectionsNextQuarter.q3),q4:t(e.collectionsNextQuarter.q4),yearly:t(e.collectionsNextQuarter.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Total Cash Receipts",q1:t(e.totalCashReceipts.q1),q2:t(e.totalCashReceipts.q2),q3:t(e.totalCashReceipts.q3),q4:t(e.totalCashReceipts.q4),yearly:t(e.totalCashReceipts.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"Ending Accounts Receivable",q1:t(e.endingAccountsReceivable.q1),q2:t(e.endingAccountsReceivable.q2),q3:t(e.endingAccountsReceivable.q3),q4:t(e.endingAccountsReceivable.q4),yearly:t(e.endingAccountsReceivable.yearly)}),a}function c(){var e;let[t,a]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a("true"===localStorage.getItem("darkMode"))},[]);let[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,q]=(0,s.useState)(""),[x,p]=(0,s.useState)(new Date().getFullYear().toString()),[y,h]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[v,f]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[S,C]=(0,s.useState)(""),[P,F]=(0,s.useState)(""),[R,w]=(0,s.useState)(""),[Q,U]=(0,s.useState)(""),[E,k]=(0,s.useState)(""),[I,A]=(0,s.useState)(""),[D,B]=(0,s.useState)("0"),[L,T]=(0,s.useState)("inflation"),[M,O]=(0,s.useState)(""),[W,H]=(0,s.useState)(""),[G,Y]=(0,s.useState)(""),[J,z]=(0,s.useState)(null),[V,$]=(0,s.useState)([]),[_,X]=(0,s.useState)(""),[K,Z]=(0,s.useState)(""),[ee,et]=(0,s.useState)(""),[ea,er]=(0,s.useState)(""),[es,el]=(0,s.useState)(""),[en,ei]=(0,s.useState)(""),[eo,ec]=(0,s.useState)(""),[ed,eu]=(0,s.useState)(!1),[em,eq]=(0,s.useState)(""),[ex,ep]=(0,s.useState)(null),[ey,eh]=(0,s.useState)([]),[eb,eg]=(0,s.useState)([{name:"",requiredPerUnit:0,costPerUnit:0,beginningInventory:0,desiredEndingInventoryRatio:0,unit:""}]),[ev,ef]=(0,s.useState)(""),[ej,eN]=(0,s.useState)(""),[eS,eC]=(0,s.useState)(""),[eP,eF]=(0,s.useState)(null),[eR,ew]=(0,s.useState)([]),[eQ,eU]=(0,s.useState)(!0),[eE,ek]=(0,s.useState)(""),[eI,eA]=(0,s.useState)(""),[eD,eB]=(0,s.useState)([{name:"",hoursPerUnit:0,wageRatePerHour:0}]),[eL,eT]=(0,s.useState)(""),[eM,eO]=(0,s.useState)(""),[eW,eH]=(0,s.useState)("1.5"),[eG,eY]=(0,s.useState)(""),[eJ,ez]=(0,s.useState)(""),[eV,e$]=(0,s.useState)(""),[e_,eX]=(0,s.useState)(""),[eK,eZ]=(0,s.useState)(""),[e0,e2]=(0,s.useState)(null),[e1,e3]=(0,s.useState)([]),[e4,e5]=(0,s.useState)("simple"),[e6,e8]=(0,s.useState)(""),[e7,e9]=(0,s.useState)(""),[te,tt]=(0,s.useState)(""),[ta,tr]=(0,s.useState)(""),[ts,tl]=(0,s.useState)("units"),[tn,ti]=(0,s.useState)([{name:"",costType:"variable",amount:0,costDriver:"units"}]),[to,tc]=(0,s.useState)(!1),[td,tu]=(0,s.useState)(""),[tm,tq]=(0,s.useState)(""),[tx,tp]=(0,s.useState)(""),[ty,th]=(0,s.useState)(""),[tb,tg]=(0,s.useState)(""),[tv,tf]=(0,s.useState)(""),[tj,tN]=(0,s.useState)(""),[tS,tC]=(0,s.useState)(""),[tP,tF]=(0,s.useState)(""),[tR,tw]=(0,s.useState)(""),[tQ,tU]=(0,s.useState)(""),[tE,tk]=(0,s.useState)(""),[tI,tA]=(0,s.useState)(""),[tD,tB]=(0,s.useState)(""),[tL,tT]=(0,s.useState)(""),[tM,tO]=(0,s.useState)(""),[tW,tH]=(0,s.useState)(""),[tG,tY]=(0,s.useState)(""),[tJ,tz]=(0,s.useState)(""),[tV,t$]=(0,s.useState)(!1),[t_,tX]=(0,s.useState)(""),[tK,tZ]=(0,s.useState)(""),[t0,t2]=(0,s.useState)(""),[t1,t3]=(0,s.useState)(""),[t4,t5]=(0,s.useState)(""),[t6,t8]=(0,s.useState)(""),[t7,t9]=(0,s.useState)(""),[ae,at]=(0,s.useState)(""),[aa,ar]=(0,s.useState)(""),[as,al]=(0,s.useState)(""),[an,ai]=(0,s.useState)(""),[ao,ac]=(0,s.useState)(null),[ad,au]=(0,s.useState)([]),[am,aq]=(0,s.useState)("simple"),[ax,ap]=(0,s.useState)(!0),[ay,ah]=(0,s.useState)(""),[ab,ag]=(0,s.useState)(""),[av,af]=(0,s.useState)(""),[aj,aN]=(0,s.useState)(""),[aS,aC]=(0,s.useState)(""),[aP,aF]=(0,s.useState)(""),[aR,aw]=(0,s.useState)(""),[aQ,aU]=(0,s.useState)(""),[aE,ak]=(0,s.useState)(""),[aI,aA]=(0,s.useState)(""),[aD,aB]=(0,s.useState)(""),[aL,aT]=(0,s.useState)(""),[aM,aO]=(0,s.useState)(""),[aW,aH]=(0,s.useState)(""),[aG,aY]=(0,s.useState)(""),[aJ,az]=(0,s.useState)(""),[aV,a$]=(0,s.useState)(""),[a_,aX]=(0,s.useState)(""),[aK,aZ]=(0,s.useState)(""),[a0,a2]=(0,s.useState)(""),[a1,a3]=(0,s.useState)(""),[a4,a5]=(0,s.useState)(""),[a6,a8]=(0,s.useState)(""),[a7,a9]=(0,s.useState)(""),[re,rt]=(0,s.useState)(""),[ra,rr]=(0,s.useState)(null),[rs,rl]=(0,s.useState)([]),[rn,ri]=(0,s.useState)(""),[ro,rc]=(0,s.useState)(""),[rd,ru]=(0,s.useState)(""),[rm,rq]=(0,s.useState)(""),[rx,rp]=(0,s.useState)(null),[ry,rh]=(0,s.useState)([]),[rb,rg]=(0,s.useState)([]),rv=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,rf=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return parseFloat((Math.random()*(t-e)+e).toFixed(a))},rj=()=>{let e=(parseFloat(b)||0)+(parseFloat(v)||0)+(parseFloat(j)||0)+(parseFloat(S)||0),t=""!==M||""!==W,a={historicalSalesUnits:e>0?{q1:parseFloat(b)||0,q2:parseFloat(v)||0,q3:parseFloat(j)||0,q4:parseFloat(S)||0,yearly:e}:void 0,forecastedSalesUnits:{q1:parseFloat(P)||0,q2:parseFloat(R)||0,q3:parseFloat(Q)||0,q4:parseFloat(E)||0,yearly:(parseFloat(P)||0)+(parseFloat(R)||0)+(parseFloat(Q)||0)+(parseFloat(E)||0)},sellingPricePerUnit:parseFloat(I)||0,priceInflationRate:"inflation"===L&&parseFloat(D)||0,cashSalesPercentage:t?parseFloat(M)||0:void 0,creditSalesPercentage:t?parseFloat(W)||0:void 0},r=function(e){let t=[];e.forecastedSalesUnits.q1<0&&t.push("Q1 sales units cannot be negative"),e.forecastedSalesUnits.q2<0&&t.push("Q2 sales units cannot be negative"),e.forecastedSalesUnits.q3<0&&t.push("Q3 sales units cannot be negative"),e.forecastedSalesUnits.q4<0&&t.push("Q4 sales units cannot be negative"),e.sellingPricePerUnit<=0&&t.push("Selling price must be greater than zero"),void 0!==e.priceInflationRate&&0!==e.priceInflationRate&&(e.priceInflationRate<-1&&t.push("Price inflation rate cannot be less than -100%"),e.priceInflationRate>2&&t.push("Price inflation rate seems unrealistic (over 200%)"),e.priceInflationRate>.5&&t.push("WARNING: Inflation rate over 50% is unusually high. Please verify."));let a=e.forecastedSalesUnits.q1+e.forecastedSalesUnits.q2+e.forecastedSalesUnits.q3+e.forecastedSalesUnits.q4;Math.abs(a-e.forecastedSalesUnits.yearly)>.01&&t.push("Yearly total (".concat(e.forecastedSalesUnits.yearly,") does not match sum of quarters (").concat(a,")"));let r=[{name:"Q1",value:e.forecastedSalesUnits.q1},{name:"Q2",value:e.forecastedSalesUnits.q2},{name:"Q3",value:e.forecastedSalesUnits.q3},{name:"Q4",value:e.forecastedSalesUnits.q4}],s=r.filter(e=>0===e.value);if(s.length>0&&a>0&&t.push("WARNING: Zero sales forecasted for ".concat(s.map(e=>e.name).join(", "),". Is this intentional?")),a>0&&r.forEach(e=>{let r=e.value/a*100;r>80&&t.push("WARNING: ".concat(r.toFixed(0),"% of annual sales are in ").concat(e.name,". This is an unusual pattern."))}),void 0!==e.cashSalesPercentage||void 0!==e.creditSalesPercentage){let a=e.cashSalesPercentage||0,r=e.creditSalesPercentage||0;(a<0||a>1)&&t.push("Cash sales percentage must be between 0 and 1 (0% to 100%)"),(r<0||r>1)&&t.push("Credit sales percentage must be between 0 and 1 (0% to 100%)");let s=a+r;Math.abs(s-1)>.01&&t.push("Cash and credit percentages must add up to 100%. Currently: ".concat((100*s).toFixed(1),"%"))}return t}(a);if(r.filter(e=>!e.startsWith("WARNING:")).length>0){$(r),z(null);return}z(function(e,t){let a=[{label:"Expected Sales (Units)",q1:e.salesUnits.q1.toFixed(2),q2:e.salesUnits.q2.toFixed(2),q3:e.salesUnits.q3.toFixed(2),q4:e.salesUnits.q4.toFixed(2),yearly:e.salesUnits.yearly.toFixed(2)},{label:"Selling Price per Unit",q1:e.sellingPrice.q1.toFixed(2),q2:e.sellingPrice.q2.toFixed(2),q3:e.sellingPrice.q3.toFixed(2),q4:e.sellingPrice.q4.toFixed(2),yearly:e.sellingPrice.yearly.toFixed(2)},{label:"Sales Revenue",q1:e.salesRevenue.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.salesRevenue.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.salesRevenue.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.salesRevenue.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.salesRevenue.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}];if(e.cashSales&&e.creditSales&&(a.push({label:"Cash Sales",q1:e.cashSales.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.cashSales.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.cashSales.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.cashSales.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.cashSales.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}),a.push({label:"Credit Sales",q1:e.creditSales.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.creditSales.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.creditSales.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.creditSales.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.creditSales.yearly.toLocaleString("en-US",{minimumFractionDigits:2})})),null==t?void 0:t.historicalSalesUnits){let r=(e,t)=>{if(0===t)return"N/A";let a=(e-t)/t*100;return"".concat(a>=0?"+":"").concat(a.toFixed(1),"%")};a.push({label:"Growth vs Prior Year",q1:r(e.salesUnits.q1,t.historicalSalesUnits.q1),q2:r(e.salesUnits.q2,t.historicalSalesUnits.q2),q3:r(e.salesUnits.q3,t.historicalSalesUnits.q3),q4:r(e.salesUnits.q4,t.historicalSalesUnits.q4),yearly:r(e.salesUnits.yearly,t.historicalSalesUnits.yearly)})}return{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:a,seasonalDistribution:{q1:e.salesUnits.yearly>0?e.salesUnits.q1/e.salesUnits.yearly*100:0,q2:e.salesUnits.yearly>0?e.salesUnits.q2/e.salesUnits.yearly*100:0,q3:e.salesUnits.yearly>0?e.salesUnits.q3/e.salesUnits.yearly*100:0,q4:e.salesUnits.yearly>0?e.salesUnits.q4/e.salesUnits.yearly*100:0}}}(function(e){let t,a,{forecastedSalesUnits:r,sellingPricePerUnit:s,priceInflationRate:l=0,cashSalesPercentage:n,creditSalesPercentage:i}=e,o={q1:s,q2:s*(1+l/4),q3:s*(1+l/4*2),q4:s*(1+l/4*3),yearly:0},c=r.yearly;o.yearly=c>0?(r.q1*o.q1+r.q2*o.q2+r.q3*o.q3+r.q4*o.q4)/c:s;let d={q1:r.q1*o.q1,q2:r.q2*o.q2,q3:r.q3*o.q3,q4:r.q4*o.q4,yearly:0};if(d.yearly=d.q1+d.q2+d.q3+d.q4,void 0!==n||void 0!==i){let e=n||0,r=i||0;t={q1:d.q1*e,q2:d.q2*e,q3:d.q3*e,q4:d.q4*e,yearly:d.yearly*e},a={q1:d.q1*r,q2:d.q2*r,q3:d.q3*r,q4:d.q4*r,yearly:d.yearly*r}}return{salesUnits:r,sellingPrice:o,salesRevenue:d,cashSales:t,creditSales:a}}(a),a)),$(r)},rN=()=>{if(!J)return void alert("Please calculate Sales Budget first (Schedule 1)");let e={forecastedSalesUnits:{q1:parseFloat(P)||0,q2:parseFloat(R)||0,q3:parseFloat(Q)||0,q4:parseFloat(E)||0,yearly:(parseFloat(P)||0)+(parseFloat(R)||0)+(parseFloat(Q)||0)+(parseFloat(E)||0)},beginningInventory:parseFloat(_)||0,desiredEndingInventoryRatio:parseFloat(K)||0,nextYearQ1ForecastedSales:ee?parseFloat(ee):void 0,maxProductionCapacityPerQuarter:ea?parseFloat(ea):void 0,minimumBatchSize:es?parseFloat(es):void 0,optimalBatchSize:en?parseFloat(en):void 0,inventoryCarryingCostPerUnit:eo?parseFloat(eo):void 0,useJIT:ed,obsolescenceRiskPercentage:em?parseFloat(em):void 0},t=function(e){let t=[];return e.forecastedSalesUnits.q1<0&&t.push("Q1 sales units cannot be negative"),e.forecastedSalesUnits.q2<0&&t.push("Q2 sales units cannot be negative"),e.forecastedSalesUnits.q3<0&&t.push("Q3 sales units cannot be negative"),e.forecastedSalesUnits.q4<0&&t.push("Q4 sales units cannot be negative"),e.beginningInventory<0&&t.push("Beginning inventory cannot be negative"),e.desiredEndingInventoryRatio<0&&t.push("Desired ending inventory ratio cannot be negative"),e.desiredEndingInventoryRatio>1&&t.push("WARNING: Ending inventory ratio over 100% is unusually high. This means you plan to hold more than one quarter's sales in stock."),void 0!==e.maxProductionCapacityPerQuarter&&(e.maxProductionCapacityPerQuarter<=0&&t.push("Maximum production capacity must be greater than zero"),[e.forecastedSalesUnits.q1,e.forecastedSalesUnits.q2,e.forecastedSalesUnits.q3,e.forecastedSalesUnits.q4].forEach((a,r)=>{a>e.maxProductionCapacityPerQuarter&&t.push("WARNING: Q".concat(r+1," sales (").concat(a,") exceed production capacity (").concat(e.maxProductionCapacityPerQuarter,"). You may need to build inventory in advance."))})),void 0!==e.minimumBatchSize&&e.minimumBatchSize<=0&&t.push("Minimum batch size must be greater than zero"),void 0!==e.optimalBatchSize&&e.optimalBatchSize<=0&&t.push("Optimal batch size must be greater than zero"),e.minimumBatchSize&&e.optimalBatchSize&&e.minimumBatchSize>e.optimalBatchSize&&t.push("Minimum batch size cannot be greater than optimal batch size"),void 0!==e.inventoryCarryingCostPerUnit&&e.inventoryCarryingCostPerUnit<0&&t.push("Inventory carrying cost cannot be negative"),void 0!==e.obsolescenceRiskPercentage&&(e.obsolescenceRiskPercentage<0||e.obsolescenceRiskPercentage>1)&&t.push("Obsolescence risk percentage must be between 0 and 1 (0% to 100%)"),e.useJIT&&e.desiredEndingInventoryRatio>0&&t.push("WARNING: Just-in-Time (JIT) mode is enabled but inventory ratio is set. JIT will override inventory settings and keep inventory at zero."),t}(e);if(t.filter(e=>!e.startsWith("WARNING:")).length>0){eh(t),ep(null);return}ep(function(e,t){let a=[{label:"Forecasted Sales (Units)",q1:e.salesUnits.q1.toFixed(2),q2:e.salesUnits.q2.toFixed(2),q3:e.salesUnits.q3.toFixed(2),q4:e.salesUnits.q4.toFixed(2),yearly:e.salesUnits.yearly.toFixed(2)},{label:"Add: Desired Ending Inventory",q1:e.desiredEndingInventory.q1.toFixed(2),q2:e.desiredEndingInventory.q2.toFixed(2),q3:e.desiredEndingInventory.q3.toFixed(2),q4:e.desiredEndingInventory.q4.toFixed(2),yearly:e.desiredEndingInventory.yearly.toFixed(2)},{label:"Total Units Required",q1:e.totalUnitsRequired.q1.toFixed(2),q2:e.totalUnitsRequired.q2.toFixed(2),q3:e.totalUnitsRequired.q3.toFixed(2),q4:e.totalUnitsRequired.q4.toFixed(2),yearly:e.totalUnitsRequired.yearly.toFixed(2)},{label:"Less: Beginning Inventory",q1:e.beginningInventory.q1.toFixed(2),q2:e.beginningInventory.q2.toFixed(2),q3:e.beginningInventory.q3.toFixed(2),q4:e.beginningInventory.q4.toFixed(2),yearly:e.beginningInventory.yearly.toFixed(2)},{label:"Required Production",q1:e.requiredProduction.q1.toFixed(2),q2:e.requiredProduction.q2.toFixed(2),q3:e.requiredProduction.q3.toFixed(2),q4:e.requiredProduction.q4.toFixed(2),yearly:e.requiredProduction.yearly.toFixed(2)}];return e.capacityUtilization&&a.push({label:"Capacity Utilization (%)",q1:e.capacityUtilization.q1.toFixed(1)+"%",q2:e.capacityUtilization.q2.toFixed(1)+"%",q3:e.capacityUtilization.q3.toFixed(1)+"%",q4:e.capacityUtilization.q4.toFixed(1)+"%",yearly:e.capacityUtilization.yearly.toFixed(1)+"%"}),e.productionEfficiency&&a.push({label:"Production Efficiency (%)",q1:e.productionEfficiency.q1.toFixed(1)+"%",q2:e.productionEfficiency.q2.toFixed(1)+"%",q3:e.productionEfficiency.q3.toFixed(1)+"%",q4:e.productionEfficiency.q4.toFixed(1)+"%",yearly:e.productionEfficiency.yearly.toFixed(1)+"%"}),{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:a,inventoryCarryingCost:e.inventoryCarryingCost,obsolescenceCost:e.obsolescenceCost,notes:(null==t?void 0:t.nextYearQ1ForecastedSales)?"Note: Q4 ending inventory is based on next year's Q1 forecasted sales of ".concat(t.nextYearQ1ForecastedSales," units."):"Note: Q4 ending inventory is based on current year Q1 sales (assuming similar demand pattern next year)."}}(function(e){let t,a,r,s,l,{forecastedSalesUnits:n,beginningInventory:o,desiredEndingInventoryRatio:c,nextYearQ1ForecastedSales:d,maxProductionCapacityPerQuarter:u,minimumBatchSize:m,optimalBatchSize:q,inventoryCarryingCostPerUnit:x,useJIT:p=!1,obsolescenceRiskPercentage:y}=e,h={q1:p?0:n.q2*c,q2:p?0:n.q3*c,q3:p?0:n.q4*c,q4:p?0:(d||n.q1)*c,yearly:0};h.yearly=h.q4;let b={q1:o,q2:h.q1,q3:h.q2,q4:h.q3,yearly:o},g={q1:n.q1+h.q1,q2:n.q2+h.q2,q3:n.q3+h.q3,q4:n.q4+h.q4,yearly:0};g.yearly=g.q1+g.q2+g.q3+g.q4;let v={q1:g.q1-b.q1,q2:g.q2-b.q2,q3:g.q3-b.q3,q4:g.q4-b.q4,yearly:0};return v.yearly=v.q1+v.q2+v.q3+v.q4,(m||q)&&(v=t=function(e,t,a){let r=e=>{if(!t&&!a)return e;let r=a||t||e;return Math.ceil(e/r)*r},s={q1:r(e.q1),q2:r(e.q2),q3:r(e.q3),q4:r(e.q4),yearly:0};return s.yearly=s.q1+s.q2+s.q3+s.q4,s}(v,m,q)),u&&(a={q1:v.q1/u*100,q2:v.q2/u*100,q3:v.q3/u*100,q4:v.q4/u*100,yearly:v.yearly/(4*u)*100}),x&&((r={q1:h.q1*x,q2:h.q2*x,q3:h.q3*x,q4:h.q4*x,yearly:0}).yearly=r.q1+r.q2+r.q3+r.q4),y&&x&&((s={q1:h.q1*x*y,q2:h.q2*x*y,q3:h.q3*x*y,q4:h.q4*x*y,yearly:0}).yearly=s.q1+s.q2+s.q3+s.q4),q&&(l={q1:i(v.q1,q),q2:i(v.q2,q),q3:i(v.q3,q),q4:i(v.q4,q),yearly:i(v.yearly,4*q)}),{salesUnits:n,desiredEndingInventory:h,totalUnitsRequired:g,beginningInventory:b,requiredProduction:v,capacityUtilization:a,inventoryCarryingCost:r,batchAdjustments:t,obsolescenceCost:s,productionEfficiency:l}}(e),e)),eh(t)},rS=(e,t,a)=>{let r=[...eb];r[e][t]=a,eg(r)},rC=()=>{if(!ex)return void alert("Please calculate Production Budget first (Schedule 2)");let e={q1:parseFloat(P)||0,q2:parseFloat(R)||0,q3:parseFloat(Q)||0,q4:parseFloat(E)||0,yearly:(parseFloat(P)||0)+(parseFloat(R)||0)+(parseFloat(Q)||0)+(parseFloat(E)||0)};if(null==ex?void 0:ex.rows){let t=ex.rows.find(e=>"Required Production"===e.label);t&&(e.q1=parseFloat(String(t.q1).replace(/,/g,""))||0,e.q2=parseFloat(String(t.q2).replace(/,/g,""))||0,e.q3=parseFloat(String(t.q3).replace(/,/g,""))||0,e.q4=parseFloat(String(t.q4).replace(/,/g,""))||0,e.yearly=parseFloat(String(t.yearly).replace(/,/g,""))||0)}let t={unitsToBeProduced:e,nextYearQ1Production:ev?parseFloat(ev):void 0,materials:eb.map(e=>({...e,requiredPerUnit:"string"==typeof e.requiredPerUnit?parseFloat(e.requiredPerUnit)||0:e.requiredPerUnit,costPerUnit:"string"==typeof e.costPerUnit?parseFloat(e.costPerUnit)||0:e.costPerUnit,beginningInventory:"string"==typeof e.beginningInventory?parseFloat(e.beginningInventory)||0:e.beginningInventory,desiredEndingInventoryRatio:"string"==typeof e.desiredEndingInventoryRatio?parseFloat(e.desiredEndingInventoryRatio)||0:e.desiredEndingInventoryRatio})),percentPaidInCurrentQuarter:ej?parseFloat(ej):void 0,percentPaidInNextQuarter:eS?parseFloat(eS):void 0},a=function(e){let t=[];if(e.unitsToBeProduced.q1<0&&t.push("Q1 production units cannot be negative"),e.unitsToBeProduced.q2<0&&t.push("Q2 production units cannot be negative"),e.unitsToBeProduced.q3<0&&t.push("Q3 production units cannot be negative"),e.unitsToBeProduced.q4<0&&t.push("Q4 production units cannot be negative"),!e.materials||0===e.materials.length)return t.push("At least one material type must be specified"),t;if(e.materials.forEach((a,r)=>{let s=e.materials.length>1?'Material "'.concat(a.name,'": '):"";a.name&&""!==a.name.trim()||t.push("".concat(s,"Material name cannot be empty")),a.requiredPerUnit<=0&&t.push("".concat(s,"Material required per unit must be greater than zero")),a.costPerUnit<=0&&t.push("".concat(s,"Cost per unit must be greater than zero")),a.beginningInventory<0&&t.push("".concat(s,"Beginning inventory cannot be negative")),a.desiredEndingInventoryRatio<0&&t.push("".concat(s,"Ending inventory ratio cannot be negative")),a.desiredEndingInventoryRatio>1&&t.push("WARNING: ".concat(s,"Ending inventory ratio over 100% is unusually high")),void 0!==a.scrapWastePercentage&&((a.scrapWastePercentage<0||a.scrapWastePercentage>.5)&&t.push("".concat(s,"Scrap/waste percentage should be between 0% and 50%")),a.scrapWastePercentage>.2&&t.push("WARNING: ".concat(s,"Scrap/waste over 20% is very high. Consider process improvements."))),void 0!==a.priceInflationRate&&(a.priceInflationRate<-.5||a.priceInflationRate>1)&&t.push("".concat(s,"Price inflation rate seems unrealistic")),void 0!==a.bulkDiscountThreshold&&void 0!==a.bulkDiscountRate&&(a.bulkDiscountThreshold<=0&&t.push("".concat(s,"Bulk discount threshold must be greater than zero")),(a.bulkDiscountRate<0||a.bulkDiscountRate>.5)&&t.push("".concat(s,"Bulk discount rate should be between 0% and 50%"))),void 0!==a.supplierLeadTimeDays&&a.supplierLeadTimeDays<0&&t.push("".concat(s,"Supplier lead time cannot be negative")),a.useJIT&&a.desiredEndingInventoryRatio>0&&t.push("WARNING: ".concat(s,"JIT is enabled but ending inventory ratio is set. JIT will override inventory settings."))}),void 0!==e.percentPaidInCurrentQuarter||void 0!==e.percentPaidInNextQuarter){let a=e.percentPaidInCurrentQuarter||0,r=e.percentPaidInNextQuarter||0;(a<0||a>1)&&t.push("Percent paid in current quarter must be between 0 and 1"),(r<0||r>1)&&t.push("Percent paid in next quarter must be between 0 and 1");let s=a+r;Math.abs(s-1)>.01&&t.push("Payment percentages must add up to 100%. Currently: ".concat((100*s).toFixed(1),"%"))}return t}(t);if(a.filter(e=>!e.startsWith("WARNING:")).length>0){ew(a),eF(null);return}eF(function(e){var t,a;let r=e.materials.map(e=>{let t=[{label:"Units to be produced",q1:e.productionNeeds.q1.toFixed(0),q2:e.productionNeeds.q2.toFixed(0),q3:e.productionNeeds.q3.toFixed(0),q4:e.productionNeeds.q4.toFixed(0),yearly:e.productionNeeds.yearly.toFixed(0)},{label:"".concat(e.unit.charAt(0).toUpperCase()+e.unit.slice(1)," required per unit"),q1:(e.materialRequiredForProduction.q1/e.productionNeeds.q1||0).toFixed(2),q2:(e.materialRequiredForProduction.q2/e.productionNeeds.q2||0).toFixed(2),q3:(e.materialRequiredForProduction.q3/e.productionNeeds.q3||0).toFixed(2),q4:(e.materialRequiredForProduction.q4/e.productionNeeds.q4||0).toFixed(2),yearly:(e.materialRequiredForProduction.yearly/e.productionNeeds.yearly||0).toFixed(2)},{label:"Material required for production (".concat(e.unit,")"),q1:e.materialRequiredForProduction.q1.toFixed(2),q2:e.materialRequiredForProduction.q2.toFixed(2),q3:e.materialRequiredForProduction.q3.toFixed(2),q4:e.materialRequiredForProduction.q4.toFixed(2),yearly:e.materialRequiredForProduction.yearly.toFixed(2)},{label:"Add: Desired ending inventory (".concat(e.unit,")"),q1:e.desiredEndingInventory.q1.toFixed(2),q2:e.desiredEndingInventory.q2.toFixed(2),q3:e.desiredEndingInventory.q3.toFixed(2),q4:e.desiredEndingInventory.q4.toFixed(2),yearly:e.desiredEndingInventory.yearly.toFixed(2)},{label:"Total material required (".concat(e.unit,")"),q1:e.totalMaterialRequired.q1.toFixed(2),q2:e.totalMaterialRequired.q2.toFixed(2),q3:e.totalMaterialRequired.q3.toFixed(2),q4:e.totalMaterialRequired.q4.toFixed(2),yearly:e.totalMaterialRequired.yearly.toFixed(2)},{label:"Less: Beginning inventory (".concat(e.unit,")"),q1:e.beginningInventory.q1.toFixed(2),q2:e.beginningInventory.q2.toFixed(2),q3:e.beginningInventory.q3.toFixed(2),q4:e.beginningInventory.q4.toFixed(2),yearly:e.beginningInventory.yearly.toFixed(2)},{label:"Material to be purchased (".concat(e.unit,")"),q1:e.materialToBePurchased.q1.toFixed(2),q2:e.materialToBePurchased.q2.toFixed(2),q3:e.materialToBePurchased.q3.toFixed(2),q4:e.materialToBePurchased.q4.toFixed(2),yearly:e.materialToBePurchased.yearly.toFixed(2)},{label:"Cost per ".concat(e.unit),q1:e.costPerUnit.q1.toFixed(2),q2:e.costPerUnit.q2.toFixed(2),q3:e.costPerUnit.q3.toFixed(2),q4:e.costPerUnit.q4.toFixed(2),yearly:e.costPerUnit.yearly.toFixed(2)},{label:"Total purchase cost",q1:e.totalPurchaseCost.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.totalPurchaseCost.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.totalPurchaseCost.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.totalPurchaseCost.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.totalPurchaseCost.yearly.toLocaleString("en-US",{minimumFractionDigits:2})}];return{name:e.name,unit:e.unit,rows:t,scrapWasteCost:e.scrapWasteCost,bulkDiscountSavings:e.bulkDiscountSavings,inventoryTurnoverRatio:e.inventoryTurnoverRatio,daysInventoryOutstanding:e.daysInventoryOutstanding}}),s={label:"Total raw material purchases",q1:e.totalMaterialPurchaseCost.q1.toLocaleString("en-US",{minimumFractionDigits:2}),q2:e.totalMaterialPurchaseCost.q2.toLocaleString("en-US",{minimumFractionDigits:2}),q3:e.totalMaterialPurchaseCost.q3.toLocaleString("en-US",{minimumFractionDigits:2}),q4:e.totalMaterialPurchaseCost.q4.toLocaleString("en-US",{minimumFractionDigits:2}),yearly:e.totalMaterialPurchaseCost.yearly.toLocaleString("en-US",{minimumFractionDigits:2})};return{materials:r.map(e=>({...e,headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"]})),summary:{headers:["","Q1 (Oct-Dec)","Q2 (Jan-Mar)","Q3 (Apr-Jun)","Q4 (Jul-Sep)","Yearly Total"],rows:[s]},analytics:{overallInventoryTurnover:e.overallInventoryTurnover,totalScrapWasteCost:null==(t=e.totalScrapWasteCost)?void 0:t.yearly,totalBulkDiscountSavings:null==(a=e.totalBulkDiscountSavings)?void 0:a.yearly,criticalMaterials:e.criticalMaterials},cashDisbursements:e.cashDisbursements}}(function(e){var t,a,r;let s,l,n,{unitsToBeProduced:i,nextYearQ1Production:o,materials:c,percentPaidInCurrentQuarter:d,percentPaidInNextQuarter:u}=e,m=[],q=[];c.forEach(e=>{let t=function(e,t,a){let r,s,{requiredPerUnit:l,costPerUnit:n,beginningInventory:i,desiredEndingInventoryRatio:o,scrapWastePercentage:c,useJIT:d,priceInflationRate:u,bulkDiscountThreshold:m,bulkDiscountRate:q}=e,x=1+(c||0),p={q1:t.q1*l*x,q2:t.q2*l*x,q3:t.q3*l*x,q4:t.q4*l*x,yearly:t.yearly*l*x},y=t.q2,h=t.q3,b=t.q4,g=a||t.q1,v={q1:d?0:y*l*x*o,q2:d?0:h*l*x*o,q3:d?0:b*l*x*o,q4:d?0:g*l*x*o,yearly:0};v.yearly=v.q4;let f={q1:p.q1+v.q1,q2:p.q2+v.q2,q3:p.q3+v.q3,q4:p.q4+v.q4,yearly:0};f.yearly=f.q1+f.q2+f.q3+f.q4;let j={q1:i,q2:v.q1,q3:v.q2,q4:v.q3,yearly:i},N={q1:f.q1-j.q1,q2:f.q2-j.q2,q3:f.q3-j.q3,q4:f.q4-j.q4,yearly:0};N.yearly=N.q1+N.q2+N.q3+N.q4;let S=function(e,t,a,r,s){let l=(t||0)/4,n={q1:e,q2:e*(1+l),q3:e*(1+2*l),q4:e*(1+3*l),yearly:0};a&&r&&(s.q1>=a&&(n.q1*=1-r),s.q2>=a&&(n.q2*=1-r),s.q3>=a&&(n.q3*=1-r),s.q4>=a&&(n.q4*=1-r));let i=s.q1+s.q2+s.q3+s.q4;return i>0?n.yearly=(s.q1*n.q1+s.q2*n.q2+s.q3*n.q3+s.q4*n.q4)/i:n.yearly=e,n}(n,u,m,q,N),C={q1:N.q1*S.q1,q2:N.q2*S.q2,q3:N.q3*S.q3,q4:N.q4*S.q4,yearly:0};if(C.yearly=C.q1+C.q2+C.q3+C.q4,c&&c>0){let e={q1:t.q1*l*c,q2:t.q2*l*c,q3:t.q3*l*c,q4:t.q4*l*c,yearly:0};e.yearly=e.q1+e.q2+e.q3+e.q4,r={q1:e.q1*n,q2:e.q2*n,q3:e.q3*n,q4:e.q4*n,yearly:e.yearly*n}}m&&q&&((s={q1:N.q1>=m?N.q1*n*q:0,q2:N.q2>=m?N.q2*n*q:0,q3:N.q3>=m?N.q3*n*q:0,q4:N.q4>=m?N.q4*n*q:0,yearly:0}).yearly=s.q1+s.q2+s.q3+s.q4);let P=(i+v.yearly)/2,F=P>0?p.yearly/P:void 0;return{name:e.name,unit:e.unit,productionNeeds:t,materialRequiredForProduction:p,desiredEndingInventory:v,totalMaterialRequired:f,beginningInventory:j,materialToBePurchased:N,costPerUnit:S,totalPurchaseCost:C,scrapWasteCost:r,bulkDiscountSavings:s,inventoryTurnoverRatio:F,daysInventoryOutstanding:F?365/F:void 0}}(e,i,o);m.push(t),t.scrapWasteCost&&(s||(s={q1:0,q2:0,q3:0,q4:0,yearly:0}),s.q1+=t.scrapWasteCost.q1,s.q2+=t.scrapWasteCost.q2,s.q3+=t.scrapWasteCost.q3,s.q4+=t.scrapWasteCost.q4,s.yearly+=t.scrapWasteCost.yearly),t.bulkDiscountSavings&&(l||(l={q1:0,q2:0,q3:0,q4:0,yearly:0}),l.q1+=t.bulkDiscountSavings.q1,l.q2+=t.bulkDiscountSavings.q2,l.q3+=t.bulkDiscountSavings.q3,l.q4+=t.bulkDiscountSavings.q4,l.yearly+=t.bulkDiscountSavings.yearly),t.inventoryTurnoverRatio&&t.inventoryTurnoverRatio<4&&q.push("".concat(e.name," (low turnover: ").concat(t.inventoryTurnoverRatio.toFixed(1),"x)")),t.daysInventoryOutstanding&&t.daysInventoryOutstanding>90&&q.push("".concat(e.name," (high inventory days: ").concat(t.daysInventoryOutstanding.toFixed(0),")"))});let x={q1:m.reduce((e,t)=>e+t.totalPurchaseCost.q1,0),q2:m.reduce((e,t)=>e+t.totalPurchaseCost.q2,0),q3:m.reduce((e,t)=>e+t.totalPurchaseCost.q3,0),q4:m.reduce((e,t)=>e+t.totalPurchaseCost.q4,0),yearly:0};x.yearly=x.q1+x.q2+x.q3+x.q4,void 0!==d&&void 0!==u&&(t=x,a=d,r=u,n={q1:t.q4*r+t.q1*a,q2:t.q1*r+t.q2*a,q3:t.q2*r+t.q3*a,q4:t.q3*r+t.q4*a,yearly:t.yearly});let p=function(e){let t=e.map(e=>e.inventoryTurnoverRatio).filter(e=>void 0!==e);if(0!==t.length)return t.reduce((e,t)=>e+t,0)/t.length}(m);return{materials:m,totalMaterialPurchaseCost:x,cashDisbursements:n,totalScrapWasteCost:s,totalBulkDiscountSavings:l,overallInventoryTurnover:p,criticalMaterials:q.length>0?q:void 0}}(t))),ew(a)},rP=(e,t,a)=>{let r=[...eD];r[e][t]=a,eB(r)},rF=()=>{if(!ex)return void alert("Please calculate Production Budget first (Schedule 2)");let e={q1:parseFloat(P)||0,q2:parseFloat(R)||0,q3:parseFloat(Q)||0,q4:parseFloat(E)||0,yearly:(parseFloat(P)||0)+(parseFloat(R)||0)+(parseFloat(Q)||0)+(parseFloat(E)||0)};if(null==ex?void 0:ex.rows){let t=ex.rows.find(e=>"Required Production"===e.label);t&&(e.q1=parseFloat(String(t.q1).replace(/,/g,""))||0,e.q2=parseFloat(String(t.q2).replace(/,/g,""))||0,e.q3=parseFloat(String(t.q3).replace(/,/g,""))||0,e.q4=parseFloat(String(t.q4).replace(/,/g,""))||0,e.yearly=parseFloat(String(t.yearly).replace(/,/g,""))||0)}let t={unitsToBeProduced:e,directLaborHoursPerUnit:eQ&&eE?parseFloat(eE):void 0,hourlyWageRate:eQ&&eI?parseFloat(eI):void 0,laborCategories:eQ?void 0:eD.map(e=>({...e,hoursPerUnit:"string"==typeof e.hoursPerUnit?parseFloat(e.hoursPerUnit)||0:e.hoursPerUnit,wageRatePerHour:"string"==typeof e.wageRatePerHour?parseFloat(e.wageRatePerHour)||0:e.wageRatePerHour})),wageInflationRate:eL?parseFloat(eL):void 0,overtimeThreshold:eM?parseFloat(eM):void 0,overtimeMultiplier:eW?parseFloat(eW):void 0,fringeBenefitRate:eG?parseFloat(eG):void 0,productivityEfficiencyRate:eJ?parseFloat(eJ):void 0,turnoverRate:eV?parseFloat(eV):void 0,trainingCostPerEmployee:e_?parseFloat(e_):void 0,averageHoursPerEmployee:eK?parseFloat(eK):void 0},a=function(e){let t=[];e.unitsToBeProduced?(e.unitsToBeProduced.q1<0||e.unitsToBeProduced.q2<0||e.unitsToBeProduced.q3<0||e.unitsToBeProduced.q4<0)&&t.push("Production units cannot be negative"):t.push("Units to be produced is required (from Schedule 2: Production Budget)");let a=void 0!==e.directLaborHoursPerUnit&&void 0!==e.hourlyWageRate,r=e.laborCategories&&e.laborCategories.length>0;return a||r||t.push("Either provide (directLaborHoursPerUnit + hourlyWageRate) OR laborCategories array"),a&&r&&t.push("WARNING: Both simple and multi-category inputs provided. Multi-category will be used."),a&&(e.directLaborHoursPerUnit<=0&&t.push("Direct labor hours per unit must be greater than 0"),e.hourlyWageRate<=0&&t.push("Hourly wage rate must be greater than 0")),r&&e.laborCategories.forEach((e,a)=>{e.name&&""!==e.name.trim()||t.push("Labor category ".concat(a+1,": Name is required")),e.hoursPerUnit<=0&&t.push('Labor category "'.concat(e.name,'": Hours per unit must be greater than 0')),e.wageRatePerHour<=0&&t.push('Labor category "'.concat(e.name,'": Wage rate must be greater than 0'))}),void 0!==e.wageInflationRate&&(e.wageInflationRate<-.5||e.wageInflationRate>.5)&&t.push("WARNING: Wage inflation rate seems unusually high (should be -0.5 to 0.5 per quarter)"),void 0!==e.overtimeMultiplier&&e.overtimeMultiplier<1&&t.push("Overtime multiplier must be >= 1 (e.g., 1.5 for time-and-a-half)"),void 0!==e.fringeBenefitRate&&(e.fringeBenefitRate<0||e.fringeBenefitRate>1)&&t.push("Fringe benefit rate must be between 0 and 1 (e.g., 0.25 for 25%)"),void 0!==e.productivityEfficiencyRate&&(e.productivityEfficiencyRate<=0||e.productivityEfficiencyRate>1)&&t.push("Productivity efficiency rate must be between 0 and 1 (e.g., 0.95 for 95%)"),void 0!==e.turnoverRate&&(e.turnoverRate<0||e.turnoverRate>1)&&t.push("Turnover rate must be between 0 and 1 (e.g., 0.15 for 15% annual turnover)"),t}(t);if(a.filter(e=>!e.startsWith("WARNING:")).length>0){e3(a),e2(null);return}e2(function(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=["Description","Q1","Q2","Q3","Q4","Yearly"];if(e.laborCategories&&e.laborCategories.length>0){let r=e.laborCategories.map(e=>{let r=[{label:"Hours Required - ".concat(e.name),q1:t(e.hoursRequired.q1),q2:t(e.hoursRequired.q2),q3:t(e.hoursRequired.q3),q4:t(e.hoursRequired.q4),yearly:t(e.hoursRequired.yearly)},{label:"Wage Rate per Hour - ".concat(e.name),q1:t(e.wageRate.q1),q2:t(e.wageRate.q2),q3:t(e.wageRate.q3),q4:t(e.wageRate.q4),yearly:t(e.wageRate.yearly)},{label:"Labor Cost - ".concat(e.name),q1:t(e.laborCost.q1),q2:t(e.laborCost.q2),q3:t(e.laborCost.q3),q4:t(e.laborCost.q4),yearly:t(e.laborCost.yearly)}];return{categoryName:e.name,headers:a,rows:r}}),s=[{label:"Units to be Produced",q1:t(e.productionUnits.q1),q2:t(e.productionUnits.q2),q3:t(e.productionUnits.q3),q4:t(e.productionUnits.q4),yearly:t(e.productionUnits.yearly)},{label:"Total Direct-Labor Hours",q1:t(e.totalLaborHoursRequired.q1),q2:t(e.totalLaborHoursRequired.q2),q3:t(e.totalLaborHoursRequired.q3),q4:t(e.totalLaborHoursRequired.q4),yearly:t(e.totalLaborHoursRequired.yearly)},{label:"Average Labor Rate per Hour",q1:t(e.averageLaborRate.q1),q2:t(e.averageLaborRate.q2),q3:t(e.averageLaborRate.q3),q4:t(e.averageLaborRate.q4),yearly:t(e.averageLaborRate.yearly)},{label:"Total Direct-Labor Cost",q1:t(e.totalLaborCost.q1),q2:t(e.totalLaborCost.q2),q3:t(e.totalLaborCost.q3),q4:t(e.totalLaborCost.q4),yearly:t(e.totalLaborCost.yearly)}];return e.fringeBenefitCost&&s.push({label:"Fringe Benefit Cost",q1:t(e.fringeBenefitCost.q1),q2:t(e.fringeBenefitCost.q2),q3:t(e.fringeBenefitCost.q3),q4:t(e.fringeBenefitCost.q4),yearly:t(e.fringeBenefitCost.yearly)}),e.totalCostIncludingBenefits&&s.push({label:"Total Cost (Including Benefits)",q1:t(e.totalCostIncludingBenefits.q1),q2:t(e.totalCostIncludingBenefits.q2),q3:t(e.totalCostIncludingBenefits.q3),q4:t(e.totalCostIncludingBenefits.q4),yearly:t(e.totalCostIncludingBenefits.yearly)}),{headers:a,categoryTables:r,summaryRows:s,laborCostPerUnit:e.laborCostPerUnit,averageEmployeesNeeded:e.averageEmployeesNeeded,turnoverCost:e.turnoverCost,trainingCost:e.trainingCost,productivityRate:e.productivityRate}}let r=[{label:"Units to be Produced",q1:t(e.productionUnits.q1),q2:t(e.productionUnits.q2),q3:t(e.productionUnits.q3),q4:t(e.productionUnits.q4),yearly:t(e.productionUnits.yearly)},{label:"Direct-Labor Hours Required",q1:t(e.totalLaborHoursRequired.q1),q2:t(e.totalLaborHoursRequired.q2),q3:t(e.totalLaborHoursRequired.q3),q4:t(e.totalLaborHoursRequired.q4),yearly:t(e.totalLaborHoursRequired.yearly)}];return e.regularHours&&e.overtimeHours&&(r.push({label:"  - Regular Hours",q1:t(e.regularHours.q1),q2:t(e.regularHours.q2),q3:t(e.regularHours.q3),q4:t(e.regularHours.q4),yearly:t(e.regularHours.yearly)}),r.push({label:"  - Overtime Hours",q1:t(e.overtimeHours.q1),q2:t(e.overtimeHours.q2),q3:t(e.overtimeHours.q3),q4:t(e.overtimeHours.q4),yearly:t(e.overtimeHours.yearly)})),r.push({label:"Direct-Labor Rate per Hour",q1:t(e.averageLaborRate.q1),q2:t(e.averageLaborRate.q2),q3:t(e.averageLaborRate.q3),q4:t(e.averageLaborRate.q4),yearly:t(e.averageLaborRate.yearly)}),r.push({label:"Total Direct-Labor Cost",q1:t(e.totalLaborCost.q1),q2:t(e.totalLaborCost.q2),q3:t(e.totalLaborCost.q3),q4:t(e.totalLaborCost.q4),yearly:t(e.totalLaborCost.yearly)}),e.overtimeCost&&r.push({label:"  - Overtime Premium",q1:t(e.overtimeCost.q1),q2:t(e.overtimeCost.q2),q3:t(e.overtimeCost.q3),q4:t(e.overtimeCost.q4),yearly:t(e.overtimeCost.yearly)}),e.fringeBenefitCost&&r.push({label:"Fringe Benefit Cost",q1:t(e.fringeBenefitCost.q1),q2:t(e.fringeBenefitCost.q2),q3:t(e.fringeBenefitCost.q3),q4:t(e.fringeBenefitCost.q4),yearly:t(e.fringeBenefitCost.yearly)}),e.totalCostIncludingBenefits&&r.push({label:"Total Labor Cost (Including Benefits)",q1:t(e.totalCostIncludingBenefits.q1),q2:t(e.totalCostIncludingBenefits.q2),q3:t(e.totalCostIncludingBenefits.q3),q4:t(e.totalCostIncludingBenefits.q4),yearly:t(e.totalCostIncludingBenefits.yearly)}),{headers:a,rows:r,laborCostPerUnit:e.laborCostPerUnit,averageEmployeesNeeded:e.averageEmployeesNeeded,turnoverCost:e.turnoverCost,trainingCost:e.trainingCost,productivityRate:e.productivityRate}}(function(e){let{unitsToBeProduced:t}=e;return e.laborCategories&&e.laborCategories.length>0?function(e){let t,a,{unitsToBeProduced:r,laborCategories:s}=e,l=[],n={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0};s.forEach(t=>{let a={q1:r.q1*t.hoursPerUnit,q2:r.q2*t.hoursPerUnit,q3:r.q3*t.hoursPerUnit,q4:r.q4*t.hoursPerUnit,yearly:r.yearly*t.hoursPerUnit},s={q1:t.wageRatePerHour,q2:t.wageRatePerHour*(1+(e.wageInflationRate||0)),q3:t.wageRatePerHour*Math.pow(1+(e.wageInflationRate||0),2),q4:t.wageRatePerHour*Math.pow(1+(e.wageInflationRate||0),3),yearly:0};s.yearly=(s.q1*a.q1+s.q2*a.q2+s.q3*a.q3+s.q4*a.q4)/a.yearly||0;let o={q1:a.q1*s.q1,q2:a.q2*s.q2,q3:a.q3*s.q3,q4:a.q4*s.q4,yearly:0};o.yearly=o.q1+o.q2+o.q3+o.q4,l.push({name:t.name,hoursRequired:a,wageRate:s,laborCost:o}),n.q1+=a.q1,n.q2+=a.q2,n.q3+=a.q3,n.q4+=a.q4,n.yearly+=a.yearly,i.q1+=o.q1,i.q2+=o.q2,i.q3+=o.q3,i.q4+=o.q4,i.yearly+=o.yearly});let o={q1:n.q1>0?i.q1/n.q1:0,q2:n.q2>0?i.q2/n.q2:0,q3:n.q3>0?i.q3/n.q3:0,q4:n.q4>0?i.q4/n.q4:0,yearly:n.yearly>0?i.yearly/n.yearly:0};e.fringeBenefitRate&&e.fringeBenefitRate>0&&((t={q1:i.q1*e.fringeBenefitRate,q2:i.q2*e.fringeBenefitRate,q3:i.q3*e.fringeBenefitRate,q4:i.q4*e.fringeBenefitRate,yearly:0}).yearly=t.q1+t.q2+t.q3+t.q4,(a={q1:i.q1+t.q1,q2:i.q2+t.q2,q3:i.q3+t.q3,q4:i.q4+t.q4,yearly:0}).yearly=a.q1+a.q2+a.q3+a.q4);let c={q1:r.q1>0?i.q1/r.q1:0,q2:r.q2>0?i.q2/r.q2:0,q3:r.q3>0?i.q3/r.q3:0,q4:r.q4>0?i.q4/r.q4:0,yearly:r.yearly>0?i.yearly/r.yearly:0};return{productionUnits:r,totalLaborHoursRequired:n,averageLaborRate:o,totalLaborCost:i,laborCategories:l,fringeBenefitCost:t,totalCostIncludingBenefits:a,laborCostPerUnit:c}}(e):function(e){let t,a,r,s,l,n,i,o,c,{unitsToBeProduced:d,directLaborHoursPerUnit:u,hourlyWageRate:m}=e,q={q1:d.q1*u,q2:d.q2*u,q3:d.q3*u,q4:d.q4*u,yearly:d.yearly*u};if(e.productivityEfficiencyRate&&e.productivityEfficiencyRate<1){let t=1/e.productivityEfficiencyRate;q.q1*=t,q.q2*=t,q.q3*=t,q.q4*=t,q.yearly*=t}let x={q1:m,q2:m*(1+(e.wageInflationRate||0)),q3:m*Math.pow(1+(e.wageInflationRate||0),2),q4:m*Math.pow(1+(e.wageInflationRate||0),3),yearly:0};if(x.yearly=(x.q1*q.q1+x.q2*q.q2+x.q3*q.q3+x.q4*q.q4)/q.yearly||0,e.overtimeThreshold&&e.overtimeThreshold>0){let s=e.overtimeThreshold,l=e.overtimeMultiplier||1.5;(t={q1:Math.min(q.q1,s),q2:Math.min(q.q2,s),q3:Math.min(q.q3,s),q4:Math.min(q.q4,s),yearly:0}).yearly=t.q1+t.q2+t.q3+t.q4,(a={q1:Math.max(0,q.q1-s),q2:Math.max(0,q.q2-s),q3:Math.max(0,q.q3-s),q4:Math.max(0,q.q4-s),yearly:0}).yearly=a.q1+a.q2+a.q3+a.q4,(r={q1:a.q1*x.q1*l,q2:a.q2*x.q2*l,q3:a.q3*x.q3*l,q4:a.q4*x.q4*l,yearly:0}).yearly=r.q1+r.q2+r.q3+r.q4}let p={q1:0,q2:0,q3:0,q4:0,yearly:0};if(t&&a&&r?(p.q1=t.q1*x.q1+r.q1,p.q2=t.q2*x.q2+r.q2,p.q3=t.q3*x.q3+r.q3,p.q4=t.q4*x.q4+r.q4):(p.q1=q.q1*x.q1,p.q2=q.q2*x.q2,p.q3=q.q3*x.q3,p.q4=q.q4*x.q4),p.yearly=p.q1+p.q2+p.q3+p.q4,e.fringeBenefitRate&&e.fringeBenefitRate>0&&((s={q1:p.q1*e.fringeBenefitRate,q2:p.q2*e.fringeBenefitRate,q3:p.q3*e.fringeBenefitRate,q4:p.q4*e.fringeBenefitRate,yearly:0}).yearly=s.q1+s.q2+s.q3+s.q4,(l={q1:p.q1+s.q1,q2:p.q2+s.q2,q3:p.q3+s.q3,q4:p.q4+s.q4,yearly:0}).yearly=l.q1+l.q2+l.q3+l.q4),e.averageHoursPerEmployee&&e.averageHoursPerEmployee>0&&(n={q1:q.q1/e.averageHoursPerEmployee,q2:q.q2/e.averageHoursPerEmployee,q3:q.q3/e.averageHoursPerEmployee,q4:q.q4/e.averageHoursPerEmployee,yearly:q.yearly/(4*e.averageHoursPerEmployee)},e.turnoverRate&&e.trainingCostPerEmployee)){let t=e.turnoverRate/4;(i={q1:n.q1*t*e.trainingCostPerEmployee,q2:n.q2*t*e.trainingCostPerEmployee,q3:n.q3*t*e.trainingCostPerEmployee,q4:n.q4*t*e.trainingCostPerEmployee,yearly:0}).yearly=i.q1+i.q2+i.q3+i.q4,o=i}let y={q1:d.q1>0?p.q1/d.q1:0,q2:d.q2>0?p.q2/d.q2:0,q3:d.q3>0?p.q3/d.q3:0,q4:d.q4>0?p.q4/d.q4:0,yearly:d.yearly>0?p.yearly/d.yearly:0};return e.productivityEfficiencyRate&&(c={q1:e.productivityEfficiencyRate,q2:e.productivityEfficiencyRate,q3:e.productivityEfficiencyRate,q4:e.productivityEfficiencyRate,yearly:e.productivityEfficiencyRate}),{productionUnits:d,totalLaborHoursRequired:q,averageLaborRate:x,totalLaborCost:p,regularHours:t,overtimeHours:a,overtimeCost:r,fringeBenefitCost:s,totalCostIncludingBenefits:l,averageEmployeesNeeded:n,turnoverCost:i,trainingCost:o,laborCostPerUnit:y,productivityRate:c}}(e)}(t))),e3(a)},rR=()=>{let e;if(!ex)return void alert("Please calculate Production Budget first (Schedule 2)");let t={q1:parseFloat(P)||0,q2:parseFloat(R)||0,q3:parseFloat(Q)||0,q4:parseFloat(E)||0,yearly:(parseFloat(P)||0)+(parseFloat(R)||0)+(parseFloat(Q)||0)+(parseFloat(E)||0)};if(null==ex?void 0:ex.rows){let e=ex.rows.find(e=>"Required Production"===e.label);e&&(t.q1=parseFloat(String(e.q1).replace(/,/g,""))||0,t.q2=parseFloat(String(e.q2).replace(/,/g,""))||0,t.q3=parseFloat(String(e.q3).replace(/,/g,""))||0,t.q4=parseFloat(String(e.q4).replace(/,/g,""))||0,t.yearly=parseFloat(String(e.yearly).replace(/,/g,""))||0)}(null==e0?void 0:e0.totalLaborHoursRequired)&&(e=e0.totalLaborHoursRequired);let a={unitsToBeProduced:t,directLaborHours:e,variableOverheadRatePerUnit:e6?parseFloat(e6):void 0,variableOverheadRatePerLaborHour:e7?parseFloat(e7):void 0,fixedOverheadPerQuarter:te?parseFloat(te):void 0,depreciationPerQuarter:ta?parseFloat(ta):void 0,allocationBase:ts,overheadCategories:"detailed"===e4?tn.map(e=>({...e,amount:"string"==typeof e.amount?parseFloat(e.amount)||0:e.amount})):void 0,useActivityBasedCosting:"abc"===e4,numberOfProductionRuns:"abc"===e4&&(td||tm||tx||ty)?{q1:parseFloat(td)||0,q2:parseFloat(tm)||0,q3:parseFloat(tx)||0,q4:parseFloat(ty)||0,yearly:(parseFloat(td)||0)+(parseFloat(tm)||0)+(parseFloat(tx)||0)+(parseFloat(ty)||0)}:void 0,costPerProductionRun:tb?parseFloat(tb):void 0,numberOfInspections:"abc"===e4&&(tv||tj||tS||tP)?{q1:parseFloat(tv)||0,q2:parseFloat(tj)||0,q3:parseFloat(tS)||0,q4:parseFloat(tP)||0,yearly:(parseFloat(tv)||0)+(parseFloat(tj)||0)+(parseFloat(tS)||0)+(parseFloat(tP)||0)}:void 0,costPerInspection:tR?parseFloat(tR):void 0,machineHours:"abc"===e4&&(tQ||tE||tI||tD)?{q1:parseFloat(tQ)||0,q2:parseFloat(tE)||0,q3:parseFloat(tI)||0,q4:parseFloat(tD)||0,yearly:(parseFloat(tQ)||0)+(parseFloat(tE)||0)+(parseFloat(tI)||0)+(parseFloat(tD)||0)}:void 0,costPerMachineHour:tL?parseFloat(tL):void 0,facilityRent:tM?parseFloat(tM):void 0,facilityInsurance:tW?parseFloat(tW):void 0,propertyTaxes:tG?parseFloat(tG):void 0,utilities:tJ?parseFloat(tJ):void 0,utilitiesIsVariable:tV,supervisorySalaries:t_?parseFloat(t_):void 0,supportStaffSalaries:tK?parseFloat(tK):void 0,indirectMaterialsPerUnit:t0?parseFloat(t0):void 0,shopSuppliesPerQuarter:t1?parseFloat(t1):void 0,plannedMaintenancePerQuarter:t4?parseFloat(t4):void 0,maintenancePerMachineHour:t6?parseFloat(t6):void 0,qualityControlPerUnit:t7?parseFloat(t7):void 0,qualityControlLabor:ae?parseFloat(ae):void 0,technologyCosts:aa?parseFloat(aa):void 0,warehouseCosts:as?parseFloat(as):void 0,environmentalComplianceCosts:an?parseFloat(an):void 0},r=function(e){let t=[];e.unitsToBeProduced?(e.unitsToBeProduced.q1<0||e.unitsToBeProduced.q2<0||e.unitsToBeProduced.q3<0||e.unitsToBeProduced.q4<0)&&t.push("Production units cannot be negative"):t.push("Units to be produced is required (from Schedule 2: Production Budget)");let a=void 0!==e.variableOverheadRatePerUnit||void 0!==e.variableOverheadRatePerLaborHour||void 0!==e.fixedOverheadPerQuarter,r=e.overheadCategories&&e.overheadCategories.length>0,s=e.useActivityBasedCosting;return a||r||s||t.push("Please provide either: (1) Simple overhead rates, (2) Detailed cost categories, or (3) Activity-based costing data"),a&&(void 0!==e.variableOverheadRatePerUnit&&e.variableOverheadRatePerUnit<0&&t.push("Variable overhead rate per unit cannot be negative"),void 0!==e.variableOverheadRatePerLaborHour&&e.variableOverheadRatePerLaborHour<0&&t.push("Variable overhead rate per labor hour cannot be negative"),void 0!==e.fixedOverheadPerQuarter&&e.fixedOverheadPerQuarter<0&&t.push("Fixed overhead per quarter cannot be negative"),void 0!==e.depreciationPerQuarter&&e.depreciationPerQuarter<0&&t.push("Depreciation per quarter cannot be negative"),void 0===e.variableOverheadRatePerLaborHour||e.directLaborHours||t.push("Direct labor hours are required when using overhead rate per labor hour (from Schedule 4)")),r&&e.overheadCategories.forEach((a,r)=>{a.name&&""!==a.name.trim()||t.push("Overhead category ".concat(r+1,": Name is required")),a.amount<0&&t.push('Overhead category "'.concat(a.name,'": Amount cannot be negative')),"variable"!==a.costType||a.costDriver||t.push('Overhead category "'.concat(a.name,'": Cost driver required for variable costs')),"labor-hours"!==a.costDriver||e.directLaborHours||t.push('Overhead category "'.concat(a.name,'": Direct labor hours required for this cost driver')),"machine-hours"!==a.costDriver||e.machineHours||t.push('Overhead category "'.concat(a.name,'": Machine hours required for this cost driver'))}),s&&(e.numberOfProductionRuns&&void 0===e.costPerProductionRun&&t.push("Cost per production run is required when production runs are specified"),e.numberOfInspections&&void 0===e.costPerInspection&&t.push("Cost per inspection is required when inspections are specified"),e.machineHours&&void 0===e.costPerMachineHour&&t.push("Cost per machine hour is required when machine hours are specified")),t}(a);if(r.filter(e=>!e.startsWith("WARNING:")).length>0){au(r),ac(null);return}ac(function(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[{label:"Units to be Produced",q1:t(e.productionUnits.q1),q2:t(e.productionUnits.q2),q3:t(e.productionUnits.q3),q4:t(e.productionUnits.q4),yearly:t(e.productionUnits.yearly)}];return e.directLaborHours&&a.push({label:"Direct Labor Hours",q1:t(e.directLaborHours.q1),q2:t(e.directLaborHours.q2),q3:t(e.directLaborHours.q3),q4:t(e.directLaborHours.q4),yearly:t(e.directLaborHours.yearly)}),a.push({label:"Variable Manufacturing Overhead",q1:t(e.variableOverhead.q1),q2:t(e.variableOverhead.q2),q3:t(e.variableOverhead.q3),q4:t(e.variableOverhead.q4),yearly:t(e.variableOverhead.yearly)}),a.push({label:"Fixed Manufacturing Overhead",q1:t(e.fixedOverhead.q1),q2:t(e.fixedOverhead.q2),q3:t(e.fixedOverhead.q3),q4:t(e.fixedOverhead.q4),yearly:t(e.fixedOverhead.yearly)}),a.push({label:"Total Manufacturing Overhead",q1:t(e.totalOverhead.q1),q2:t(e.totalOverhead.q2),q3:t(e.totalOverhead.q3),q4:t(e.totalOverhead.q4),yearly:t(e.totalOverhead.yearly)}),a.push({label:"Less: Depreciation",q1:t(e.depreciation.q1),q2:t(e.depreciation.q2),q3:t(e.depreciation.q3),q4:t(e.depreciation.q4),yearly:t(e.depreciation.yearly)}),a.push({label:"Cash Disbursements for Overhead",q1:t(e.cashDisbursements.q1),q2:t(e.cashDisbursements.q2),q3:t(e.cashDisbursements.q3),q4:t(e.cashDisbursements.q4),yearly:t(e.cashDisbursements.yearly)}),{headers:["Description","Q1","Q2","Q3","Q4","Yearly"],rows:a,overheadCategories:e.overheadCategories,abcBreakdown:e.unitLevelCosts?{unitLevel:e.unitLevelCosts,batchLevel:e.batchLevelCosts,productLevel:e.productLevelCosts,facilityLevel:e.facilityLevelCosts}:void 0,overheadPerUnit:e.overheadPerUnit,predeterminedRate:e.predeterminedOverheadRate}}(function(e){let{unitsToBeProduced:t,directLaborHours:a}=e,r=e.overheadCategories&&e.overheadCategories.length>0,s=e.useActivityBasedCosting;return r?function(e){let{unitsToBeProduced:t,directLaborHours:a,machineHours:r,overheadCategories:s}=e,l=[],n={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0},o={q1:0,q2:0,q3:0,q4:0,yearly:0};s.forEach(e=>{let s={q1:0,q2:0,q3:0,q4:0,yearly:0};if("variable"===e.costType){switch(e.costDriver){case"units":s.q1=t.q1*e.amount,s.q2=t.q2*e.amount,s.q3=t.q3*e.amount,s.q4=t.q4*e.amount;break;case"labor-hours":a&&(s.q1=a.q1*e.amount,s.q2=a.q2*e.amount,s.q3=a.q3*e.amount,s.q4=a.q4*e.amount);break;case"machine-hours":r&&(s.q1=r.q1*e.amount,s.q2=r.q2*e.amount,s.q3=r.q3*e.amount,s.q4=r.q4*e.amount)}s.yearly=s.q1+s.q2+s.q3+s.q4,n.q1+=s.q1,n.q2+=s.q2,n.q3+=s.q3,n.q4+=s.q4,n.yearly+=s.yearly}else s.q1=e.amount,s.q2=e.amount,s.q3=e.amount,s.q4=e.amount,s.yearly=4*e.amount,i.q1+=s.q1,i.q2+=s.q2,i.q3+=s.q3,i.q4+=s.q4,i.yearly+=s.yearly;e.isNonCash&&(o.q1+=s.q1,o.q2+=s.q2,o.q3+=s.q3,o.q4+=s.q4,o.yearly+=s.yearly),l.push({name:e.name,costType:e.costType,cost:s,costDriver:e.costDriver,isNonCash:e.isNonCash})});let c={q1:n.q1+i.q1,q2:n.q2+i.q2,q3:n.q3+i.q3,q4:n.q4+i.q4,yearly:n.yearly+i.yearly},d={q1:c.q1-o.q1,q2:c.q2-o.q2,q3:c.q3-o.q3,q4:c.q4-o.q4,yearly:c.yearly-o.yearly},u={q1:t.q1>0?c.q1/t.q1:0,q2:t.q2>0?c.q2/t.q2:0,q3:t.q3>0?c.q3/t.q3:0,q4:t.q4>0?c.q4/t.q4:0,yearly:t.yearly>0?c.yearly/t.yearly:0};return{productionUnits:t,directLaborHours:a,variableOverhead:n,fixedOverhead:i,totalOverhead:c,depreciation:o,cashDisbursements:d,overheadCategories:l,overheadPerUnit:u}}(e):s?function(e){let{unitsToBeProduced:t,directLaborHours:a,numberOfProductionRuns:r,numberOfInspections:s,machineHours:l}=e,n={q1:0,q2:0,q3:0,q4:0,yearly:0};e.indirectMaterialsPerUnit&&(n.q1=t.q1*e.indirectMaterialsPerUnit,n.q2=t.q2*e.indirectMaterialsPerUnit,n.q3=t.q3*e.indirectMaterialsPerUnit,n.q4=t.q4*e.indirectMaterialsPerUnit),e.qualityControlPerUnit&&(n.q1+=t.q1*e.qualityControlPerUnit,n.q2+=t.q2*e.qualityControlPerUnit,n.q3+=t.q3*e.qualityControlPerUnit,n.q4+=t.q4*e.qualityControlPerUnit),l&&e.costPerMachineHour&&(n.q1+=l.q1*e.costPerMachineHour,n.q2+=l.q2*e.costPerMachineHour,n.q3+=l.q3*e.costPerMachineHour,n.q4+=l.q4*e.costPerMachineHour),n.yearly=n.q1+n.q2+n.q3+n.q4;let i={q1:0,q2:0,q3:0,q4:0,yearly:0};r&&e.costPerProductionRun&&(i.q1=r.q1*e.costPerProductionRun,i.q2=r.q2*e.costPerProductionRun,i.q3=r.q3*e.costPerProductionRun,i.q4=r.q4*e.costPerProductionRun,i.yearly=i.q1+i.q2+i.q3+i.q4);let o={q1:0,q2:0,q3:0,q4:0,yearly:0};s&&e.costPerInspection&&(o.q1=s.q1*e.costPerInspection,o.q2=s.q2*e.costPerInspection,o.q3=s.q3*e.costPerInspection,o.q4=s.q4*e.costPerInspection),e.qualityControlLabor&&(o.q1+=e.qualityControlLabor,o.q2+=e.qualityControlLabor,o.q3+=e.qualityControlLabor,o.q4+=e.qualityControlLabor),o.yearly=o.q1+o.q2+o.q3+o.q4;let c={q1:0,q2:0,q3:0,q4:0,yearly:0},d=[e.facilityRent||0,e.facilityInsurance||0,e.propertyTaxes||0,e.utilities&&!e.utilitiesIsVariable?e.utilities:0,e.supervisorySalaries||0,e.supportStaffSalaries||0,e.shopSuppliesPerQuarter||0,e.plannedMaintenancePerQuarter||0,e.technologyCosts||0,e.warehouseCosts||0,e.environmentalComplianceCosts||0,e.depreciationPerQuarter||0].reduce((e,t)=>e+t,0);c={q1:d,q2:d,q3:d,q4:d,yearly:4*d};let u={q1:n.q1+i.q1+o.q1+c.q1,q2:n.q2+i.q2+o.q2+c.q2,q3:n.q3+i.q3+o.q3+c.q3,q4:n.q4+i.q4+o.q4+c.q4,yearly:n.yearly+i.yearly+o.yearly+c.yearly},m={q1:n.q1+i.q1,q2:n.q2+i.q2,q3:n.q3+i.q3,q4:n.q4+i.q4,yearly:n.yearly+i.yearly},q={q1:o.q1+c.q1,q2:o.q2+c.q2,q3:o.q3+c.q3,q4:o.q4+c.q4,yearly:o.yearly+c.yearly},x=e.depreciationPerQuarter||0,p={q1:x,q2:x,q3:x,q4:x,yearly:4*x},y={q1:u.q1-p.q1,q2:u.q2-p.q2,q3:u.q3-p.q3,q4:u.q4-p.q4,yearly:u.yearly-p.yearly},h={q1:t.q1>0?u.q1/t.q1:0,q2:t.q2>0?u.q2/t.q2:0,q3:t.q3>0?u.q3/t.q3:0,q4:t.q4>0?u.q4/t.q4:0,yearly:t.yearly>0?u.yearly/t.yearly:0};return{productionUnits:t,directLaborHours:a,variableOverhead:m,fixedOverhead:q,totalOverhead:u,depreciation:p,cashDisbursements:y,unitLevelCosts:n,batchLevelCosts:i,productLevelCosts:o,facilityLevelCosts:c,overheadPerUnit:h}}(e):function(e){let t,{unitsToBeProduced:a,directLaborHours:r}=e,s=e.variableOverheadRatePerUnit||0,l=e.variableOverheadRatePerLaborHour||0,n=e.fixedOverheadPerQuarter||0,i=e.depreciationPerQuarter||0,o={q1:0,q2:0,q3:0,q4:0,yearly:0};s>0&&(o.q1+=a.q1*s,o.q2+=a.q2*s,o.q3+=a.q3*s,o.q4+=a.q4*s),l>0&&r&&(o.q1+=r.q1*l,o.q2+=r.q2*l,o.q3+=r.q3*l,o.q4+=r.q4*l),o.yearly=o.q1+o.q2+o.q3+o.q4;let c={q1:n,q2:n,q3:n,q4:n,yearly:4*n},d={q1:i,q2:i,q3:i,q4:i,yearly:4*i},u={q1:o.q1+c.q1,q2:o.q2+c.q2,q3:o.q3+c.q3,q4:o.q4+c.q4,yearly:o.yearly+c.yearly},m={q1:u.q1-d.q1,q2:u.q2-d.q2,q3:u.q3-d.q3,q4:u.q4-d.q4,yearly:u.yearly-d.yearly},q={q1:a.q1>0?u.q1/a.q1:0,q2:a.q2>0?u.q2/a.q2:0,q3:a.q3>0?u.q3/a.q3:0,q4:a.q4>0?u.q4/a.q4:0,yearly:a.yearly>0?u.yearly/a.yearly:0},x=e.allocationBase||"units";return"units"===x?t=a.yearly>0?u.yearly/a.yearly:0:"labor-hours"===x&&r&&(t=r.yearly>0?u.yearly/r.yearly:0),{productionUnits:a,directLaborHours:r,variableOverhead:o,fixedOverhead:c,totalOverhead:u,depreciation:d,cashDisbursements:m,overheadPerUnit:q,predeterminedOverheadRate:t}}(e)}(a))),au(r)},rw=()=>{var e,t,a,r,s,l,n,i,o,c;if(!J)return void alert("Please calculate Sales Budget first (Schedule 1)");let d={salesRevenue:{q1:(null==(e=J.totalRevenue)?void 0:e.q1)||0,q2:(null==(t=J.totalRevenue)?void 0:t.q2)||0,q3:(null==(a=J.totalRevenue)?void 0:a.q3)||0,q4:(null==(r=J.totalRevenue)?void 0:r.q4)||0,yearly:(null==(s=J.totalRevenue)?void 0:s.yearly)||0},salesUnits:{q1:(null==(l=J.unitsSold)?void 0:l.q1)||0,q2:(null==(n=J.unitsSold)?void 0:n.q2)||0,q3:(null==(i=J.unitsSold)?void 0:i.q3)||0,q4:(null==(o=J.unitsSold)?void 0:o.q4)||0,yearly:(null==(c=J.unitsSold)?void 0:c.yearly)||0},useSimpleApproach:"simple"===am,variableSellingExpenseRate:ay?parseFloat(ay):void 0,variableAdminExpenseRate:ab?parseFloat(ab):void 0,fixedSellingExpensePerQuarter:av?parseFloat(av):void 0,fixedAdminExpensePerQuarter:aj?parseFloat(aj):void 0,commissionRate:aS?parseFloat(aS):void 0,commissionPerUnit:aP?parseFloat(aP):void 0,distributionCostPerUnit:aR?parseFloat(aR):void 0,distributionFixedCostPerQuarter:aQ?parseFloat(aQ):void 0,customerServiceSalaries:aE?parseFloat(aE):void 0,warrantyExpensePerUnit:aI?parseFloat(aI):void 0,advertisingBudgetPerQuarter:aD?parseFloat(aD):void 0,brandDevelopmentPerQuarter:aL?parseFloat(aL):void 0,marketingCampaignsPerQuarter:aM?parseFloat(aM):void 0,executiveSalaries:aW?parseFloat(aW):void 0,financeSalaries:aG?parseFloat(aG):void 0,hrSalaries:aJ?parseFloat(aJ):void 0,itSalaries:aV?parseFloat(aV):void 0,officeRentPerQuarter:a_?parseFloat(a_):void 0,utilitiesPerQuarter:aK?parseFloat(aK):void 0,softwareLicensesPerQuarter:a0?parseFloat(a0):void 0,telecommunicationsPerQuarter:a1?parseFloat(a1):void 0,officeSuppliesPerQuarter:a4?parseFloat(a4):void 0,legalFeesPerQuarter:a6?parseFloat(a6):void 0,badDebtRate:a7?parseFloat(a7):void 0,depreciationOfficeEquipment:re?parseFloat(re):void 0},u=function(e){let t=[],a=e.useSimpleApproach&&(void 0!==e.variableSellingExpenseRate||void 0!==e.variableAdminExpenseRate||void 0!==e.fixedSellingExpensePerQuarter||void 0!==e.fixedAdminExpensePerQuarter),r=e.salesPersonnelCategories||e.distributionChannels||e.departmentBudgets||void 0!==e.commissionRate||void 0!==e.advertisingBudgetPerQuarter||void 0!==e.executiveSalaries;return a||r||t.push("Either provide simple approach rates OR detailed expense inputs"),!r||a||e.salesRevenue||e.salesUnits||t.push("Sales revenue or sales units required for detailed SG&A calculations (from Schedule 1)"),e.salesPersonnelCategories&&e.salesPersonnelCategories.forEach((e,a)=>{e.name&&""!==e.name.trim()||t.push("Sales personnel category ".concat(a+1,": Name is required")),e.numberOfPersonnel<0&&t.push('Sales personnel category "'.concat(e.name,'": Number of personnel cannot be negative')),e.baseSalaryPerPerson<0&&t.push('Sales personnel category "'.concat(e.name,'": Salary cannot be negative'))}),e.distributionChannels&&e.distributionChannels.forEach((e,a)=>{e.name&&""!==e.name.trim()||t.push("Distribution channel ".concat(a+1,": Name is required"))}),!e.badDebtRate&&e.salesRevenue&&t.push("WARNING: Consider adding bad debt rate for uncollectible accounts"),!e.customerAcquisitionCostPerCustomer&&e.newCustomersPerQuarter&&t.push("WARNING: Customer acquisition cost provided but no cost per customer specified"),t}(d);rr(function(e){let t=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=[];return a.push({label:"SELLING EXPENSES",q1:"",q2:"",q3:"",q4:"",yearly:""}),e.salesCommissions&&e.salesCommissions.yearly>0&&a.push({label:"Sales Commissions",q1:t(e.salesCommissions.q1),q2:t(e.salesCommissions.q2),q3:t(e.salesCommissions.q3),q4:t(e.salesCommissions.q4),yearly:t(e.salesCommissions.yearly)}),e.salesSalariesAndBenefits&&e.salesSalariesAndBenefits.yearly>0&&a.push({label:"Sales Salaries & Benefits",q1:t(e.salesSalariesAndBenefits.q1),q2:t(e.salesSalariesAndBenefits.q2),q3:t(e.salesSalariesAndBenefits.q3),q4:t(e.salesSalariesAndBenefits.q4),yearly:t(e.salesSalariesAndBenefits.yearly)}),e.totalDistributionCosts&&e.totalDistributionCosts.yearly>0&&a.push({label:"Distribution Costs",q1:t(e.totalDistributionCosts.q1),q2:t(e.totalDistributionCosts.q2),q3:t(e.totalDistributionCosts.q3),q4:t(e.totalDistributionCosts.q4),yearly:t(e.totalDistributionCosts.yearly)}),e.customerServiceCosts&&e.customerServiceCosts.yearly>0&&a.push({label:"Customer Service",q1:t(e.customerServiceCosts.q1),q2:t(e.customerServiceCosts.q2),q3:t(e.customerServiceCosts.q3),q4:t(e.customerServiceCosts.q4),yearly:t(e.customerServiceCosts.yearly)}),e.totalSellingExpenses&&a.push({label:"Total Selling Expenses",q1:t(e.totalSellingExpenses.q1),q2:t(e.totalSellingExpenses.q2),q3:t(e.totalSellingExpenses.q3),q4:t(e.totalSellingExpenses.q4),yearly:t(e.totalSellingExpenses.yearly)}),e.totalMarketingExpenses&&e.totalMarketingExpenses.yearly>0&&(a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"MARKETING EXPENSES",q1:"",q2:"",q3:"",q4:"",yearly:""}),e.advertisingCosts&&e.advertisingCosts.yearly>0&&a.push({label:"Advertising",q1:t(e.advertisingCosts.q1),q2:t(e.advertisingCosts.q2),q3:t(e.advertisingCosts.q3),q4:t(e.advertisingCosts.q4),yearly:t(e.advertisingCosts.yearly)}),e.brandDevelopmentCosts&&e.brandDevelopmentCosts.yearly>0&&a.push({label:"Brand Development",q1:t(e.brandDevelopmentCosts.q1),q2:t(e.brandDevelopmentCosts.q2),q3:t(e.brandDevelopmentCosts.q3),q4:t(e.brandDevelopmentCosts.q4),yearly:t(e.brandDevelopmentCosts.yearly)}),a.push({label:"Total Marketing Expenses",q1:t(e.totalMarketingExpenses.q1),q2:t(e.totalMarketingExpenses.q2),q3:t(e.totalMarketingExpenses.q3),q4:t(e.totalMarketingExpenses.q4),yearly:t(e.totalMarketingExpenses.yearly)})),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"ADMINISTRATIVE EXPENSES",q1:"",q2:"",q3:"",q4:"",yearly:""}),e.totalAdministrativeSalaries&&e.totalAdministrativeSalaries.yearly>0&&a.push({label:"Administrative Salaries",q1:t(e.totalAdministrativeSalaries.q1),q2:t(e.totalAdministrativeSalaries.q2),q3:t(e.totalAdministrativeSalaries.q3),q4:t(e.totalAdministrativeSalaries.q4),yearly:t(e.totalAdministrativeSalaries.yearly)}),e.occupancyCosts&&e.occupancyCosts.yearly>0&&a.push({label:"Occupancy Costs",q1:t(e.occupancyCosts.q1),q2:t(e.occupancyCosts.q2),q3:t(e.occupancyCosts.q3),q4:t(e.occupancyCosts.q4),yearly:t(e.occupancyCosts.yearly)}),e.technologyCosts&&e.technologyCosts.yearly>0&&a.push({label:"Technology Costs",q1:t(e.technologyCosts.q1),q2:t(e.technologyCosts.q2),q3:t(e.technologyCosts.q3),q4:t(e.technologyCosts.q4),yearly:t(e.technologyCosts.yearly)}),e.professionalServicesCosts&&e.professionalServicesCosts.yearly>0&&a.push({label:"Professional Services",q1:t(e.professionalServicesCosts.q1),q2:t(e.professionalServicesCosts.q2),q3:t(e.professionalServicesCosts.q3),q4:t(e.professionalServicesCosts.q4),yearly:t(e.professionalServicesCosts.yearly)}),e.badDebtExpense&&e.badDebtExpense.yearly>0&&a.push({label:"Bad Debt Expense",q1:t(e.badDebtExpense.q1),q2:t(e.badDebtExpense.q2),q3:t(e.badDebtExpense.q3),q4:t(e.badDebtExpense.q4),yearly:t(e.badDebtExpense.yearly)}),e.depreciationExpense&&e.depreciationExpense.yearly>0&&a.push({label:"Depreciation Expense",q1:t(e.depreciationExpense.q1),q2:t(e.depreciationExpense.q2),q3:t(e.depreciationExpense.q3),q4:t(e.depreciationExpense.q4),yearly:t(e.depreciationExpense.yearly)}),e.totalAdministrativeExpenses&&a.push({label:"Total Administrative Expenses",q1:t(e.totalAdministrativeExpenses.q1),q2:t(e.totalAdministrativeExpenses.q2),q3:t(e.totalAdministrativeExpenses.q3),q4:t(e.totalAdministrativeExpenses.q4),yearly:t(e.totalAdministrativeExpenses.yearly)}),a.push({label:"",q1:"",q2:"",q3:"",q4:"",yearly:""}),a.push({label:"TOTAL SG&A EXPENSES",q1:t(e.totalSGAExpenses.q1),q2:t(e.totalSGAExpenses.q2),q3:t(e.totalSGAExpenses.q3),q4:t(e.totalSGAExpenses.q4),yearly:t(e.totalSGAExpenses.yearly)}),e.cashDisbursementsForSGA&&a.push({label:"Cash Disbursements for SG&A",q1:t(e.cashDisbursementsForSGA.q1),q2:t(e.cashDisbursementsForSGA.q2),q3:t(e.cashDisbursementsForSGA.q3),q4:t(e.cashDisbursementsForSGA.q4),yearly:t(e.cashDisbursementsForSGA.yearly)}),{headers:["Category","Q1","Q2","Q3","Q4","Yearly"],rows:a,sgaAsPercentOfSales:e.sgaAsPercentOfSales,variableSGAPerUnit:e.variableSGAPerUnit,totalSGAPerUnit:e.totalSGAPerUnit,marketingAsPercentOfSales:e.marketingAsPercentOfSales}}(d.useSimpleApproach?function(e){let t=e.salesRevenue||{q1:0,q2:0,q3:0,q4:0,yearly:0},a=e.salesUnits||{q1:0,q2:0,q3:0,q4:0,yearly:0},r=e.variableSellingExpenseRate||0,s=e.variableAdminExpenseRate||0,l=e.fixedSellingExpensePerQuarter||0,n=e.fixedAdminExpensePerQuarter||0,i={q1:t.q1*(r+s),q2:t.q2*(r+s),q3:t.q3*(r+s),q4:t.q4*(r+s),yearly:0};i.yearly=i.q1+i.q2+i.q3+i.q4;let o={q1:l+n,q2:l+n,q3:l+n,q4:l+n,yearly:(l+n)*4},c={q1:i.q1+o.q1,q2:i.q2+o.q2,q3:i.q3+o.q3,q4:i.q4+o.q4,yearly:i.yearly+o.yearly};return{salesRevenue:t,salesUnits:a,totalVariableExpenses:i,totalFixedExpenses:o,totalSGAExpenses:c}}(d):function(e){let t,a=e.salesRevenue||{q1:0,q2:0,q3:0,q4:0,yearly:0},r=e.salesUnits||{q1:0,q2:0,q3:0,q4:0,yearly:0},s=[],l={q1:0,q2:0,q3:0,q4:0,yearly:0},n={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0};e.salesPersonnelCategories&&e.salesPersonnelCategories.length>0?(e.salesPersonnelCategories.forEach(e=>{let t={q1:e.numberOfPersonnel*e.baseSalaryPerPerson,q2:e.numberOfPersonnel*e.baseSalaryPerPerson,q3:e.numberOfPersonnel*e.baseSalaryPerPerson,q4:e.numberOfPersonnel*e.baseSalaryPerPerson,yearly:e.numberOfPersonnel*e.baseSalaryPerPerson*4},o={q1:t.q1*(e.benefitRate||0),q2:t.q2*(e.benefitRate||0),q3:t.q3*(e.benefitRate||0),q4:t.q4*(e.benefitRate||0),yearly:0};o.yearly=o.q1+o.q2+o.q3+o.q4;let c={q1:0,q2:0,q3:0,q4:0,yearly:0};e.commissionRate&&e.commissionRate>0&&("revenue"===e.commissionType?(c.q1=a.q1*e.commissionRate,c.q2=a.q2*e.commissionRate,c.q3=a.q3*e.commissionRate,c.q4=a.q4*e.commissionRate):(c.q1=r.q1*e.commissionRate,c.q2=r.q2*e.commissionRate,c.q3=r.q3*e.commissionRate,c.q4=r.q4*e.commissionRate),c.yearly=c.q1+c.q2+c.q3+c.q4);let d={q1:t.q1+o.q1+c.q1,q2:t.q2+o.q2+c.q2,q3:t.q3+o.q3+c.q3,q4:t.q4+o.q4+c.q4,yearly:0};d.yearly=d.q1+d.q2+d.q3+d.q4,s.push({name:e.name,numberOfPersonnel:e.numberOfPersonnel,baseSalaries:t,benefits:o,commissions:c,totalCost:d}),l.q1+=d.q1,l.q2+=d.q2,l.q3+=d.q3,l.q4+=d.q4,n.q1+=c.q1,n.q2+=c.q2,n.q3+=c.q3,n.q4+=c.q4,i.q1+=t.q1+o.q1,i.q2+=t.q2+o.q2,i.q3+=t.q3+o.q3,i.q4+=t.q4+o.q4}),l.yearly=l.q1+l.q2+l.q3+l.q4,n.yearly=n.q1+n.q2+n.q3+n.q4,i.yearly=i.q1+i.q2+i.q3+i.q4):e.commissionRate?((n={q1:a.q1*e.commissionRate,q2:a.q2*e.commissionRate,q3:a.q3*e.commissionRate,q4:a.q4*e.commissionRate,yearly:0}).yearly=n.q1+n.q2+n.q3+n.q4,l={...n}):e.commissionPerUnit&&((n={q1:r.q1*e.commissionPerUnit,q2:r.q2*e.commissionPerUnit,q3:r.q3*e.commissionPerUnit,q4:r.q4*e.commissionPerUnit,yearly:0}).yearly=n.q1+n.q2+n.q3+n.q4,l={...n});let o=[],c={q1:0,q2:0,q3:0,q4:0,yearly:0},d={q1:0,q2:0,q3:0,q4:0,yearly:0};e.distributionChannels&&e.distributionChannels.length>0?(e.distributionChannels.forEach(e=>{let t={q1:r.q1*(e.variableCostPerUnit||0),q2:r.q2*(e.variableCostPerUnit||0),q3:r.q3*(e.variableCostPerUnit||0),q4:r.q4*(e.variableCostPerUnit||0),yearly:0};t.yearly=t.q1+t.q2+t.q3+t.q4;let a={q1:e.fixedCostPerQuarter||0,q2:e.fixedCostPerQuarter||0,q3:e.fixedCostPerQuarter||0,q4:e.fixedCostPerQuarter||0,yearly:4*(e.fixedCostPerQuarter||0)},s={q1:t.q1+a.q1,q2:t.q2+a.q2,q3:t.q3+a.q3,q4:t.q4+a.q4,yearly:0};s.yearly=s.q1+s.q2+s.q3+s.q4,o.push({name:e.name,variableCosts:t,fixedCosts:a,totalCost:s}),c.q1+=t.q1,c.q2+=t.q2,c.q3+=t.q3,c.q4+=t.q4,d.q1+=a.q1,d.q2+=a.q2,d.q3+=a.q3,d.q4+=a.q4}),c.yearly=c.q1+c.q2+c.q3+c.q4,d.yearly=d.q1+d.q2+d.q3+d.q4):(e.distributionCostPerUnit&&((c={q1:r.q1*e.distributionCostPerUnit,q2:r.q2*e.distributionCostPerUnit,q3:r.q3*e.distributionCostPerUnit,q4:r.q4*e.distributionCostPerUnit,yearly:0}).yearly=c.q1+c.q2+c.q3+c.q4),e.distributionFixedCostPerQuarter&&(d={q1:e.distributionFixedCostPerQuarter,q2:e.distributionFixedCostPerQuarter,q3:e.distributionFixedCostPerQuarter,q4:e.distributionFixedCostPerQuarter,yearly:4*e.distributionFixedCostPerQuarter}));let u={q1:c.q1+d.q1,q2:c.q2+d.q2,q3:c.q3+d.q3,q4:c.q4+d.q4,yearly:c.yearly+d.yearly},m={q1:(e.customerServiceSalaries||0)+r.q1*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q2:(e.customerServiceSalaries||0)+r.q2*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q3:(e.customerServiceSalaries||0)+r.q3*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q4:(e.customerServiceSalaries||0)+r.q4*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),yearly:0};m.yearly=m.q1+m.q2+m.q3+m.q4;let q={q1:0,q2:0,q3:0,q4:0,yearly:0};e.customerAcquisitionCostPerCustomer&&e.newCustomersPerQuarter&&((q={q1:e.newCustomersPerQuarter.q1*e.customerAcquisitionCostPerCustomer,q2:e.newCustomersPerQuarter.q2*e.customerAcquisitionCostPerCustomer,q3:e.newCustomersPerQuarter.q3*e.customerAcquisitionCostPerCustomer,q4:e.newCustomersPerQuarter.q4*e.customerAcquisitionCostPerCustomer,yearly:0}).yearly=q.q1+q.q2+q.q3+q.q4);let x={q1:n.q1+c.q1+r.q1*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q2:n.q2+c.q2+r.q2*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q3:n.q3+c.q3+r.q3*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),q4:n.q4+c.q4+r.q4*((e.warrantyExpensePerUnit||0)+(e.returnProcessingPerUnit||0)),yearly:0};x.yearly=x.q1+x.q2+x.q3+x.q4;let p={q1:i.q1+d.q1+(e.customerServiceSalaries||0)+q.q1,q2:i.q2+d.q2+(e.customerServiceSalaries||0)+q.q2,q3:i.q3+d.q3+(e.customerServiceSalaries||0)+q.q3,q4:i.q4+d.q4+(e.customerServiceSalaries||0)+q.q4,yearly:0};p.yearly=p.q1+p.q2+p.q3+p.q4;let y={q1:x.q1+p.q1,q2:x.q2+p.q2,q3:x.q3+p.q3,q4:x.q4+p.q4,yearly:x.yearly+p.yearly},h={q1:e.advertisingBudgetPerQuarter||0,q2:e.advertisingBudgetPerQuarter||0,q3:e.advertisingBudgetPerQuarter||0,q4:e.advertisingBudgetPerQuarter||0,yearly:4*(e.advertisingBudgetPerQuarter||0)},b={q1:e.brandDevelopmentPerQuarter||0,q2:e.brandDevelopmentPerQuarter||0,q3:e.brandDevelopmentPerQuarter||0,q4:e.brandDevelopmentPerQuarter||0,yearly:4*(e.brandDevelopmentPerQuarter||0)},g={q1:e.marketingCampaignsPerQuarter||0,q2:e.marketingCampaignsPerQuarter||0,q3:e.marketingCampaignsPerQuarter||0,q4:e.marketingCampaignsPerQuarter||0,yearly:4*(e.marketingCampaignsPerQuarter||0)},v={q1:e.marketResearchPerQuarter||0,q2:e.marketResearchPerQuarter||0,q3:e.marketResearchPerQuarter||0,q4:e.marketResearchPerQuarter||0,yearly:4*(e.marketResearchPerQuarter||0)},f={q1:e.tradeshowsEventsPerQuarter||0,q2:e.tradeshowsEventsPerQuarter||0,q3:e.tradeshowsEventsPerQuarter||0,q4:e.tradeshowsEventsPerQuarter||0,yearly:4*(e.tradeshowsEventsPerQuarter||0)},j={q1:e.contentCreationPerQuarter||0,q2:e.contentCreationPerQuarter||0,q3:e.contentCreationPerQuarter||0,q4:e.contentCreationPerQuarter||0,yearly:4*(e.contentCreationPerQuarter||0)},N={q1:h.q1+b.q1+g.q1+v.q1+f.q1+j.q1,q2:h.q2+b.q2+g.q2+v.q2+f.q2+j.q2,q3:h.q3+b.q3+g.q3+v.q3+f.q3+j.q3,q4:h.q4+b.q4+g.q4+v.q4+f.q4+j.q4,yearly:0};N.yearly=N.q1+N.q2+N.q3+N.q4;let S={q1:e.executiveSalaries||0,q2:e.executiveSalaries||0,q3:e.executiveSalaries||0,q4:e.executiveSalaries||0,yearly:4*(e.executiveSalaries||0)},C={q1:e.financeSalaries||0,q2:e.financeSalaries||0,q3:e.financeSalaries||0,q4:e.financeSalaries||0,yearly:4*(e.financeSalaries||0)},P={q1:e.hrSalaries||0,q2:e.hrSalaries||0,q3:e.hrSalaries||0,q4:e.hrSalaries||0,yearly:4*(e.hrSalaries||0)},F={q1:e.itSalaries||0,q2:e.itSalaries||0,q3:e.itSalaries||0,q4:e.itSalaries||0,yearly:4*(e.itSalaries||0)},R={q1:e.legalComplianceSalaries||0,q2:e.legalComplianceSalaries||0,q3:e.legalComplianceSalaries||0,q4:e.legalComplianceSalaries||0,yearly:4*(e.legalComplianceSalaries||0)},w={q1:e.generalAdminSalaries||0,q2:e.generalAdminSalaries||0,q3:e.generalAdminSalaries||0,q4:e.generalAdminSalaries||0,yearly:4*(e.generalAdminSalaries||0)},Q={q1:S.q1+C.q1+P.q1+F.q1+R.q1+w.q1,q2:S.q2+C.q2+P.q2+F.q2+R.q2+w.q2,q3:S.q3+C.q3+P.q3+F.q3+R.q3+w.q3,q4:S.q4+C.q4+P.q4+F.q4+R.q4+w.q4,yearly:0};Q.yearly=Q.q1+Q.q2+Q.q3+Q.q4;let U={q1:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),q2:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),q3:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),q4:(e.officeRentPerQuarter||0)+(e.warehouseRentPerQuarter||0)+(e.utilitiesPerQuarter||0)+(e.buildingInsurancePerQuarter||0)+(e.propertyTaxesPerQuarter||0)+(e.maintenancePerQuarter||0),yearly:0};U.yearly=4*U.q1;let E={q1:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),q2:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),q3:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),q4:(e.softwareLicensesPerQuarter||0)+(e.cloudServicesPerQuarter||0)+(e.telecommunicationsPerQuarter||0)+(e.itSupportPerQuarter||0),yearly:0};E.yearly=4*E.q1;let k={q1:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),q2:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),q3:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),q4:(e.officeSuppliesPerQuarter||0)+(e.postageShippingPerQuarter||0)+(e.printingPerQuarter||0),yearly:0};k.yearly=4*k.q1;let I={q1:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),q2:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),q3:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),q4:(e.legalFeesPerQuarter||0)+(e.auditFeesPerQuarter||0)+(e.consultingFeesPerQuarter||0),yearly:0};I.yearly=4*I.q1;let A={q1:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),q2:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),q3:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),q4:(e.trainingPerQuarter||0)+(e.certificationPerQuarter||0)+(e.conferencesPerQuarter||0),yearly:0};A.yearly=4*A.q1;let D={q1:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),q2:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),q3:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),q4:(e.salesTravelPerQuarter||0)+(e.executiveTravelPerQuarter||0)+(e.mealsEntertainmentPerQuarter||0),yearly:0};D.yearly=4*D.q1;let B={q1:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),q2:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),q3:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),q4:(e.licensesPermitsPerQuarter||0)+(e.complianceCostsPerQuarter||0)+(e.insuranceGeneralPerQuarter||0),yearly:0};B.yearly=4*B.q1;let L={q1:0,q2:0,q3:0,q4:0,yearly:0};e.badDebtRate&&((L={q1:a.q1*e.badDebtRate,q2:a.q2*e.badDebtRate,q3:a.q3*e.badDebtRate,q4:a.q4*e.badDebtRate,yearly:0}).yearly=L.q1+L.q2+L.q3+L.q4);let T={q1:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),q2:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),q3:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),q4:(e.depreciationOfficeEquipment||0)+(e.depreciationFurnitureFixtures||0),yearly:0};T.yearly=4*T.q1;let M={q1:Q.q1+U.q1+E.q1+k.q1+I.q1+A.q1+D.q1+B.q1+T.q1,q2:Q.q2+U.q2+E.q2+k.q2+I.q2+A.q2+D.q2+B.q2+T.q2,q3:Q.q3+U.q3+E.q3+k.q3+I.q3+A.q3+D.q3+B.q3+T.q3,q4:Q.q4+U.q4+E.q4+k.q4+I.q4+A.q4+D.q4+B.q4+T.q4,yearly:0};M.yearly=M.q1+M.q2+M.q3+M.q4;let O={q1:M.q1+L.q1,q2:M.q2+L.q2,q3:M.q3+L.q3,q4:M.q4+L.q4,yearly:M.yearly+L.yearly},W={q1:x.q1+L.q1,q2:x.q2+L.q2,q3:x.q3+L.q3,q4:x.q4+L.q4,yearly:x.yearly+L.yearly},H={q1:p.q1+N.q1+M.q1,q2:p.q2+N.q2+M.q2,q3:p.q3+N.q3+M.q3,q4:p.q4+N.q4+M.q4,yearly:p.yearly+N.yearly+M.yearly},G={q1:W.q1+H.q1,q2:W.q2+H.q2,q3:W.q3+H.q3,q4:W.q4+H.q4,yearly:W.yearly+H.yearly},Y={q1:G.q1-T.q1,q2:G.q2-T.q2,q3:G.q3-T.q3,q4:G.q4-T.q4,yearly:G.yearly-T.yearly},J={q1:a.q1>0?G.q1/a.q1:0,q2:a.q2>0?G.q2/a.q2:0,q3:a.q3>0?G.q3/a.q3:0,q4:a.q4>0?G.q4/a.q4:0,yearly:a.yearly>0?G.yearly/a.yearly:0},z={q1:r.q1>0?W.q1/r.q1:0,q2:r.q2>0?W.q2/r.q2:0,q3:r.q3>0?W.q3/r.q3:0,q4:r.q4>0?W.q4/r.q4:0,yearly:r.yearly>0?W.yearly/r.yearly:0},V={q1:r.q1>0?H.q1/r.q1:0,q2:r.q2>0?H.q2/r.q2:0,q3:r.q3>0?H.q3/r.q3:0,q4:r.q4>0?H.q4/r.q4:0,yearly:r.yearly>0?H.yearly/r.yearly:0},$={q1:r.q1>0?G.q1/r.q1:0,q2:r.q2>0?G.q2/r.q2:0,q3:r.q3>0?G.q3/r.q3:0,q4:r.q4>0?G.q4/r.q4:0,yearly:r.yearly>0?G.yearly/r.yearly:0},_={q1:a.q1>0?N.q1/a.q1:0,q2:a.q2>0?N.q2/a.q2:0,q3:a.q3>0?N.q3/a.q3:0,q4:a.q4>0?N.q4/a.q4:0,yearly:a.yearly>0?N.yearly/a.yearly:0};e.newCustomersPerQuarter&&(t={q1:e.newCustomersPerQuarter.q1>0?q.q1/e.newCustomersPerQuarter.q1:0,q2:e.newCustomersPerQuarter.q2>0?q.q2/e.newCustomersPerQuarter.q2:0,q3:e.newCustomersPerQuarter.q3>0?q.q3/e.newCustomersPerQuarter.q3:0,q4:e.newCustomersPerQuarter.q4>0?q.q4/e.newCustomersPerQuarter.q4:0,yearly:e.newCustomersPerQuarter.yearly>0?q.yearly/e.newCustomersPerQuarter.yearly:0});let X={q1:a.q1>0?y.q1/a.q1:0,q2:a.q2>0?y.q2/a.q2:0,q3:a.q3>0?y.q3/a.q3:0,q4:a.q4>0?y.q4/a.q4:0,yearly:a.yearly>0?y.yearly/a.yearly:0},K={q1:a.q1>0?O.q1/a.q1:0,q2:a.q2>0?O.q2/a.q2:0,q3:a.q3>0?O.q3/a.q3:0,q4:a.q4>0?O.q4/a.q4:0,yearly:a.yearly>0?O.yearly/a.yearly:0};return{salesRevenue:a,salesUnits:r,salesPersonnelCosts:s.length>0?s:void 0,salesCommissions:n,salesSalariesAndBenefits:i,totalSalesPersonnelCosts:l,distributionChannelCosts:o.length>0?o:void 0,distributionVariableCosts:c,distributionFixedCosts:d,totalDistributionCosts:u,customerServiceCosts:m,customerAcquisitionCosts:q,totalVariableSellingExpenses:x,totalFixedSellingExpenses:p,totalSellingExpenses:y,advertisingCosts:h,brandDevelopmentCosts:b,marketingCampaignCosts:g,marketResearchCosts:v,tradeshowsEventsCosts:f,contentCreationCosts:j,totalMarketingExpenses:N,executiveCosts:S,financeCosts:C,hrCosts:P,itCosts:F,legalComplianceCosts:R,generalAdminCosts:w,totalAdministrativeSalaries:Q,occupancyCosts:U,technologyCosts:E,officeOperationsCosts:k,professionalServicesCosts:I,professionalDevelopmentCosts:A,travelEntertainmentCosts:D,regulatoryComplianceCosts:B,badDebtExpense:L,depreciationExpense:T,totalFixedAdminExpenses:M,totalAdministrativeExpenses:O,totalVariableExpenses:W,totalFixedExpenses:H,totalSGAExpenses:G,cashDisbursementsForSGA:Y,sgaAsPercentOfSales:J,variableSGAPerUnit:z,fixedSGAPerUnit:V,totalSGAPerUnit:$,marketingAsPercentOfSales:_,costPerNewCustomer:t,salesExpenseRatio:X,adminExpenseRatio:K}}(d))),rl(u)},rQ=()=>{if(!J)return void alert("Please calculate Sales Budget first (Schedule 1)");let{output:e,validation:t}=function(e,t){let a=function(e,t){let a=[],r=[];if(!e)return a.push("Sales data (Schedule 1) is required for Cash Receipts Budget"),{isValid:!1,errors:a,warnings:r};if(!e.salesRevenue)return a.push("Sales revenue data is missing from Schedule 1"),{isValid:!1,errors:a,warnings:r};(t.percentCollectedInSameQuarter<0||t.percentCollectedInSameQuarter>1)&&a.push("Percent collected in same quarter must be between 0 and 1 (0% to 100%)"),(t.percentCollectedInNextQuarter<0||t.percentCollectedInNextQuarter>1)&&a.push("Percent collected in next quarter must be between 0 and 1 (0% to 100%)");let s=t.percentUncollectible||0;(s<0||s>1)&&a.push("Percent uncollectible must be between 0 and 1 (0% to 100%)");let l=t.percentCollectedInSameQuarter+t.percentCollectedInNextQuarter+s;return Math.abs(l-1)>.001&&r.push("Collection percentages should add up to 100%. Currently: ".concat((100*l).toFixed(1),"% ")+"(Same quarter: ".concat((100*t.percentCollectedInSameQuarter).toFixed(1),"%, ")+"Next quarter: ".concat((100*t.percentCollectedInNextQuarter).toFixed(1),"%, ")+"Uncollectible: ".concat((100*s).toFixed(1),"%)")),t.beginningAccountsReceivable<0&&a.push("Beginning accounts receivable cannot be negative"),e.cashSales&&e.creditSales||r.push("Sales budget should specify cash vs credit sales split for accurate cash receipts calculation"),s>.05&&r.push("Uncollectible rate of ".concat((100*s).toFixed(1),"% seems high. Industry average is typically 1-3%")),t.percentCollectedInSameQuarter<.5&&r.push("Less than 50% collection in same quarter may indicate aggressive credit terms"),{isValid:0===a.length,errors:a,warnings:r}}(e,t);if(!a.isValid||!e)return{output:null,validation:a};let r=e.salesRevenue,s=e.cashSales||{q1:0,q2:0,q3:0,q4:0,yearly:0},l=e.creditSales||r,n={q1:0,q2:0,q3:0,q4:0,yearly:0},i={q1:0,q2:0,q3:0,q4:0,yearly:0},o={q1:0,q2:0,q3:0,q4:0,yearly:0},c={q1:0,q2:0,q3:0,q4:0,yearly:0},d=t.beginningAccountsReceivable;return i.q1=d*t.percentCollectedInNextQuarter,n.q1=l.q1*t.percentCollectedInSameQuarter,o.q1=s.q1+i.q1+n.q1,c.q1=d+l.q1-(i.q1+n.q1),d=c.q1,i.q2=l.q1*t.percentCollectedInNextQuarter,n.q2=l.q2*t.percentCollectedInSameQuarter,o.q2=s.q2+i.q2+n.q2,c.q2=d+l.q2-(i.q2+n.q2),d=c.q2,i.q3=l.q2*t.percentCollectedInNextQuarter,n.q3=l.q3*t.percentCollectedInSameQuarter,o.q3=s.q3+i.q3+n.q3,c.q3=d+l.q3-(i.q3+n.q3),d=c.q3,i.q4=l.q3*t.percentCollectedInNextQuarter,n.q4=l.q4*t.percentCollectedInSameQuarter,o.q4=s.q4+i.q4+n.q4,c.q4=d+l.q4-(i.q4+n.q4),n.yearly=n.q1+n.q2+n.q3+n.q4,i.yearly=i.q1+i.q2+i.q3+i.q4,o.yearly=o.q1+o.q2+o.q3+o.q4,c.yearly=c.q4,{output:{salesRevenue:r,collectionsSameQuarter:n,collectionsNextQuarter:i,totalCashReceipts:o,endingAccountsReceivable:c},validation:a}}(J,{percentCollectedInSameQuarter:parseFloat(rn)||0,percentCollectedInNextQuarter:parseFloat(ro)||0,percentUncollectible:rd?parseFloat(rd):void 0,beginningAccountsReceivable:parseFloat(rm)||0});rp(e),rh(t.errors),rg(t.warnings)},rU=t?"text-gray-100":"text-[#454545]",rE=t?"text-white":"text-black",rk=t?"bg-[#222] border-gray-700 text-white":"bg-white border-gray-300 text-black",rI=t?"bg-white text-black hover:bg-gray-200":"bg-black text-white hover:bg-gray-800",rA=t?"border-gray-800":"border-gray-200";return(0,r.jsxs)("div",{className:"min-h-screen ".concat(t?"bg-[#111]":"bg-white"," ").concat(rU),children:[(0,r.jsxs)("header",{className:"max-w-5xl mx-auto px-6 py-6 flex justify-between items-center",children:[(0,r.jsx)(n(),{href:"/",className:"text-sm hover:underline ".concat(rU),children:" Back"}),(0,r.jsx)("h1",{className:"text-xl font-semibold ".concat(rE),children:"Budget Input"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>{let e=["Acme Manufacturing","TechPro Industries","Global Widgets Co.","Premium Products Inc.","Innovate Manufacturing"],t=["Widget","Gadget","Component","Device","Module"];c(e[rv(0,e.length-1)]),u(t[rv(0,t.length-1)]),q("USD"),p("2026"),h("Randomly generated test data for budget validation");let a=rv(8e3,15e3),r=rv(1e4,18e3),s=rv(12e3,2e4),l=rv(1e4,16e3);g(String(a)),f(String(r)),N(String(s)),C(String(l));let n=rf(1.05,1.2,2);F(String(Math.round(a*n))),w(String(Math.round(r*n))),U(String(Math.round(s*n))),k(String(Math.round(l*n))),A(String(rv(30,100))),B(String(rf(.01,.05,3))),T("inflation");let i=rf(.2,.5,2);O(String(i)),H(String(parseFloat((1-i).toFixed(2)))),Y(String(rf(.05,.2,2))),X(String(rv(1e3,3e3))),Z(String(rf(.1,.2,2))),et(String(Math.round(a*n*1.1))),er(String(rv(18e3,25e3))),el(String(rv(800,1500))),ei(String(rv(4e3,6e3))),ec(String(rf(1.5,4,1))),eu(Math.random()>.5),eq(String(rf(.01,.05,2)));let o=[["Steel Sheet","Aluminum Rod","Plastic Components"],["Raw Polymer","Metal Alloy","Composite Material"],["Fabric","Thread","Fasteners"]],d=o[rv(0,o.length-1)],m=["kg","meters","pieces"];eg(d.map((e,t)=>({name:e,requiredPerUnit:rf(1,5,1),costPerUnit:rf(5,20,2),beginningInventory:rv(2e3,8e3),desiredEndingInventoryRatio:rf(.08,.15,2),unit:m[t],scrapWastePercentage:rf(.01,.06,2),bulkDiscountThreshold:rv(5e3,15e3),bulkDiscountRate:rf(.05,.15,2),priceInflationRate:rf(.005,.025,3),useJIT:Math.random()>.6}))),ef(String(Math.round(a*n*1.15)));let x=rf(.5,.7,2);eN(String(x)),eC(String(parseFloat((1-x).toFixed(2)))),eU(!1),ek(String(rf(2,5,1))),eA(String(rv(20,35)));let y=[["Assembly Line Workers","Quality Control","Finishing & Packaging"],["Machine Operators","Inspectors","Packaging Team"],["Production Staff","Testing Team","Assembly Technicians"]];eB(y[rv(0,y.length-1)].map(e=>({name:e,hoursPerUnit:rf(.3,2.5,1),wageRatePerHour:rv(18,32)}))),eT(String(rf(.01,.03,3))),eO(String(rv(1500,2500))),eH("1.5"),eY(String(rf(.2,.3,2))),ez(String(rf(.9,.98,2))),e$(String(rf(.1,.2,2))),eX(String(rv(1e3,2e3))),eZ(String(rv(400,600))),e5("abc"),tc(!0),e8(String(rv(4,8))),e9(String(rv(2,5))),tt(String(rv(2e4,35e3))),tr(String(rv(6e3,12e3))),tl("labor-hours"),tu(String(rv(12,20))),tq(String(rv(15,23))),tp(String(rv(18,28))),th(String(rv(15,25))),tg(String(rv(600,1e3))),tf(String(rv(20,30))),tN(String(rv(25,35))),tC(String(rv(30,40))),tF(String(rv(25,38))),tw(String(rv(100,200))),tU(String(rv(1e3,1500))),tk(String(rv(1200,1700))),tA(String(rv(1400,2e3))),tB(String(rv(1200,1800))),tT(String(rv(12,20))),tO(String(rv(1e4,15e3))),tH(String(rv(2e3,4e3))),tY(String(rv(1500,3e3))),tz(String(rv(3e3,5e3))),t$(Math.random()>.5),tX(String(rv(15e3,22e3))),tZ(String(rv(1e4,16e3))),t2(String(rf(2,4,1))),t3(String(rv(1e3,2e3))),t5(String(rv(3e3,6e3))),t8(String(rv(4,8))),t9(String(rf(.8,2,1))),at(String(rv(5e3,8e3))),ar(String(rv(1500,3e3))),al(String(rv(2500,4500))),ai(String(rv(1e3,2e3))),aq("detailed"),ap(!1),ah(String(rf(.06,.12,2))),ag(String(rf(.03,.08,2))),af(String(rv(3e4,45e3))),aN(String(rv(4e4,55e3))),aC(String(rf(.03,.08,2))),aF(""),aw(String(rf(2.5,5,1))),aU(String(rv(6e3,1e4))),ak(String(rv(12e3,18e3))),aA(String(rf(1,2.5,1))),aB(String(rv(1e4,16e3))),aT(String(rv(6e3,12e3))),aO(String(rv(8e3,14e3))),aH(String(rv(3e4,45e3))),aY(String(rv(18e3,28e3))),az(String(rv(12e3,2e4))),a$(String(rv(15e3,25e3))),aX(String(rv(8e3,14e3))),aZ(String(rv(2e3,4e3))),a2(String(rv(3e3,6e3))),a3(String(rv(1200,2e3))),a5(String(rv(1e3,1800))),a8(String(rv(4e3,7e3))),a9(String(rf(.015,.035,3))),rt(String(rv(2500,4500)));let b=rf(.6,.75,2),v=rf(.2,.35,2),j=parseFloat((1-b-v).toFixed(3));ri(String(b)),rc(String(v)),ru(String(Math.max(0,j))),rq(String(rv(15e3,35e3))),setTimeout(()=>{rj(),rN(),rC(),rF(),rR(),rw(),rQ()},100)},className:"text-sm px-4 py-2 border ".concat(t?"border-gray-600 bg-gray-800 text-gray-200 hover:bg-gray-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"," transition-colors"),children:"Insert Testing Figures"}),(0,r.jsx)("span",{className:"text-xs ".concat(t?"text-gray-400":"text-gray-500"),children:"Inverted Mode"}),(0,r.jsx)("button",{onClick:()=>{let e=!t;a(e),localStorage.setItem("darkMode",String(e))},className:"text-sm hover:underline ".concat(t?"text-gray-300":"text-[#454545]"),children:t?"Light":"Dark"})]})]}),(0,r.jsxs)("main",{className:"max-w-5xl mx-auto px-6 py-12 ".concat(rU),children:[(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 1: Sales Budget"}),(0,r.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Enter your forecasted sales data"}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Company Information"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Company Name"}),(0,r.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Type company name",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Product Name"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Type product name",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Currency"}),(0,r.jsx)("input",{type:"text",value:m,onChange:e=>q(e.target.value),placeholder:"Type currency",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Fiscal Year"}),(0,r.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),placeholder:"Type fiscal year",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Prior Year Sales (Optional)"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(rU),children:"Enter last year's sales to see growth comparison. Leave blank if not applicable."}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q1 (Oct-Dec)"}),(0,r.jsx)("input",{type:"number",value:b,onChange:e=>g(e.target.value),placeholder:"800",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q2 (Jan-Mar)"}),(0,r.jsx)("input",{type:"number",value:v,onChange:e=>f(e.target.value),placeholder:"1200",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q3 (Apr-Jun)"}),(0,r.jsx)("input",{type:"number",value:j,onChange:e=>N(e.target.value),placeholder:"1000",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q4 (Jul-Sep)"}),(0,r.jsx)("input",{type:"number",value:S,onChange:e=>C(e.target.value),placeholder:"1100",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]})]}),(0,r.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-8"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(rE),children:"Quick Forecast Calculator"}),(0,r.jsx)("p",{className:"text-xs mb-3 ".concat(rU),children:"Apply a growth rate to prior year sales to auto-calculate current year forecast"}),(0,r.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Growth Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.1",value:G,onChange:e=>Y(e.target.value),placeholder:"e.g., 15 for 15% growth",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsx)("button",{onClick:()=>{let e=parseFloat(G)/100||0,t=parseFloat(b)||0,a=parseFloat(v)||0,r=parseFloat(j)||0,s=parseFloat(S)||0;if(0===t&&0===a&&0===r&&0===s)return void alert("Please enter prior year sales data first");F(String(Math.round(t*(1+e)))),w(String(Math.round(a*(1+e)))),U(String(Math.round(r*(1+e)))),k(String(Math.round(s*(1+e))))},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Apply to Forecast"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Forecasted Sales (Current Year)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q1 (Oct-Dec)"}),(0,r.jsx)("input",{type:"number",value:P,onChange:e=>F(e.target.value),placeholder:"1000",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q2 (Jan-Mar)"}),(0,r.jsx)("input",{type:"number",value:R,onChange:e=>w(e.target.value),placeholder:"1500",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q3 (Apr-Jun)"}),(0,r.jsx)("input",{type:"number",value:Q,onChange:e=>U(e.target.value),placeholder:"1200",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Q4 (Jul-Sep)"}),(0,r.jsx)("input",{type:"number",value:E,onChange:e=>k(e.target.value),placeholder:"1300",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-3 ".concat(rE),children:"Price Adjustment Method"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"priceAdjustment",value:"constant",checked:"constant"===L,onChange:e=>T(e.target.value),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm ".concat(rU),children:"Constant Price (same across all quarters)"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"priceAdjustment",value:"inflation",checked:"inflation"===L,onChange:e=>T(e.target.value),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm ".concat(rU),children:"Inflation-Adjusted Price"})]})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Selling Price per Unit (",m,")"]}),(0,r.jsx)("input",{type:"number",value:I,onChange:e=>A(e.target.value),placeholder:"85000",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Inflation Rate (Annual %)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:D,onChange:e=>B(e.target.value),placeholder:"0.15",className:"w-full px-4 py-3 border ".concat(rk," text-base"),disabled:"constant"===L}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"constant"===L?"Disabled when using constant price":"Enter as decimal (e.g., 0.15 for 15%)"})]})]}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Cash vs Credit Sales (Optional)"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(rU),children:"Split sales revenue into cash (collected immediately) and credit (collected later). Required for Schedule 8 (Cash Receipts Budget)."}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Cash Sales Percentage"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:M,onChange:e=>O(e.target.value),placeholder:"0.40",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Enter as decimal (e.g., 0.40 for 40% cash sales)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Credit Sales Percentage"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:W,onChange:e=>H(e.target.value),placeholder:"0.60",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Enter as decimal (e.g., 0.60 for 60% credit sales)"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Budget Assumptions & Notes (Optional)"}),(0,r.jsx)("textarea",{value:y,onChange:e=>h(e.target.value),placeholder:"e.g., Conservative forecast due to market uncertainty; New market entry in Q3; Based on historical growth trends...",rows:3,className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Document key assumptions for reference"})]}),(0,r.jsx)("button",{onClick:rj,className:"".concat(rI," font-medium px-8 py-3 text-lg"),children:"Calculate"}),V.length>0&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[V.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:V.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),V.filter(e=>e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:V.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"Results"}),J&&(0,r.jsx)("button",{onClick:()=>{if(!J)return;let e="".concat(l||"Your Company"," - ").concat(d||"Product","\n");e+="Schedule 1: Sales Budget\n",e+="For the Year Ending December 31, ".concat(x,"\n"),e+="Currency: ".concat(m,"\n"),y&&(e+="Assumptions: ".concat(y,"\n")),e+="\n",e+=J.headers.join(",")+"\n",J.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download","sales-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!J&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Enter data and click Calculate to see your sales budget"}),J&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:["For the Year Ending December 31, ",x," | Currency: ",m]}),y&&(0,r.jsxs)("div",{className:"mb-6 p-3 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,r.jsx)("p",{className:"text-xs font-semibold mb-1 ".concat(rE),children:"Assumptions & Notes:"}),(0,r.jsx)("p",{className:"text-sm ".concat(rU),children:y})]}),(0,r.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:J.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:J.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"," ").concat(a===J.rows.length-1?"font-semibold":""),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),(0,r.jsx)("p",{className:"text-xs mb-8 ".concat(rU),children:'Note: The "Yearly Total" price is the weighted average selling price across all quarters.'}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-3 ".concat(rE),children:"Seasonal Distribution"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(rU),children:"Percentage of annual sales expected in each quarter:"}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-4",children:J.seasonalDistribution&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,r.jsx)("div",{className:"text-xs mb-1 ".concat(rU),children:"Q1 (Oct-Dec)"}),(0,r.jsxs)("div",{className:"text-2xl font-semibold ".concat(rE),children:[J.seasonalDistribution.q1.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,r.jsx)("div",{className:"text-xs mb-1 ".concat(rU),children:"Q2 (Jan-Mar)"}),(0,r.jsxs)("div",{className:"text-2xl font-semibold ".concat(rE),children:[J.seasonalDistribution.q2.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,r.jsx)("div",{className:"text-xs mb-1 ".concat(rU),children:"Q3 (Apr-Jun)"}),(0,r.jsxs)("div",{className:"text-2xl font-semibold ".concat(rE),children:[J.seasonalDistribution.q3.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,r.jsx)("div",{className:"text-xs mb-1 ".concat(rU),children:"Q4 (Jul-Sep)"}),(0,r.jsxs)("div",{className:"text-2xl font-semibold ".concat(rE),children:[J.seasonalDistribution.q4.toFixed(1),"%"]})]})]})})]}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" Sales Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the Sales Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Sales Budget is the starting point for the master budget. It shows expected sales in both units and revenue for each quarter and the entire year."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Sales Revenue = Expected Sales Units \xd7 Selling Price per Unit"]}),(0,r.jsx)("hr",{className:"my-16 ".concat(rA)}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 2: Production Budget"}),(0,r.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Determine production volume needed to meet sales demand and maintain inventory levels"}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Inventory Policy"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Beginning Inventory (Units)"}),(0,r.jsx)("input",{type:"number",value:_,onChange:e=>X(e.target.value),placeholder:"100",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Opening inventory at start of year"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Desired Ending Inventory Ratio"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:K,onChange:e=>Z(e.target.value),placeholder:"0.10",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Enter as decimal (e.g., 0.10 for 10% of next quarter's sales)"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("input",{type:"checkbox",id:"useJIT",checked:ed,onChange:e=>eu(e.target.checked),className:"mr-3 w-4 h-4"}),(0,r.jsx)("label",{htmlFor:"useJIT",className:"text-sm font-medium ".concat(rE),children:"Use Just-in-Time (JIT) Manufacturing"})]}),(0,r.jsx)("p",{className:"text-xs ".concat(rU," ml-7"),children:"Enable JIT to set ending inventory to zero (production = sales)"})]}),(0,r.jsx)("hr",{className:"my-8 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Optional Enhancements"}),(0,r.jsx)("p",{className:"text-sm mb-6 ".concat(rU),children:"Add production constraints and cost analysis (all optional)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Next Year Q1 Sales Forecast"}),(0,r.jsx)("input",{type:"number",value:ee,onChange:e=>et(e.target.value),placeholder:"Leave blank to use current Q1",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Max Production Capacity/Quarter"}),(0,r.jsx)("input",{type:"number",value:ea,onChange:e=>er(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Inventory Carrying Cost/Unit"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eo,onChange:e=>ec(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Minimum Batch Size"}),(0,r.jsx)("input",{type:"number",value:es,onChange:e=>el(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Optimal Batch Size"}),(0,r.jsx)("input",{type:"number",value:en,onChange:e=>ei(e.target.value),placeholder:"Optional",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Obsolescence Risk (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:em,onChange:e=>eq(e.target.value),placeholder:"0.05",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Enter as decimal (e.g., 0.05 for 5% risk)"})]})]}),(0,r.jsx)("button",{onClick:rN,className:"".concat(rI," font-medium px-8 py-3 text-lg"),children:"Calculate Production Budget"}),ey.length>0&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[ey.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:ey.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),ey.filter(e=>e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:ey.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"Production Budget Results"}),ex&&(0,r.jsx)("button",{onClick:()=>{if(!ex)return;let e="".concat(l||"Your Company"," - ").concat(d||"Product","\n");e+="Schedule 2: Production Budget\n",e+="For the Year Ending December 31, ".concat(x,"\n"),e+="\n",e+=ex.headers.join(",")+"\n",ex.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download","production-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!ex&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter production data and click Calculate Production Budget"}),ex&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-6 ".concat(rU),children:["For the Year Ending December 31, ",x]}),(0,r.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:ex.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:ex.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"," ").concat(a===ex.rows.length-1?"font-semibold":""),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),ex.notes&&(0,r.jsxs)("p",{className:"text-xs mb-6 ".concat(rU," italic"),children:["* ",ex.notes]}),ex.inventoryCarryingCost&&(0,r.jsxs)("div",{className:"mb-6 p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-2 ".concat(rE),children:"Inventory Carrying Cost"}),(0,r.jsxs)("p",{className:"text-xs ".concat(rU),children:["Q1: ",ex.inventoryCarryingCost.q1.toFixed(2)," | Q2: ",ex.inventoryCarryingCost.q2.toFixed(2)," | Q3: ",ex.inventoryCarryingCost.q3.toFixed(2)," | Q4: ",ex.inventoryCarryingCost.q4.toFixed(2)," | Yearly: ",ex.inventoryCarryingCost.yearly.toFixed(2)]})]}),ex.obsolescenceCost&&(0,r.jsxs)("div",{className:"mb-6 p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-2 ".concat(rE),children:"Obsolescence Cost"}),(0,r.jsxs)("p",{className:"text-xs ".concat(rU),children:["Q1: ",ex.obsolescenceCost.q1.toFixed(2)," | Q2: ",ex.obsolescenceCost.q2.toFixed(2)," | Q3: ",ex.obsolescenceCost.q3.toFixed(2)," | Q4: ",ex.obsolescenceCost.q4.toFixed(2)," | Yearly: ",ex.obsolescenceCost.yearly.toFixed(2)]})]}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" Production Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the Production Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Production Budget determines how many units must be produced to meet sales demand while maintaining desired inventory levels."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Units to Produce = Sales + Desired Ending Inventory - Beginning Inventory"]}),(0,r.jsx)("hr",{className:"my-16 ".concat(rA)}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 3: Direct Material Budget"}),(0,r.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate raw material requirements and purchase costs for production"}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Materials"}),(0,r.jsx)("p",{className:"text-sm mb-6 ".concat(rU),children:"Add all raw materials required for production. You can add multiple materials (e.g., fabric, poles, etc.)"}),eb.map((e,a)=>(0,r.jsxs)("div",{className:"mb-8 p-6 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold ".concat(rE),children:["Material ",a+1]}),eb.length>1&&(0,r.jsx)("button",{onClick:()=>(e=>{if(1===eb.length)return void alert("You must have at least one material");eg(eb.filter((t,a)=>a!==e))})(a),className:"text-sm ".concat(t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"),children:"Remove"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Material Name"}),(0,r.jsx)("input",{type:"text",value:e.name,onChange:e=>rS(a,"name",e.target.value),placeholder:"e.g., Tent Fabric",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Unit of Measure"}),(0,r.jsx)("input",{type:"text",value:e.unit,onChange:e=>rS(a,"unit",e.target.value),placeholder:"e.g., yards, kg, liters",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Required per Unit Produced"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.requiredPerUnit,onChange:e=>rS(a,"requiredPerUnit",e.target.value),placeholder:"4.0",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Cost per Unit (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.costPerUnit,onChange:e=>rS(a,"costPerUnit",e.target.value),placeholder:"5.00",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Beginning Inventory"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.beginningInventory,onChange:e=>rS(a,"beginningInventory",e.target.value),placeholder:"600",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Ending Inventory Ratio"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.desiredEndingInventoryRatio,onChange:e=>rS(a,"desiredEndingInventoryRatio",e.target.value),placeholder:"0.10",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Enter as decimal (e.g., 0.10 for 10% of next quarter's needs)"})]})]}),(0,r.jsxs)("details",{className:"mt-4",children:[(0,r.jsx)("summary",{className:"text-sm font-medium cursor-pointer ".concat(rE," hover:underline"),children:"Optional Enhancements (click to expand)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Scrap/Waste %"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.scrapWastePercentage||"",onChange:e=>rS(a,"scrapWastePercentage",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.05",className:"w-full px-3 py-2 border ".concat(rk," text-sm")}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat(rU),children:"e.g., 0.05 for 5% waste"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Price Inflation Rate"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.priceInflationRate||"",onChange:e=>rS(a,"priceInflationRate",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.02",className:"w-full px-3 py-2 border ".concat(rk," text-sm")}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat(rU),children:"Quarterly rate (e.g., 0.02 for 2%)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Bulk Discount Threshold"}),(0,r.jsx)("input",{type:"number",value:e.bulkDiscountThreshold||"",onChange:e=>rS(a,"bulkDiscountThreshold",e.target.value?parseFloat(e.target.value):void 0),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Bulk Discount Rate"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.bulkDiscountRate||"",onChange:e=>rS(a,"bulkDiscountRate",e.target.value?parseFloat(e.target.value):void 0),placeholder:"0.10",className:"w-full px-3 py-2 border ".concat(rk," text-sm")}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat(rU),children:"e.g., 0.10 for 10% discount"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Supplier Lead Time (days)"}),(0,r.jsx)("input",{type:"number",value:e.supplierLeadTimeDays||"",onChange:e=>rS(a,"supplierLeadTimeDays",e.target.value?parseInt(e.target.value):void 0),placeholder:"30",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{className:"flex items-center pt-6",children:[(0,r.jsx)("input",{type:"checkbox",id:"jit-".concat(a),checked:e.useJIT||!1,onChange:e=>rS(a,"useJIT",e.target.checked),className:"mr-2 w-4 h-4"}),(0,r.jsx)("label",{htmlFor:"jit-".concat(a),className:"text-sm ".concat(rE),children:"Use JIT (no ending inventory)"})]})]})]})]},a)),(0,r.jsx)("button",{onClick:()=>{eg([...eb,{name:"",requiredPerUnit:0,costPerUnit:0,beginningInventory:0,desiredEndingInventoryRatio:0,unit:""}])},className:"".concat(t?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-200 text-black hover:bg-gray-300"," font-medium px-6 py-2 text-sm mb-8"),children:"+ Add Another Material"}),(0,r.jsx)("hr",{className:"my-8 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Payment Terms (Optional)"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(rU),children:"Specify when material purchases are paid (used for cash disbursement calculations)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Next Year Q1 Production"}),(0,r.jsx)("input",{type:"number",value:ev,onChange:e=>ef(e.target.value),placeholder:"Leave blank to use current Q1",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"For Q4 ending inventory calculation"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"% Paid in Current Quarter"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ej,onChange:e=>eN(e.target.value),placeholder:"0.60",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"e.g., 0.60 for 60% paid immediately"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"% Paid in Next Quarter"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eS,onChange:e=>eC(e.target.value),placeholder:"0.40",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"e.g., 0.40 for 40% paid next quarter"})]})]}),(0,r.jsx)("button",{onClick:rC,className:"".concat(rI," font-medium px-8 py-3 text-lg"),children:"Calculate Material Budget"}),eR.length>0&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[eR.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:eR.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),eR.filter(e=>e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:eR.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"Material Budget Results"}),eP&&(0,r.jsx)("button",{onClick:()=>{var e;if(!eP)return;let t="".concat(l||"Your Company"," - ").concat(d||"Product","\n");t+="Schedule 3: Direct Material Budget\n",t+="For the Year Ending December 31, ".concat(x,"\n\n"),null==(e=eP.materials)||e.forEach(e=>{t+="Material: ".concat(e.name," (").concat(e.unit,")\n"),t+=e.headers.join(",")+"\n",e.rows.forEach(e=>{let a=String(e.q1).replace(/,/g,""),r=String(e.q2).replace(/,/g,""),s=String(e.q3).replace(/,/g,""),l=String(e.q4).replace(/,/g,""),n=String(e.yearly).replace(/,/g,"");t+='"'.concat(e.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")}),t+="\n"}),eP.summary&&(t+="Total Material Purchase Cost\n",t+=eP.summary.headers.join(",")+"\n",eP.summary.rows.forEach(e=>{let a=String(e.q1).replace(/,/g,""),r=String(e.q2).replace(/,/g,""),s=String(e.q3).replace(/,/g,""),l=String(e.q4).replace(/,/g,""),n=String(e.yearly).replace(/,/g,"");t+='"'.concat(e.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")}));let a=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),s=URL.createObjectURL(a);r.setAttribute("href",s),r.setAttribute("download","direct-material-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!eP&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter material data and click Calculate Material Budget"}),eP&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-6 ".concat(rU),children:["For the Year Ending December 31, ",x]}),null==(e=eP.materials)?void 0:e.map((e,a)=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h4",{className:"text-xl font-semibold mb-4 ".concat(rE),children:[e.name," (",e.unit,")"]}),(0,r.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:e.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:e.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),(e.inventoryTurnoverRatio||e.daysInventoryOutstanding)&&(0,r.jsxs)("div",{className:"p-3 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," text-sm mb-4"),children:[e.inventoryTurnoverRatio&&(0,r.jsxs)("p",{className:rU,children:[(0,r.jsx)("strong",{children:"Inventory Turnover:"})," ",e.inventoryTurnoverRatio.toFixed(2),"x annually"]}),e.daysInventoryOutstanding&&(0,r.jsxs)("p",{className:rU,children:[(0,r.jsx)("strong",{children:"Days Inventory Outstanding:"})," ",e.daysInventoryOutstanding.toFixed(0)," days"]})]})]},a)),eP.summary&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(rE),children:"Total Material Purchase Cost"}),(0,r.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:eP.summary.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:eP.summary.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"," font-semibold"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.yearly})]},a))})]})})]}),eP.analytics&&(0,r.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(rE),children:"Analytics"}),eP.analytics.overallInventoryTurnover&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Overall Inventory Turnover:"})," ",eP.analytics.overallInventoryTurnover.toFixed(2),"x annually"]}),eP.analytics.totalScrapWasteCost&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Total Scrap/Waste Cost:"})," ",m," ",eP.analytics.totalScrapWasteCost.toFixed(2)]}),eP.analytics.totalBulkDiscountSavings&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Total Bulk Discount Savings:"})," ",m," ",eP.analytics.totalBulkDiscountSavings.toFixed(2)]}),eP.analytics.criticalMaterials&&eP.analytics.criticalMaterials.length>0&&(0,r.jsxs)("p",{className:"text-sm ".concat(t?"text-yellow-400":"text-yellow-700"),children:[(0,r.jsx)("strong",{children:" Critical Materials (low turnover):"})," ",eP.analytics.criticalMaterials.join(", ")]})]}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" Direct Material Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the Direct Material Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Direct Material Budget calculates the quantity and cost of raw materials needed for production. It ensures adequate materials are available while managing inventory costs."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Material to Purchase = (Production Needs \xd7 Material per Unit + Desired Ending Inventory) - Beginning Inventory"]}),(0,r.jsx)("hr",{className:"my-16 ".concat(rA)}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 4: Direct Labor Budget"}),(0,r.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate direct labor hours and costs required for production"}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Labor Input Method"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(rU),children:"Choose between simple single-category input or multi-category labor types"}),(0,r.jsxs)("div",{className:"flex gap-6 mb-8",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"laborInputMethod",checked:eQ,onChange:()=>eU(!0),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm ".concat(rU),children:"Simple (Single labor rate)"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"laborInputMethod",checked:!eQ,onChange:()=>eU(!1),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm ".concat(rU),children:"Multi-Category (Different labor types)"})]})]}),eQ?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Labor Requirements"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Direct Labor Hours per Unit"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eE,onChange:e=>ek(e.target.value),placeholder:"2.5",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Hours of direct labor required to produce one unit"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Hourly Wage Rate (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eI,onChange:e=>eA(e.target.value),placeholder:"25.00",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Average wage rate per hour"})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Labor Categories"}),(0,r.jsx)("p",{className:"text-sm mb-6 ".concat(rU),children:"Add different labor categories with their own hourly requirements and wage rates"}),eD.map((e,a)=>(0,r.jsxs)("div",{className:"mb-8 p-6 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold ".concat(rE),children:["Labor Category ",a+1]}),eD.length>1&&(0,r.jsx)("button",{onClick:()=>(e=>{if(1===eD.length)return void alert("You must have at least one labor category");eB(eD.filter((t,a)=>a!==e))})(a),className:"text-sm ".concat(t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"),children:"Remove"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Category Name"}),(0,r.jsx)("input",{type:"text",value:e.name,onChange:e=>rP(a,"name",e.target.value),placeholder:"e.g., Assembly, Finishing",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Hours per Unit"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.hoursPerUnit,onChange:e=>rP(a,"hoursPerUnit",e.target.value),placeholder:"1.5",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Wage Rate per Hour (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e.wageRatePerHour,onChange:e=>rP(a,"wageRatePerHour",e.target.value),placeholder:"30.00",className:"w-full px-4 py-3 border ".concat(rk," text-base")})]})]})]},a)),(0,r.jsx)("button",{onClick:()=>{eB([...eD,{name:"",hoursPerUnit:0,wageRatePerHour:0}])},className:"".concat(t?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-200 text-black hover:bg-gray-300"," font-medium px-6 py-2 text-sm mb-8"),children:"+ Add Another Labor Category"})]}),(0,r.jsx)("hr",{className:"my-8 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Optional Enhancements"}),(0,r.jsx)("p",{className:"text-sm mb-6 ".concat(rU),children:"Add wage inflation, overtime, fringe benefits, and workforce planning metrics (all optional)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Wage Inflation Rate (Quarterly)"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:eL,onChange:e=>eT(e.target.value),placeholder:"0.01",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"e.g., 0.01 for 1% per quarter"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Fringe Benefit Rate"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eG,onChange:e=>eY(e.target.value),placeholder:"0.25",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"e.g., 0.25 for 25% (health, FICA, etc.)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Productivity Efficiency Rate"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eJ,onChange:e=>ez(e.target.value),placeholder:"0.95",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"e.g., 0.95 for 95% efficiency"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Overtime Threshold (Hours/Quarter)"}),(0,r.jsx)("input",{type:"number",value:eM,onChange:e=>eO(e.target.value),placeholder:"Leave blank for no overtime",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Maximum regular hours before overtime"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Overtime Multiplier"}),(0,r.jsx)("input",{type:"number",step:"0.1",value:eW,onChange:e=>eH(e.target.value),placeholder:"1.5",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"e.g., 1.5 for time-and-a-half"})]})]}),(0,r.jsxs)("details",{className:"mb-8",children:[(0,r.jsx)("summary",{className:"text-lg font-semibold cursor-pointer ".concat(rE," hover:underline mb-4"),children:"Workforce Planning (click to expand)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Average Hours per Employee (Quarterly)"}),(0,r.jsx)("input",{type:"number",value:eK,onChange:e=>eZ(e.target.value),placeholder:"480",className:"w-full px-3 py-2 border ".concat(rk," text-sm")}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat(rU),children:"For calculating FTE needed"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Annual Turnover Rate"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eV,onChange:e=>e$(e.target.value),placeholder:"0.15",className:"w-full px-3 py-2 border ".concat(rk," text-sm")}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat(rU),children:"e.g., 0.15 for 15% turnover"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Training Cost per Employee (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e_,onChange:e=>eX(e.target.value),placeholder:"2000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]})]})]}),(0,r.jsx)("button",{onClick:rF,className:"".concat(rI," font-medium px-8 py-3 text-lg"),children:"Calculate Labor Budget"}),e1.length>0&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[e1.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:e1.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),e1.filter(e=>e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:e1.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"Labor Budget Results"}),e0&&(0,r.jsx)("button",{onClick:()=>{if(!e0)return;let e="".concat(l||"Your Company"," - ").concat(d||"Product","\n");e+="Schedule 4: Direct Labor Budget\n",e+="For the Year Ending December 31, ".concat(x,"\n\n"),e0.categoryTables?(e0.categoryTables.forEach(t=>{e+="Labor Category: ".concat(t.categoryName,"\n"),e+=t.headers.join(",")+"\n",t.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")}),e+="\n"}),e+="Summary - Total Direct Labor\n",e+=e0.headers.join(",")+"\n",e0.summaryRows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")})):(e+=e0.headers.join(",")+"\n",e0.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")}));let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download","direct-labor-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!e0&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter labor data and click Calculate Labor Budget"}),e0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-6 ".concat(rU),children:["For the Year Ending December 31, ",x]}),e0.categoryTables&&e0.categoryTables.map((e,a)=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(rE),children:e.categoryName}),(0,r.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:e.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:e.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})})]},a)),e0.summaryRows&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-xl font-semibold mb-4 ".concat(rE),children:"Summary - Total Direct Labor"}),(0,r.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:e0.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:e0.summaryRows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})})]}),!e0.summaryRows&&e0.rows&&(0,r.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:e0.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:e0.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),(e0.laborCostPerUnit||e0.averageEmployeesNeeded)&&(0,r.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(rE),children:"Analytics"}),e0.laborCostPerUnit&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Labor Cost per Unit:"})," ",m," ",e0.laborCostPerUnit.yearly.toFixed(2)]}),e0.averageEmployeesNeeded&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Average Employees Needed:"})," ",e0.averageEmployeesNeeded.yearly.toFixed(1)," FTE"]}),e0.turnoverCost&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Annual Turnover & Training Cost:"})," ",m," ",e0.turnoverCost.yearly.toFixed(2)]}),e0.productivityRate&&(0,r.jsxs)("p",{className:"text-sm ".concat(rU),children:[(0,r.jsx)("strong",{children:"Productivity Efficiency:"})," ",(100*e0.productivityRate.yearly).toFixed(1),"%"]})]}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" Direct Labor Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the Direct Labor Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Direct Labor Budget calculates the hours and costs for direct labor needed to complete the production plan."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Total Direct-Labor Cost = (Units to Produce \xd7 Hours per Unit) \xd7 Hourly Wage Rate"]}),(0,r.jsx)("hr",{className:"my-16 ".concat(rA)}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 5: Manufacturing Overhead Budget"}),(0,r.jsx)("p",{className:"text-lg mb-12 leading-relaxed",children:"Calculate all manufacturing costs other than direct materials and direct labor"}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Overhead Approach"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(rU),children:"Choose your overhead calculation method"}),(0,r.jsxs)("div",{className:"flex gap-6 mb-8 flex-wrap",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"overheadApproach",checked:"simple"===e4,onChange:()=>e5("simple"),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm ".concat(rU),children:"Simple (Traditional costing)"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"overheadApproach",checked:"abc"===e4,onChange:()=>e5("abc"),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm ".concat(rU),children:"Activity-Based Costing (ABC)"})]})]}),"simple"===e4&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Variable & Fixed Overhead"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Variable Overhead Rate per Unit (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e6,onChange:e=>e8(e.target.value),placeholder:"5.00",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Variable overhead cost per unit produced"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Variable Overhead Rate per Labor Hour (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e7,onChange:e=>e9(e.target.value),placeholder:"3.00",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Variable overhead per direct labor hour (requires Schedule 4)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Fixed Overhead per Quarter (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:te,onChange:e=>tt(e.target.value),placeholder:"50000",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Fixed overhead costs per quarter"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:["Depreciation per Quarter (",m,")"]}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ta,onChange:e=>tr(e.target.value),placeholder:"10000",className:"w-full px-4 py-3 border ".concat(rk," text-base")}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(rU),children:"Non-cash depreciation expense"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Allocation Base (for predetermined overhead rate)"}),(0,r.jsxs)("select",{value:ts,onChange:e=>tl(e.target.value),className:"w-full px-4 py-3 border ".concat(rk," text-base"),children:[(0,r.jsx)("option",{value:"units",children:"Units Produced"}),(0,r.jsx)("option",{value:"labor-hours",children:"Direct Labor Hours"}),(0,r.jsx)("option",{value:"machine-hours",children:"Machine Hours"})]})]})]}),"abc"===e4&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-6 ".concat(rE),children:"Activity-Based Costing Data"}),(0,r.jsx)("p",{className:"text-sm mb-6 ".concat(rU),children:"Enter cost driver data for ABC analysis (Unit-level, Batch-level, Facility-level)"}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Batch-Level Costs (Production Runs)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q1 Runs"}),(0,r.jsx)("input",{type:"number",value:td,onChange:e=>tu(e.target.value),placeholder:"10",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q2 Runs"}),(0,r.jsx)("input",{type:"number",value:tm,onChange:e=>tq(e.target.value),placeholder:"12",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q3 Runs"}),(0,r.jsx)("input",{type:"number",value:tx,onChange:e=>tp(e.target.value),placeholder:"15",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q4 Runs"}),(0,r.jsx)("input",{type:"number",value:ty,onChange:e=>th(e.target.value),placeholder:"13",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Cost per Run"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:tb,onChange:e=>tg(e.target.value),placeholder:"1000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]})]})]}),(0,r.jsxs)("details",{className:"mb-8",children:[(0,r.jsx)("summary",{className:"text-lg font-semibold cursor-pointer ".concat(rE," hover:underline mb-4"),children:"Advanced ABC Inputs (click to expand)"}),(0,r.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-base font-semibold mb-3 ".concat(rE),children:"Product-Level Costs (Inspections)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q1"}),(0,r.jsx)("input",{type:"number",value:tv,onChange:e=>tf(e.target.value),placeholder:"5",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q2"}),(0,r.jsx)("input",{type:"number",value:tj,onChange:e=>tN(e.target.value),placeholder:"6",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q3"}),(0,r.jsx)("input",{type:"number",value:tS,onChange:e=>tC(e.target.value),placeholder:"7",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Q4"}),(0,r.jsx)("input",{type:"number",value:tP,onChange:e=>tF(e.target.value),placeholder:"6",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Cost/Inspection"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:tR,onChange:e=>tw(e.target.value),placeholder:"500",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-base font-semibold mb-3 ".concat(rE),children:"Facility-Level Costs (Quarterly)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Facility Rent"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:tM,onChange:e=>tO(e.target.value),placeholder:"20000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Facility Insurance"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:tW,onChange:e=>tH(e.target.value),placeholder:"5000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Property Taxes"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:tG,onChange:e=>tY(e.target.value),placeholder:"3000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Supervisory Salaries"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:t_,onChange:e=>tX(e.target.value),placeholder:"15000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Support Staff"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:tK,onChange:e=>tZ(e.target.value),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Depreciation"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ta,onChange:e=>tr(e.target.value),placeholder:"10000",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-base font-semibold mb-3 ".concat(rE),children:"Unit-Level Costs"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Indirect Materials per Unit"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:t0,onChange:e=>t2(e.target.value),placeholder:"2.50",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-2 ".concat(rE),children:"Quality Control per Unit"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:t7,onChange:e=>t9(e.target.value),placeholder:"1.50",className:"w-full px-3 py-2 border ".concat(rk," text-sm")})]})]})]})]})]})]}),(0,r.jsx)("button",{onClick:rR,className:"".concat(rI," font-medium px-8 py-3 text-lg mt-4"),children:"Calculate Manufacturing Overhead"}),ad.length>0&&(0,r.jsx)("div",{className:"mt-6 space-y-3",children:ad.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:ad.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e},t))})]})})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"Manufacturing Overhead Results"}),ao&&(0,r.jsx)("button",{onClick:()=>{if(!ao)return;let e="".concat(l||"Your Company"," - ").concat(d||"Product","\n");e+="Schedule 5: Manufacturing Overhead Budget\n",e+="For the Year Ending December 31, ".concat(x,"\n\n"),e+=ao.headers.join(",")+"\n",ao.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download","manufacturing-overhead-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!ao&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Production Budget first, then enter overhead data and click Calculate Manufacturing Overhead"}),ao&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-6 ".concat(rU),children:["For the Year Ending December 31, ",x]}),(0,r.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:ao.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:ao.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-mono",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-right text-sm font-semibold font-mono",children:e.yearly})]},a))})]})}),ao.overheadPerUnit&&(0,r.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(rE),children:"Cost Metrics"}),(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Overhead per Unit:"})," ",m," ",ao.overheadPerUnit.yearly.toFixed(2)]}),ao.predeterminedRate&&(0,r.jsxs)("p",{className:"text-sm ".concat(rU),children:[(0,r.jsx)("strong",{children:"Predetermined Overhead Rate:"})," ",m," ",ao.predeterminedRate.toFixed(2)," per ","units"===ts?"unit":"labor-hours"===ts?"labor hour":"machine hour"]})]}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" Manufacturing Overhead Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the Manufacturing Overhead Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Manufacturing Overhead Budget calculates all manufacturing costs other than direct materials and direct labor, including indirect materials, indirect labor, utilities, depreciation, and facility costs."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Total Manufacturing Overhead = Variable Overhead + Fixed Overhead; Cash Disbursements = Total Overhead  Depreciation"]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 6: Selling, General & Administrative (SG&A) Expense Budget"}),(0,r.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The SG&A Expense Budget plans all non-manufacturing operating expenses including sales commissions, marketing, distribution, and administrative costs."}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Select Approach"}),(0,r.jsxs)("div",{className:"flex gap-6 mb-4 flex-wrap",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"sgaApproach",checked:"simple"===am,onChange:()=>aq("simple"),className:"mr-2"}),(0,r.jsx)("span",{children:"Simple (Percentage-based)"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"sgaApproach",checked:"detailed"===am,onChange:()=>aq("detailed"),className:"mr-2"}),(0,r.jsx)("span",{children:"Detailed (Line-by-line)"})]})]})]}),"simple"===am&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Simple Approach Inputs"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Variable Selling Expense Rate (% of sales)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ay,onChange:e=>ah(e.target.value),placeholder:"0.05 (5%)",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Variable Admin Expense Rate (% of sales)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ab,onChange:e=>ag(e.target.value),placeholder:"0.03 (3%)",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Fixed Selling Expense per Quarter ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:av,onChange:e=>af(e.target.value),placeholder:"50000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Fixed Admin Expense per Quarter ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aj,onChange:e=>aN(e.target.value),placeholder:"75000",className:"w-full px-4 py-2 border ".concat(rk)})]})]})]}),"detailed"===am&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Selling Expenses"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Commission Rate (% of revenue)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aS,onChange:e=>aC(e.target.value),placeholder:"0.05 (5%)",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Distribution Cost per Unit ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aR,onChange:e=>aw(e.target.value),placeholder:"2.50",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Distribution Fixed Cost per Quarter ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aQ,onChange:e=>aU(e.target.value),placeholder:"15000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Customer Service Salaries per Quarter ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aE,onChange:e=>ak(e.target.value),placeholder:"25000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Warranty Expense per Unit ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aI,onChange:e=>aA(e.target.value),placeholder:"1.00",className:"w-full px-4 py-2 border ".concat(rk)})]})]}),(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Marketing Expenses (per Quarter)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Advertising Budget ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aD,onChange:e=>aB(e.target.value),placeholder:"20000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Brand Development ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aL,onChange:e=>aT(e.target.value),placeholder:"10000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Marketing Campaigns ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aM,onChange:e=>aO(e.target.value),placeholder:"15000",className:"w-full px-4 py-2 border ".concat(rk)})]})]}),(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Administrative Expenses (per Quarter)"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Executive Salaries ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aW,onChange:e=>aH(e.target.value),placeholder:"150000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Finance Salaries ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aG,onChange:e=>aY(e.target.value),placeholder:"50000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"HR Salaries ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aJ,onChange:e=>az(e.target.value),placeholder:"40000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"IT Salaries ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aV,onChange:e=>a$(e.target.value),placeholder:"60000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Office Rent ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:a_,onChange:e=>aX(e.target.value),placeholder:"30000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Utilities ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:aK,onChange:e=>aZ(e.target.value),placeholder:"5000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Software Licenses ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:a0,onChange:e=>a2(e.target.value),placeholder:"10000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Telecommunications ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:a1,onChange:e=>a3(e.target.value),placeholder:"3000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Office Supplies ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:a4,onChange:e=>a5(e.target.value),placeholder:"2000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Legal Fees ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:a6,onChange:e=>a8(e.target.value),placeholder:"8000",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Bad Debt Rate (% of sales)"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:a7,onChange:e=>a9(e.target.value),placeholder:"0.02 (2%)",className:"w-full px-4 py-2 border ".concat(rk)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Depreciation - Office Equipment ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:re,onChange:e=>rt(e.target.value),placeholder:"5000",className:"w-full px-4 py-2 border ".concat(rk)})]})]})]}),(0,r.jsx)("button",{onClick:rw,className:"".concat(rI," font-medium px-6 py-3 mb-6"),children:"Calculate SG&A Expenses"}),rs.length>0&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[rs.filter(e=>!e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-red-300":"text-red-800"),children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-red-400":"text-red-700"),children:rs.filter(e=>!e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),rs.filter(e=>e.startsWith("WARNING:")).length>0&&(0,r.jsxs)("div",{className:"p-4 ".concat(t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"," border"),children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-2 ".concat(t?"text-yellow-300":"text-yellow-800"),children:"Warnings:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-xs space-y-1 ".concat(t?"text-yellow-400":"text-yellow-700"),children:rs.filter(e=>e.startsWith("WARNING:")).map((e,t)=>(0,r.jsx)("li",{children:e.replace("WARNING: ","")},t))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"SG&A Expense Results"}),ra&&(0,r.jsx)("button",{onClick:()=>{if(!ra)return;let e="".concat(l||"Your Company"," - ").concat(d||"Product","\n");e+="Schedule 6: Selling, General & Administrative Expense Budget\n",e+="For the Year Ending December 31, ".concat(x,"\n\n"),e+=ra.headers.join(",")+"\n",ra.rows.forEach(t=>{let a=String(t.q1).replace(/,/g,""),r=String(t.q2).replace(/,/g,""),s=String(t.q3).replace(/,/g,""),l=String(t.q4).replace(/,/g,""),n=String(t.yearly).replace(/,/g,"");e+='"'.concat(t.label,'",').concat(a,",").concat(r,",").concat(s,",").concat(l,",").concat(n,"\n")});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download","sga-expense-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!ra&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter SG&A data and click Calculate SG&A Expenses"}),ra&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-6 ".concat(rU),children:["For the Year Ending December 31, ",x]}),(0,r.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:ra.headers.map((e,t)=>(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(0===t?"":"text-right"," ").concat(rE),children:e},t))})}),(0,r.jsx)("tbody",{children:ra.rows.map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.yearly})]},a))})]})}),ra.sgaAsPercentOfSales&&(0,r.jsxs)("div",{className:"p-4 border ".concat(t?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"," mb-6"),children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat(rE),children:"SG&A Metrics"}),(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"SG&A as % of Sales (Yearly):"})," ",(100*ra.sgaAsPercentOfSales.yearly).toFixed(2),"%"]}),ra.variableSGAPerUnit&&(0,r.jsxs)("p",{className:"text-sm mb-2 ".concat(rU),children:[(0,r.jsx)("strong",{children:"Variable SG&A per Unit:"})," ",m," ",ra.variableSGAPerUnit.yearly.toFixed(2)]}),ra.totalSGAPerUnit&&(0,r.jsxs)("p",{className:"text-sm ".concat(rU),children:[(0,r.jsx)("strong",{children:"Total SG&A per Unit:"})," ",m," ",ra.totalSGAPerUnit.yearly.toFixed(2)]})]}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" SG&A Expense Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the SG&A Expense Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Selling, General & Administrative Expense Budget plans all non-manufacturing operating expenses including sales commissions, marketing, distribution, and administrative overhead."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Total SG&A = Variable Expenses + Fixed Expenses; Variable includes commissions and distribution; Fixed includes salaries, rent, and utilities"]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4 ".concat(rE),children:"Schedule 8: Cash Receipts Budget"}),(0,r.jsx)("p",{className:"text-lg mb-8 leading-relaxed",children:"The Cash Receipts Budget calculates when cash is actually collected from sales, bridging the gap between accrual accounting (sales revenue) and cash accounting (actual cash received)."}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 ".concat(rE),children:"Collection Policy"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Percent Collected in Same Quarter"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:rn,onChange:e=>ri(e.target.value),placeholder:"0.70 (70%)",className:"w-full px-4 py-2 border ".concat(rk)}),(0,r.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.70 for 70% collected in same quarter"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Percent Collected in Next Quarter"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ro,onChange:e=>rc(e.target.value),placeholder:"0.28 (28%)",className:"w-full px-4 py-2 border ".concat(rk)}),(0,r.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.28 for 28% collected next quarter"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Percent Uncollectible (Bad Debt) - Optional"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:rd,onChange:e=>ru(e.target.value),placeholder:"0.02 (2%)",className:"w-full px-4 py-2 border ".concat(rk)}),(0,r.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"e.g., 0.02 for 2% bad debt allowance"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(rE),children:"Beginning Accounts Receivable ($)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:rm,onChange:e=>rq(e.target.value),placeholder:"25000",className:"w-full px-4 py-2 border ".concat(rk)}),(0,r.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Outstanding receivables at start of year"})]})]}),(0,r.jsx)("button",{onClick:rQ,className:"".concat(rI," font-medium px-8 py-3 text-lg"),children:"Calculate Cash Receipts"})]}),ry.length>0&&(0,r.jsxs)("div",{className:"mb-6 p-4 border border-red-500 bg-red-50 dark:bg-red-900/20",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-sm text-red-600 dark:text-red-300",children:ry.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),rb.length>0&&(0,r.jsxs)("div",{className:"mb-6 p-4 border border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:[(0,r.jsx)("h4",{className:"font-semibold text-yellow-700 dark:text-yellow-400 mb-2",children:"Warnings:"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-sm text-yellow-600 dark:text-yellow-300",children:rb.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold ".concat(rE),children:"Cash Receipts Results"}),rx&&(0,r.jsx)("button",{onClick:()=>{if(!rx)return;let e=new Blob([function(e,t,a,r){let s=o(e),l="".concat(t,"\n");return l+="Schedule 8: Cash Receipts Budget\n",l+="Product: ".concat(a,"\n"),l+="Fiscal Year: ".concat(r,"\n\n"),l+="Item,Q1,Q2,Q3,Q4,Yearly\n",s.forEach(e=>{l+='"'.concat(e.label,'",').concat(e.q1,",").concat(e.q2,",").concat(e.q3,",").concat(e.q4,",").concat(e.yearly,"\n")}),l}(rx,l||"Your Company",d||"Product",x)],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download","cash-receipts-budget-".concat(l.replace(/\s+/g,"-").toLowerCase()||"export",".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"".concat(rI," font-medium px-6 py-2 text-sm"),children:"Download CSV"})]}),!rx&&(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:"Calculate Sales Budget first, then enter cash receipts data and click Calculate Cash Receipts"}),rx&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg mb-2 ".concat(rE),children:[(0,r.jsx)("strong",{children:l||"Your Company"}),"  ",d||"Product"]}),(0,r.jsxs)("p",{className:"text-sm mb-6 ".concat(rU),children:["For the Year Ending December 31, ",x]}),(0,r.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b-2 ".concat(t?"border-gray-700":"border-gray-300"),children:[(0,r.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-sm ".concat(rE),children:"Item"}),(0,r.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(rE),children:"Q1"}),(0,r.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(rE),children:"Q2"}),(0,r.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(rE),children:"Q3"}),(0,r.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(rE),children:"Q4"}),(0,r.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-sm ".concat(rE),children:"Yearly"})]})}),(0,r.jsx)("tbody",{children:o(rx).map((e,a)=>(0,r.jsxs)("tr",{className:"border-b ".concat(t?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm ".concat(rE),children:e.label}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q1}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q2}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q3}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right",children:e.q4}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-right font-medium",children:e.yearly})]},a))})]})}),(0,r.jsx)("p",{className:"text-lg leading-relaxed",children:" Cash Receipts Budget calculated successfully"})]})]}),(0,r.jsx)("hr",{className:"my-12 ".concat(rA)}),(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-4 ".concat(rE),children:"About the Cash Receipts Budget"}),(0,r.jsx)("p",{className:"text-lg mb-4 leading-relaxed",children:"The Cash Receipts Budget shows when cash from sales is actually collected. It accounts for the timing difference between when a sale is made (revenue recognition) and when cash is received (cash collection)."}),(0,r.jsxs)("p",{className:"text-base leading-relaxed",children:[(0,r.jsx)("strong",{children:"Formula:"})," Total Cash Receipts = Cash Sales + (Credit Sales \xd7 % Collected Same Quarter) + (Prior Quarter Credit Sales \xd7 % Collected Next Quarter)"]})]}),(0,r.jsxs)("footer",{className:"max-w-5xl mx-auto px-6 py-12 border-t ".concat(rA," text-sm ").concat("text-gray-500"),children:[(0,r.jsx)("p",{children:"Built with Next.js, TypeScript, and Tailwind CSS"}),(0,r.jsx)("p",{className:"mt-2",children:"\xa9 2025 Budget Automation System"})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=7178)),_N_E=e.O()}]);